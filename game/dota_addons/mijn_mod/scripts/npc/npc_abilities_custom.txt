
// Dota Abilities Override File
"DOTAAbilities"
{
  "Version"   "1"
  
  "example_ability"
  {
    "ID"              "1852"
    "AbilityBehavior"       "DOTA_ABILITY_BEHAVIOR_NO_TARGET | DOTA_ABILITY_BEHAVIOR_CHANNELLED"
    "BaseClass"           "ability_datadriven"
    "AbilityTextureName"      "holdout_blade_fury"

    // Stats
    //-------------------------------------------------------------------------------------------------------------
    "AbilityCastRange"        "1000"
    "AbilityCastPoint"        "0.0"
    "AbilityCooldown"       "10.0"
    "AbilityChannelTime"      "2.0 1.8 1.6 1.5"
    "AbilityUnitDamageType"     "DAMAGE_TYPE_PURE"
    "AbilityCastAnimation"      "ACT_DOTA_DISABLED"
    "AbilityDamage"         "400 600 800 1000"
    
    "precache"
    {
      "particle"          "particles/econ/generic/generic_aoe_explosion_sphere_1/generic_aoe_explosion_sphere_1.vpcf"
      "soundfile"         "soundevents/game_sounds_heroes/game_sounds_gyrocopter.vsndevts"
    }

    // Item Info
    //-------------------------------------------------------------------------------------------------------------
    "AbilityManaCost"       "300"
    "SideShop"            "1"
    
    "OnSpellStart"
    {
      "ApplyModifier"
      {
        "Target"    "CASTER"
        "ModifierName"  "modifier_channel_start"
      }
      "FireSound"
      {
        "EffectName"    "Hero_Gyrocopter.CallDown.Fire"
        "Target"      "CASTER"
      }
    }
    
    "OnChannelSucceeded"
    {
      "RemoveModifier"
      {
        "Target"        "CASTER"
        "ModifierName"      "modifier_channel_start"
      }
      "AttachEffect"
      {
        "EffectName"      "particles/econ/generic/generic_aoe_explosion_sphere_1/generic_aoe_explosion_sphere_1.vpcf"
        "EffectAttachType"    "follow_origin"
        "EffectRadius"      "%radius"
        "EffectDurationScale" "1"
        "EffectLifeDurationScale" "1"
        "EffectColorA"      "255 0 0"
        "EffectColorB"      "255 0 0"
        "Target"      "CASTER"
      }
      
      "Damage"
      {
        "Type"          "DAMAGE_TYPE_PURE"
        "Damage"        "%damage"
        "Target"
        {
          "Center"      "CASTER"
          "Radius"      "%radius"
          "Teams"       "DOTA_UNIT_TARGET_TEAM_ENEMY"
          "Types"       "DOTA_UNIT_TARGET_HERO | DOTA_UNIT_TARGET_BASIC"
        }
      }
      
      "Knockback"
      {
        "Center"  "CASTER"
        "Target"
        {
          "Center"  "CASTER"
          "Radius"  "%radius"
          "Teams"   "DOTA_UNIT_TARGET_TEAM_ENEMY"
        }
        "Duration"  "%duration"
        "Distance"  "%distance"
        "Height"  "%height"
      }
      
      "FireSound"
      {
        "EffectName"    "Hero_Gyrocopter.CallDown.Damage"
        "Target"      "CASTER"
      }
    }
    
    "OnChannelFinish"
    {
      "RemoveModifier"
      {
        "Target"        "CASTER"
        "ModifierName"      "modifier_channel_start"
      }
    }
    
    "OnChannelInterrupted"
    {
      "RemoveModifier"
      {
        "Target"    "CASTER"
        "ModifierName"  "modifier_channel_start"
      }
    }
    
    "Modifiers"
    {
      "modifier_channel_start"
      {
        "OnCreated"
        {
          "AttachEffect"
          {
            "IsHidden" "1"
            "EffectName"    "particles/test_particle/channel_field_2.vpcf"//"gyro_calldown_marker_c"//"gyrocopter_call_down"
            "EffectAttachType"  "follow_origin"
            "Target"      "CASTER"
            
            "EffectRadius"      "%radius"
            "EffectColorA"      "255 0 0"
            "EffectColorB"      "255 0 0"
          
            "ControlPoints"
            {
              "00"    "50 100 5"
            }
          }
        }
      }
    }
    
    // Special  
    //-------------------------------------------------------------------------------------------------------------
    "AbilitySpecial"
    {
      "01"
      {
        "var_type"        "FIELD_FLOAT"
        "duration"        "0.5"
      }
      
      "02"
      {
        "var_type"        "FIELD_INTEGER"
        "damage"        "400 600 800 1000"
      }
      
      "03"
      {
        "var_type"        "FIELD_INTEGER"
        "radius"        "550 550 600 650"
      }
      
      "04"
      {
        "var_type"        "FIELD_INTEGER"
        "distance"        "400 500 600 700"
      }
      
      "05"
      {
        "var_type"        "FIELD_INTEGER"
        "height"        "100 200 300 400"
      }
    }
  }
  
//-------------------
// Dummy stuff
//-------------------
  
  "dummy_unit"
    {
    "AbilityBehavior"     "DOTA_ABILITY_BEHAVIOR_PASSIVE"
    "BaseClass"           "ability_datadriven"
    "AbilityTextureName"            "rubick_empty1"
    "MaxLevel"                      "1"
    
    "Modifiers"
      {
      "modifier_dummy_unit"
        {
          "Passive"                         "1"
          "IsHidden"                        "1"    
          "States"
            {
              "MODIFIER_STATE_UNSELECTABLE"   "MODIFIER_STATE_VALUE_ENABLED"
              "MODIFIER_STATE_INVULNERABLE"   "MODIFIER_STATE_VALUE_ENABLED"
              "MODIFIER_STATE_NO_HEALTH_BAR"  "MODIFIER_STATE_VALUE_ENABLED"
              "MODIFIER_STATE_INVISIBLE"      "MODIFIER_STATE_VALUE_ENABLED"
              "MODIFIER_STATE_NO_TEAM_MOVE_TO"  "MODIFIER_STATE_VALUE_ENABLED"
              "MODIFIER_STATE_COMMAND_RESTRICTED" "MODIFIER_STATE_VALUE_ENABLED"
              "MODIFIER_STATE_ATTACK_IMMUNE"  "MODIFIER_STATE_VALUE_ENABLED"
              "MODIFIER_STATE_STUNNED"        "MODIFIER_STATE_VALUE_ENABLED"
              "MODIFIER_STATE_NO_TEAM_SELECT" "MODIFIER_STATE_VALUE_ENABLED"
              "MODIFIER_STATE_OUT_OF_GAME"  "MODIFIER_STATE_VALUE_ENABLED"
              "MODIFIER_STATE_NOT_ON_MINIMAP" "MODIFIER_STATE_VALUE_ENABLED"
            }
        }
      }
    }
  
  "barebones_empty1"
    {
    // General
    //-------------------------------------------------------------------------------------------------------------
    //"ID"              "5343"                            // unique ID number for this ability.  Do not change this once established or it will invalidate collected stats.
    "AbilityBehavior"       "DOTA_ABILITY_BEHAVIOR_PASSIVE | DOTA_ABILITY_BEHAVIOR_NOT_LEARNABLE"
    "MaxLevel"            "0"
    "BaseClass"           "ability_datadriven"
    "AbilityTextureName"            "rubick_empty1"
    }
  
  "barebones_empty2"
    {
    // General
    //-------------------------------------------------------------------------------------------------------------
    //"ID"              "5343"                            // unique ID number for this ability.  Do not change this once established or it will invalidate collected stats.
    "AbilityBehavior"       "DOTA_ABILITY_BEHAVIOR_PASSIVE | DOTA_ABILITY_BEHAVIOR_NOT_LEARNABLE"
    "MaxLevel"            "0"
    "BaseClass"           "ability_datadriven"
    "AbilityTextureName"            "rubick_empty1"
    }
  
  "barebones_empty3"
  {
    // General
    //-------------------------------------------------------------------------------------------------------------
    //"ID"              "5343"                            // unique ID number for this ability.  Do not change this once established or it will invalidate collected stats.
    "AbilityBehavior"       "DOTA_ABILITY_BEHAVIOR_PASSIVE | DOTA_ABILITY_BEHAVIOR_NOT_LEARNABLE"
    "MaxLevel"            "0"
    "BaseClass"           "ability_datadriven"
    "AbilityTextureName"            "rubick_empty1"
  }
  
  "barebones_empty4"
  {
    // General
    //-------------------------------------------------------------------------------------------------------------
    //"ID"              "5343"                            // unique ID number for this ability.  Do not change this once established or it will invalidate collected stats.
    "AbilityBehavior"       "DOTA_ABILITY_BEHAVIOR_PASSIVE | DOTA_ABILITY_BEHAVIOR_NOT_LEARNABLE"
    "MaxLevel"            "0"
    "BaseClass"           "ability_datadriven"
    "AbilityTextureName"            "rubick_empty1"
  }
  
  "barebones_empty5"
  {
    // General
    //-------------------------------------------------------------------------------------------------------------
    //"ID"              "5343"                            // unique ID number for this ability.  Do not change this once established or it will invalidate collected stats.
    "AbilityBehavior"       "DOTA_ABILITY_BEHAVIOR_PASSIVE | DOTA_ABILITY_BEHAVIOR_NOT_LEARNABLE"
    "MaxLevel"            "0"
    "BaseClass"           "ability_datadriven"
    "AbilityTextureName"            "rubick_empty1"
  }
  
  "barebones_empty6"
  {
    // General
    //-------------------------------------------------------------------------------------------------------------
    //"ID"              "5343"                            // unique ID number for this ability.  Do not change this once established or it will invalidate collected stats.
    "AbilityBehavior"       "DOTA_ABILITY_BEHAVIOR_PASSIVE | DOTA_ABILITY_BEHAVIOR_NOT_LEARNABLE"
    "MaxLevel"            "0"
    "BaseClass"           "ability_datadriven"
    "AbilityTextureName"            "rubick_empty1"
  }


  
//-------------------
// Dummy stuff
//-------------------
  
  "dummy_unit_state"
  {
    "AbilityBehavior"         "DOTA_ABILITY_BEHAVIOR_HIDDEN"
    "BaseClass"           "ability_datadriven"
    "AbilityTextureName"            "rubick_empty1"
    "MaxLevel"                      "1"

    "Modifiers"
    {
      "modifier_dummy_unit_"
      {
        "Passive"                        "1"
        "IsHidden"                       "1"    
        "States"
        {
          "MODIFIER_STATE_UNSELECTABLE"   "MODIFIER_STATE_VALUE_ENABLED"
          "MODIFIER_STATE_INVULNERABLE"   "MODIFIER_STATE_VALUE_ENABLED"
          "MODIFIER_STATE_NOT_ON_MINIMAP"   "MODIFIER_STATE_VALUE_ENABLED"
          "MODIFIER_STATE_NO_HEALTH_BAR"    "MODIFIER_STATE_VALUE_ENABLED"
          "MODIFIER_STATE_NO_UNIT_COLLISION"  "MODIFIER_STATE_VALUE_ENABLED"
          "MODIFIER_STATE_OUT_OF_GAME"    "MODIFIER_STATE_VALUE_ENABLED"
        }
      }
    }
  }

  //+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
  //  [ATTR]    ATTRIBUTE BONUSES
  //+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++

  //=================================================================================================================
  // Attribute Bonus (STR)
  //=================================================================================================================
  "attribute_bonus_str"
  {
    // General
    //-------------------------------------------------------------------------------------------------------------
    "AbilityType"         "DOTA_ABILITY_TYPE_ATTRIBUTES"
    "AbilityBehavior"       "DOTA_ABILITY_BEHAVIOR_PASSIVE"
    "BaseClass"           "ability_datadriven"
    "AbilityTextureName"      "attribute_bonus"
    
    // Special
    //-------------------------------------------------------------------------------------------------------------
    "Modifiers"
    {
      "attribute_bonus_str"
      {
        "Passive"   "1"
        "IsHidden"    "1"
        
        "Properties"
        {
          "MODIFIER_PROPERTY_STATS_STRENGTH_BONUS"    "%main_attribute_bonus"
          "MODIFIER_PROPERTY_STATS_INTELLECT_BONUS"   "%secondary_attribute_bonus"
          "MODIFIER_PROPERTY_STATS_AGILITY_BONUS"     "%secondary_attribute_bonus"
        }
      }
    }   
    
    "AbilitySpecial"
    {
      "01"
      {
        "var_type"            "FIELD_INTEGER"
        "main_attribute_bonus"      "4 8 12 16 20 24 28 32 36 40"
      }
      "02"
      {
        "var_type"            "FIELD_INTEGER"
        "secondary_attribute_bonus"   "3 5 8 10 13 15 18 20 23 25"
      }
    }
  }
  
  //=================================================================================================================
  // Attribute Bonus (INT)
  //=================================================================================================================
  "attribute_bonus_int"
  {
    // General
    //-------------------------------------------------------------------------------------------------------------
    "AbilityType"         "DOTA_ABILITY_TYPE_ATTRIBUTES"
    "AbilityBehavior"       "DOTA_ABILITY_BEHAVIOR_PASSIVE"
    "BaseClass"           "ability_datadriven"
    "AbilityTextureName"      "attribute_bonus"
    
    // Special
    //-------------------------------------------------------------------------------------------------------------
    "Modifiers"
    {
      "attribute_bonus_int"
      {
        "Passive"   "1"
        "IsHidden"    "1"
        
        "Properties"
        {
          "MODIFIER_PROPERTY_STATS_STRENGTH_BONUS"    "%secondary_attribute_bonus"
          "MODIFIER_PROPERTY_STATS_INTELLECT_BONUS"   "%main_attribute_bonus"
          "MODIFIER_PROPERTY_STATS_AGILITY_BONUS"     "%secondary_attribute_bonus"
        }
      }
    }   
    
    "AbilitySpecial"
    {
      "01"
      {
        "var_type"            "FIELD_INTEGER"
        "main_attribute_bonus"      "5 10 15 20 25 30 35 40 45 50"
      }
      "02"
      {
        "var_type"            "FIELD_INTEGER"
        "secondary_attribute_bonus"   "3 5 8 10 13 15 18 20 23 25"
      }
    }
  }
  
  //=================================================================================================================
  // Attribute Bonus (AGI)
  //=================================================================================================================
  "attribute_bonus_agi"
  {
    // General
    //-------------------------------------------------------------------------------------------------------------
    "AbilityType"         "DOTA_ABILITY_TYPE_ATTRIBUTES"
    "AbilityBehavior"       "DOTA_ABILITY_BEHAVIOR_PASSIVE"
    "BaseClass"           "ability_datadriven"
    "AbilityTextureName"      "attribute_bonus"
    
    // Special
    //-------------------------------------------------------------------------------------------------------------
    "Modifiers"
    {
      "attribute_bonus_agi"
      {
        "Passive"   "1"
        "IsHidden"    "1"
        
        "Properties"
        {
          "MODIFIER_PROPERTY_STATS_STRENGTH_BONUS"    "%secondary_attribute_bonus"
          "MODIFIER_PROPERTY_STATS_INTELLECT_BONUS"   "%secondary_attribute_bonus"
          "MODIFIER_PROPERTY_STATS_AGILITY_BONUS"     "%main_attribute_bonus"
        }
      }
    }   
    
    "AbilitySpecial"
    {
      "01"
      {
        "var_type"            "FIELD_INTEGER"
        "main_attribute_bonus"      "5 10 15 20 25 30 35 40 45 50"
      }
      "02"
      {
        "var_type"            "FIELD_INTEGER"
        "secondary_attribute_bonus"   "3 5 8 10 13 15 18 20 23 25"
      }
    }
  }

  //+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
  //  [ROMG]    RANDOM OMG STUFF
  //+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++

  //=================================================================================================================
  // Attribute Bonus (STR) - Random OMG 3a2u
  //=================================================================================================================
  "attribute_bonus_str_random_omg_3a2u"
  {
    // General
    //-------------------------------------------------------------------------------------------------------------
    "AbilityType"         "DOTA_ABILITY_TYPE_ATTRIBUTES"
    "AbilityBehavior"       "DOTA_ABILITY_BEHAVIOR_PASSIVE"
    "BaseClass"           "ability_datadriven"
    "AbilityTextureName"      "attribute_bonus"
    "MaxLevel"            "7"
    
    // Special
    //-------------------------------------------------------------------------------------------------------------
    "Modifiers"
    {
      "attribute_bonus_str"
      {
        "Passive"   "1"
        "IsHidden"    "1"
        
        "Properties"
        {
          "MODIFIER_PROPERTY_STATS_STRENGTH_BONUS"    "%main_attribute_bonus"
          "MODIFIER_PROPERTY_STATS_INTELLECT_BONUS"   "%secondary_attribute_bonus"
          "MODIFIER_PROPERTY_STATS_AGILITY_BONUS"     "%secondary_attribute_bonus"
        }
      }
    }   
    
    "AbilitySpecial"
    {
      "01"
      {
        "var_type"            "FIELD_INTEGER"
        "main_attribute_bonus"      "5 10 14 19 23 28 32"
      }
      "02"
      {
        "var_type"            "FIELD_INTEGER"
        "secondary_attribute_bonus"   "3 6 8 11 13 16 18"
      }
    }
  }
  
  //=================================================================================================================
  // Attribute Bonus (INT) - Random OMG 3a2u
  //=================================================================================================================
  "attribute_bonus_int_random_omg_3a2u"
  {
    // General
    //-------------------------------------------------------------------------------------------------------------
    "AbilityType"         "DOTA_ABILITY_TYPE_ATTRIBUTES"
    "AbilityBehavior"       "DOTA_ABILITY_BEHAVIOR_PASSIVE"
    "BaseClass"           "ability_datadriven"
    "AbilityTextureName"      "attribute_bonus"
    "MaxLevel"            "7"
    
    // Special
    //-------------------------------------------------------------------------------------------------------------
    "Modifiers"
    {
      "attribute_bonus_int"
      {
        "Passive"   "1"
        "IsHidden"    "1"
        
        "Properties"
        {
          "MODIFIER_PROPERTY_STATS_STRENGTH_BONUS"    "%secondary_attribute_bonus"
          "MODIFIER_PROPERTY_STATS_INTELLECT_BONUS"   "%main_attribute_bonus"
          "MODIFIER_PROPERTY_STATS_AGILITY_BONUS"     "%secondary_attribute_bonus"
        }
      }
    }   
    
    "AbilitySpecial"
    {
      "01"
      {
        "var_type"            "FIELD_INTEGER"
        "main_attribute_bonus"      "6 12 18 23 29 35 40"
      }
      "02"
      {
        "var_type"            "FIELD_INTEGER"
        "secondary_attribute_bonus"   "3 6 8 11 13 16 18"
      }
    }
  }
  
  //=================================================================================================================
  // Attribute Bonus (AGI) - Random OMG 3a2u
  //=================================================================================================================
  "attribute_bonus_agi_random_omg_3a2u"
  {
    // General
    //-------------------------------------------------------------------------------------------------------------
    "AbilityType"         "DOTA_ABILITY_TYPE_ATTRIBUTES"
    "AbilityBehavior"       "DOTA_ABILITY_BEHAVIOR_PASSIVE"
    "BaseClass"           "ability_datadriven"
    "AbilityTextureName"      "attribute_bonus"
    "MaxLevel"            "7"
    
    // Special
    //-------------------------------------------------------------------------------------------------------------
    "Modifiers"
    {
      "attribute_bonus_agi"
      {
        "Passive"   "1"
        "IsHidden"    "1"
        
        "Properties"
        {
          "MODIFIER_PROPERTY_STATS_STRENGTH_BONUS"    "%secondary_attribute_bonus"
          "MODIFIER_PROPERTY_STATS_INTELLECT_BONUS"   "%secondary_attribute_bonus"
          "MODIFIER_PROPERTY_STATS_AGILITY_BONUS"     "%main_attribute_bonus"
        }
      }
    }   
    
    "AbilitySpecial"
    {
      "01"
      {
        "var_type"            "FIELD_INTEGER"
        "main_attribute_bonus"      "6 12 18 23 29 35 40"
      }
      "02"
      {
        "var_type"            "FIELD_INTEGER"
        "secondary_attribute_bonus"   "3 6 8 11 13 16 18"
      }
    }
  }

  //=================================================================================================================
  // Attribute Bonus (STR) - Random OMG 4a1u
  //=================================================================================================================
  "attribute_bonus_str_random_omg_4a1u"
  {
    // General
    //-------------------------------------------------------------------------------------------------------------
    "AbilityType"         "DOTA_ABILITY_TYPE_ATTRIBUTES"
    "AbilityBehavior"       "DOTA_ABILITY_BEHAVIOR_PASSIVE"
    "BaseClass"           "ability_datadriven"
    "AbilityTextureName"      "attribute_bonus"
    "MaxLevel"            "6"
    
    // Special
    //-------------------------------------------------------------------------------------------------------------
    "Modifiers"
    {
      "attribute_bonus_str"
      {
        "Passive"   "1"
        "IsHidden"    "1"
        
        "Properties"
        {
          "MODIFIER_PROPERTY_STATS_STRENGTH_BONUS"    "%main_attribute_bonus"
          "MODIFIER_PROPERTY_STATS_INTELLECT_BONUS"   "%secondary_attribute_bonus"
          "MODIFIER_PROPERTY_STATS_AGILITY_BONUS"     "%secondary_attribute_bonus"
        }
      }
    }   
    
    "AbilitySpecial"
    {
      "01"
      {
        "var_type"            "FIELD_INTEGER"
        "main_attribute_bonus"      "5 10 15 20 25 30"
      }
      "02"
      {
        "var_type"            "FIELD_INTEGER"
        "secondary_attribute_bonus"   "3 6 9 12 15 18"
      }
    }
  }
  
  //=================================================================================================================
  // Attribute Bonus (INT) - Random OMG 4a1u
  //=================================================================================================================
  "attribute_bonus_int_random_omg_4a1u"
  {
    // General
    //-------------------------------------------------------------------------------------------------------------
    "AbilityType"         "DOTA_ABILITY_TYPE_ATTRIBUTES"
    "AbilityBehavior"       "DOTA_ABILITY_BEHAVIOR_PASSIVE"
    "BaseClass"           "ability_datadriven"
    "AbilityTextureName"      "attribute_bonus"
    "MaxLevel"            "6"
    
    // Special
    //-------------------------------------------------------------------------------------------------------------
    "Modifiers"
    {
      "attribute_bonus_int"
      {
        "Passive"   "1"
        "IsHidden"    "1"
        
        "Properties"
        {
          "MODIFIER_PROPERTY_STATS_STRENGTH_BONUS"    "%secondary_attribute_bonus"
          "MODIFIER_PROPERTY_STATS_INTELLECT_BONUS"   "%main_attribute_bonus"
          "MODIFIER_PROPERTY_STATS_AGILITY_BONUS"     "%secondary_attribute_bonus"
        }
      }
    }   
    
    "AbilitySpecial"
    {
      "01"
      {
        "var_type"            "FIELD_INTEGER"
        "main_attribute_bonus"      "6 12 18 24 30 36"
      }
      "02"
      {
        "var_type"            "FIELD_INTEGER"
        "secondary_attribute_bonus"   "3 6 9 12 15 18"
      }
    }
  }
  
  //=================================================================================================================
  // Attribute Bonus (AGI) - Random OMG 4a1u
  //=================================================================================================================
  "attribute_bonus_agi_random_omg_4a1u"
  {
    // General
    //-------------------------------------------------------------------------------------------------------------
    "AbilityType"         "DOTA_ABILITY_TYPE_ATTRIBUTES"
    "AbilityBehavior"       "DOTA_ABILITY_BEHAVIOR_PASSIVE"
    "BaseClass"           "ability_datadriven"
    "AbilityTextureName"      "attribute_bonus"
    "MaxLevel"            "6"
    
    // Special
    //-------------------------------------------------------------------------------------------------------------
    "Modifiers"
    {
      "attribute_bonus_agi"
      {
        "Passive"   "1"
        "IsHidden"    "1"
        
        "Properties"
        {
          "MODIFIER_PROPERTY_STATS_STRENGTH_BONUS"    "%secondary_attribute_bonus"
          "MODIFIER_PROPERTY_STATS_INTELLECT_BONUS"   "%secondary_attribute_bonus"
          "MODIFIER_PROPERTY_STATS_AGILITY_BONUS"     "%main_attribute_bonus"
        }
      }
    }   
    
    "AbilitySpecial"
    {
      "01"
      {
        "var_type"            "FIELD_INTEGER"
        "main_attribute_bonus"      "6 12 18 24 30 36"
      }
      "02"
      {
        "var_type"            "FIELD_INTEGER"
        "secondary_attribute_bonus"   "3 6 9 12 15 18"
      }
    }
  }

  //=================================================================================================================
  // Attribute Bonus (STR) - Random OMG 4a2u
  //=================================================================================================================
  "attribute_bonus_str_random_omg_4a2u"
  {
    // General
    //-------------------------------------------------------------------------------------------------------------
    "AbilityType"         "DOTA_ABILITY_TYPE_ATTRIBUTES"
    "AbilityBehavior"       "DOTA_ABILITY_BEHAVIOR_PASSIVE"
    "BaseClass"           "ability_datadriven"
    "AbilityTextureName"      "attribute_bonus"
    "MaxLevel"            "3"
    
    // Special
    //-------------------------------------------------------------------------------------------------------------
    "Modifiers"
    {
      "attribute_bonus_str"
      {
        "Passive"   "1"
        "IsHidden"    "1"
        
        "Properties"
        {
          "MODIFIER_PROPERTY_STATS_STRENGTH_BONUS"    "%main_attribute_bonus"
          "MODIFIER_PROPERTY_STATS_INTELLECT_BONUS"   "%secondary_attribute_bonus"
          "MODIFIER_PROPERTY_STATS_AGILITY_BONUS"     "%secondary_attribute_bonus"
        }
      }
    }   
    
    "AbilitySpecial"
    {
      "01"
      {
        "var_type"            "FIELD_INTEGER"
        "main_attribute_bonus"      "6 11 16"
      }
      "02"
      {
        "var_type"            "FIELD_INTEGER"
        "secondary_attribute_bonus"   "4 7 10"
      }
    }
  }
  
  //=================================================================================================================
  // Attribute Bonus (INT) - Random OMG 4a2u
  //=================================================================================================================
  "attribute_bonus_int_random_omg_4a2u"
  {
    // General
    //-------------------------------------------------------------------------------------------------------------
    "AbilityType"         "DOTA_ABILITY_TYPE_ATTRIBUTES"
    "AbilityBehavior"       "DOTA_ABILITY_BEHAVIOR_PASSIVE"
    "BaseClass"           "ability_datadriven"
    "AbilityTextureName"      "attribute_bonus"
    "MaxLevel"            "3"
    
    // Special
    //-------------------------------------------------------------------------------------------------------------
    "Modifiers"
    {
      "attribute_bonus_int"
      {
        "Passive"   "1"
        "IsHidden"    "1"
        
        "Properties"
        {
          "MODIFIER_PROPERTY_STATS_STRENGTH_BONUS"    "%secondary_attribute_bonus"
          "MODIFIER_PROPERTY_STATS_INTELLECT_BONUS"   "%main_attribute_bonus"
          "MODIFIER_PROPERTY_STATS_AGILITY_BONUS"     "%secondary_attribute_bonus"
        }
      }
    }   
    
    "AbilitySpecial"
    {
      "01"
      {
        "var_type"            "FIELD_INTEGER"
        "main_attribute_bonus"      "7 14 20"
      }
      "02"
      {
        "var_type"            "FIELD_INTEGER"
        "secondary_attribute_bonus"   "4 7 10"
      }
    }
  }
  
  //=================================================================================================================
  // Attribute Bonus (AGI) - Random OMG 4a2u
  //=================================================================================================================
  "attribute_bonus_agi_random_omg_4a2u"
  {
    // General
    //-------------------------------------------------------------------------------------------------------------
    "AbilityType"         "DOTA_ABILITY_TYPE_ATTRIBUTES"
    "AbilityBehavior"       "DOTA_ABILITY_BEHAVIOR_PASSIVE"
    "BaseClass"           "ability_datadriven"
    "AbilityTextureName"      "attribute_bonus"
    "MaxLevel"            "3"
    
    // Special
    //-------------------------------------------------------------------------------------------------------------
    "Modifiers"
    {
      "attribute_bonus_agi"
      {
        "Passive"   "1"
        "IsHidden"    "1"
        
        "Properties"
        {
          "MODIFIER_PROPERTY_STATS_STRENGTH_BONUS"    "%secondary_attribute_bonus"
          "MODIFIER_PROPERTY_STATS_INTELLECT_BONUS"   "%secondary_attribute_bonus"
          "MODIFIER_PROPERTY_STATS_AGILITY_BONUS"     "%main_attribute_bonus"
        }
      }
    }   
    
    "AbilitySpecial"
    {
      "01"
      {
        "var_type"            "FIELD_INTEGER"
        "main_attribute_bonus"      "7 14 20"
      }
      "02"
      {
        "var_type"            "FIELD_INTEGER"
        "secondary_attribute_bonus"   "4 7 10"
      }
    }
  }

  //=================================================================================================================
  // Attribute Bonus (STR) - Random OMG 5a1u
  //=================================================================================================================
  "attribute_bonus_str_random_omg_5a1u"
  {
    // General
    //-------------------------------------------------------------------------------------------------------------
    "AbilityType"         "DOTA_ABILITY_TYPE_ATTRIBUTES"
    "AbilityBehavior"       "DOTA_ABILITY_BEHAVIOR_PASSIVE"
    "BaseClass"           "ability_datadriven"
    "AbilityTextureName"      "attribute_bonus"
    "MaxLevel"            "2"
    
    // Special
    //-------------------------------------------------------------------------------------------------------------
    "Modifiers"
    {
      "attribute_bonus_str"
      {
        "Passive"   "1"
        "IsHidden"    "1"
        
        "Properties"
        {
          "MODIFIER_PROPERTY_STATS_STRENGTH_BONUS"    "%main_attribute_bonus"
          "MODIFIER_PROPERTY_STATS_INTELLECT_BONUS"   "%secondary_attribute_bonus"
          "MODIFIER_PROPERTY_STATS_AGILITY_BONUS"     "%secondary_attribute_bonus"
        }
      }
    }   
    
    "AbilitySpecial"
    {
      "01"
      {
        "var_type"            "FIELD_INTEGER"
        "main_attribute_bonus"      "6 12"
      }
      "02"
      {
        "var_type"            "FIELD_INTEGER"
        "secondary_attribute_bonus"   "4 8"
      }
    }
  }
  
  //=================================================================================================================
  // Attribute Bonus (INT) - Random OMG 5a1u
  //=================================================================================================================
  "attribute_bonus_int_random_omg_5a1u"
  {
    // General
    //-------------------------------------------------------------------------------------------------------------
    "AbilityType"         "DOTA_ABILITY_TYPE_ATTRIBUTES"
    "AbilityBehavior"       "DOTA_ABILITY_BEHAVIOR_PASSIVE"
    "BaseClass"           "ability_datadriven"
    "AbilityTextureName"      "attribute_bonus"
    "MaxLevel"            "2"
    
    // Special
    //-------------------------------------------------------------------------------------------------------------
    "Modifiers"
    {
      "attribute_bonus_int"
      {
        "Passive"   "1"
        "IsHidden"    "1"
        
        "Properties"
        {
          "MODIFIER_PROPERTY_STATS_STRENGTH_BONUS"    "%secondary_attribute_bonus"
          "MODIFIER_PROPERTY_STATS_INTELLECT_BONUS"   "%main_attribute_bonus"
          "MODIFIER_PROPERTY_STATS_AGILITY_BONUS"     "%secondary_attribute_bonus"
        }
      }
    }   
    
    "AbilitySpecial"
    {
      "01"
      {
        "var_type"            "FIELD_INTEGER"
        "main_attribute_bonus"      "8 15"
      }
      "02"
      {
        "var_type"            "FIELD_INTEGER"
        "secondary_attribute_bonus"   "4 8"
      }
    }
  }
  
  //=================================================================================================================
  // Attribute Bonus (AGI) - Random OMG 5a1u
  //=================================================================================================================
  "attribute_bonus_agi_random_omg_5a1u"
  {
    // General
    //-------------------------------------------------------------------------------------------------------------
    "AbilityType"         "DOTA_ABILITY_TYPE_ATTRIBUTES"
    "AbilityBehavior"       "DOTA_ABILITY_BEHAVIOR_PASSIVE"
    "BaseClass"           "ability_datadriven"
    "AbilityTextureName"      "attribute_bonus"
    "MaxLevel"            "2"
    
    // Special
    //-------------------------------------------------------------------------------------------------------------
    "Modifiers"
    {
      "attribute_bonus_agi"
      {
        "Passive"   "1"
        "IsHidden"    "1"
        
        "Properties"
        {
          "MODIFIER_PROPERTY_STATS_STRENGTH_BONUS"    "%secondary_attribute_bonus"
          "MODIFIER_PROPERTY_STATS_INTELLECT_BONUS"   "%secondary_attribute_bonus"
          "MODIFIER_PROPERTY_STATS_AGILITY_BONUS"     "%main_attribute_bonus"
        }
      }
    }   
    
    "AbilitySpecial"
    {
      "01"
      {
        "var_type"            "FIELD_INTEGER"
        "main_attribute_bonus"      "8 15"
      }
      "02"
      {
        "var_type"            "FIELD_INTEGER"
        "secondary_attribute_bonus"   "4 8"
      }
    }
  }

  //=================================================================================================================
  // Random OMG ability layout changer: 4 abilities
  //=================================================================================================================
  "random_omg_ability_layout_changer_4"
  {
    // General
    //-------------------------------------------------------------------------------------------------------------
    "AbilityType"         "DOTA_ABILITY_TYPE_ATTRIBUTES"
    "AbilityBehavior"       "DOTA_ABILITY_BEHAVIOR_PASSIVE | DOTA_ABILITY_BEHAVIOR_HIDDEN | DOTA_ABILITY_BEHAVIOR_NOT_LEARNABLE"
    "BaseClass"           "ability_datadriven"
    "AbilityTextureName"      "attribute_bonus"
    "MaxLevel"            "1"
    
    // Special
    //-------------------------------------------------------------------------------------------------------------
    "Modifiers"
    {
      "modifier_random_omg_ability_layout_changer_4"
      {
        "Passive"   "1"
        "IsHidden"    "1"

        "Attributes"  "MODIFIER_ATTRIBUTE_PERMANENT | MODIFIER_ATTRIBUTE_IGNORE_INVULNERABLE"
        
        "Properties"
        {
          "MODIFIER_PROPERTY_ABILITY_LAYOUT"      "4"
        }
      }
    }   
  }

  //=================================================================================================================
  // Random OMG ability layout changer: 5 abilities
  //=================================================================================================================
  "random_omg_ability_layout_changer_5"
  {
    // General
    //-------------------------------------------------------------------------------------------------------------
    "AbilityType"         "DOTA_ABILITY_TYPE_ATTRIBUTES"
    "AbilityBehavior"       "DOTA_ABILITY_BEHAVIOR_PASSIVE | DOTA_ABILITY_BEHAVIOR_HIDDEN | DOTA_ABILITY_BEHAVIOR_NOT_LEARNABLE"
    "BaseClass"           "ability_datadriven"
    "AbilityTextureName"      "attribute_bonus"
    "MaxLevel"            "1"
    
    // Special
    //-------------------------------------------------------------------------------------------------------------
    "Modifiers"
    {
      "modifier_random_omg_ability_layout_changer_5"
      {
        "Passive"   "1"
        "IsHidden"    "1"

        "Attributes"  "MODIFIER_ATTRIBUTE_PERMANENT | MODIFIER_ATTRIBUTE_IGNORE_INVULNERABLE"
        
        "Properties"
        {
          "MODIFIER_PROPERTY_ABILITY_LAYOUT"      "5"
        }
      }
    }   
  }

  //=================================================================================================================
  // Random OMG ability layout changer: 6 abilities
  //=================================================================================================================
  "random_omg_ability_layout_changer_6"
  {
    // General
    //-------------------------------------------------------------------------------------------------------------
    "AbilityType"         "DOTA_ABILITY_TYPE_ATTRIBUTES"
    "AbilityBehavior"       "DOTA_ABILITY_BEHAVIOR_PASSIVE | DOTA_ABILITY_BEHAVIOR_HIDDEN | DOTA_ABILITY_BEHAVIOR_NOT_LEARNABLE"
    "BaseClass"           "ability_datadriven"
    "AbilityTextureName"      "attribute_bonus"
    "MaxLevel"            "1"
    
    // Special
    //-------------------------------------------------------------------------------------------------------------
    "Modifiers"
    {
      "modifier_random_omg_ability_layout_changer_6"
      {
        "Passive"   "1"
        "IsHidden"    "1"

        "Attributes"  "MODIFIER_ATTRIBUTE_PERMANENT | MODIFIER_ATTRIBUTE_IGNORE_INVULNERABLE"
        
        "Properties"
        {
          "MODIFIER_PROPERTY_ABILITY_LAYOUT"      "6"
        }
      }
    }
  }

  //=================================================================================================================
  // Frantic mode buff
  //=================================================================================================================
  "imba_frantic_buff"
  {
    // General
    //-------------------------------------------------------------------------------------------------------------
    "AbilityBehavior"       "DOTA_ABILITY_BEHAVIOR_PASSIVE | DOTA_ABILITY_BEHAVIOR_HIDDEN | DOTA_ABILITY_BEHAVIOR_NOT_LEARNABLE"
    "BaseClass"           "ability_datadriven"
    "AbilityTextureName"      "rubick_empty1"
    "MaxLevel"            "1"
    
    // Special
    //-------------------------------------------------------------------------------------------------------------
    "Modifiers"
    {
      "modifier_imba_frantic_base"
      {
        "Passive"         "1"
        "IsHidden"          "1"
        "IsBuff"          "1"
        "IsPurgable"        "0"

        "ThinkInterval"       "0.2"

        "OnIntervalThink"
        {
          "RunScript"
          {
            "ScriptFile"    "hero/npc_upgrades.lua"
            "Function"      "FranticUpdate"

            "modifier_mana"   "modifier_imba_frantic_mana"
            "modifier_dummy"  "modifier_imba_frantic_mana_dummy"
          }
        }

        "OnCreated"
        {
          "RunScript"
          {
            "ScriptFile"    "hero/npc_upgrades.lua"
            "Function"      "Frantic"

            "modifier_cd"   "modifier_imba_frantic_cooldown"
            "modifier_mana"   "modifier_imba_frantic_mana"
          }
        }
      }

      "modifier_imba_frantic_cooldown"
      {
        "Passive"         "0"
        "IsHidden"          "1"
        "IsBuff"          "1"
        "IsPurgable"        "0"

        "Attributes"        "MODIFIER_ATTRIBUTE_PERMANENT | MODIFIER_ATTRIBUTE_IGNORE_INVULNERABLE"
        
        "Properties"
        {
          "MODIFIER_PROPERTY_COOLDOWN_PERCENTAGE"   "1"
        }
      }

      "modifier_imba_frantic_mana"
      {
        "Passive"         "0"
        "IsHidden"          "1"
        "IsBuff"          "1"
        "IsPurgable"        "0"

        "Attributes"        "MODIFIER_ATTRIBUTE_PERMANENT | MODIFIER_ATTRIBUTE_IGNORE_INVULNERABLE"
        
        "Properties"
        {
          "MODIFIER_PROPERTY_MANA_BONUS"        "1"
        }
      }

      "modifier_imba_frantic_mana_dummy"
      {
        "Passive"         "0"
        "IsHidden"          "1"
        "IsBuff"          "1"
        "IsPurgable"        "0"

        "Attributes"        "MODIFIER_ATTRIBUTE_PERMANENT | MODIFIER_ATTRIBUTE_IGNORE_INVULNERABLE"

        "Properties"
        {
          "MODIFIER_PROPERTY_MANA_BONUS"        "1"
        }
      }
    }
  }

  //+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
  //  [BUFF]    PASSIVE UPGRADES
  //+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++

  //=================================================================================================================
  // Ancient passive buffs
  //=================================================================================================================
  "imba_ancient_buffs"
  {
    // General
    //-------------------------------------------------------------------------------------------------------------
    "BaseClass"                   "ability_datadriven"
    "AbilityBehavior"               "DOTA_ABILITY_BEHAVIOR_PASSIVE | DOTA_ABILITY_BEHAVIOR_HIDDEN"
    "AbilityTextureName"              "rubick_empty1"
    "MaxLevel"                    "1"

    // Special
    //-------------------------------------------------------------------------------------------------------------
    "AbilitySpecial"
    {
      "01"
      {
        "var_type"                "FIELD_FLOAT"
        "regen_per_minute"            "3"
      }
      "02"
      {
        "var_type"                "FIELD_FLOAT"
        "armor_per_minute"            "0.5"
      }
    }

    "Modifiers"
    {
      "modifier_imba_ancient_buffs_base"
      {
        "Passive"               "1"
        "IsHidden"                "1"
        "IsBuff"                "1"
        "IsPurgable"              "0"

        "Attributes"              "MODIFIER_ATTRIBUTE_IGNORE_INVULNERABLE"

        "ThinkInterval"             "10.0"

        "OnIntervalThink"
        {
          "RunScript"
          {
            "ScriptFile"          "hero/npc_upgrades.lua"
            "Function"            "Upgrade"

            "modifier_stack"        "modifier_imba_ancient_buffs_stack"
          }
        }
      }

      "modifier_imba_ancient_buffs_stack"
      {
        "Passive"               "0"
        "IsHidden"                "1"
        "IsBuff"                "1"
        "IsPurgable"              "0"

        "Attributes"              "MODIFIER_ATTRIBUTE_IGNORE_INVULNERABLE"
    
        "Properties"
        {
          "MODIFIER_PROPERTY_HEALTH_REGEN_CONSTANT"     "%regen_per_minute"
          "MODIFIER_PROPERTY_PHYSICAL_ARMOR_BONUS"      "%armor_per_minute"
        }
      }
    }
  }

  //=================================================================================================================
  // Creep damage buff
  //=================================================================================================================
  "imba_creep_buffs"
  {
    // General
    //-------------------------------------------------------------------------------------------------------------
    "BaseClass"                   "ability_datadriven"
    "AbilityBehavior"               "DOTA_ABILITY_BEHAVIOR_PASSIVE | DOTA_ABILITY_BEHAVIOR_HIDDEN"
    "AbilityTextureName"              "rubick_empty1"
    "MaxLevel"                    "1"

    // Special
    //-------------------------------------------------------------------------------------------------------------
    "AbilitySpecial"
    {
      "01"
      {
        "var_type"                "FIELD_INTEGER"
        "structure_damage_per_minute"     "8"
      }
      "02"
      {
        "var_type"                "FIELD_INTEGER"
        "hero_damage_per_minute"        "6"
      }
    }

    "Modifiers"
    {
      "modifier_imba_creep_buffs_base"
      {
        "Passive"               "1"
        "IsHidden"                "1"
        "IsBuff"                "1"
        "IsPurgable"              "0"

        "Attributes"              "MODIFIER_ATTRIBUTE_IGNORE_INVULNERABLE"

        "OnAttackLanded"
        {
          "RunScript"
          {
            "ScriptFile"          "hero/npc_upgrades.lua"
            "Function"            "CreepStructureDamage"
          }
        }
      }
    }
  }

  //=================================================================================================================
  // Fountain buffs
  //=================================================================================================================
  "imba_fountain_buffs"
  {
    // General
    //-------------------------------------------------------------------------------------------------------------
    "BaseClass"                   "ability_datadriven"
    "AbilityBehavior"               "DOTA_ABILITY_BEHAVIOR_PASSIVE | DOTA_ABILITY_BEHAVIOR_HIDDEN"
    "AbilityTextureName"              "rubick_empty1"
    "MaxLevel"                    "1"

    // Special
    //-------------------------------------------------------------------------------------------------------------
    "AbilitySpecial"
    {
      "01"
      {
        "var_type"                "FIELD_INTEGER"
        "as_bonus"                "100"
      }
      "02"
      {
        "var_type"                "FIELD_INTEGER"
        "range_bonus"             "200"
      }
      "03"
      {
        "var_type"                "FIELD_INTEGER"
        "bash_radius"             "1700"
      }
      "04"
      {
        "var_type"                "FIELD_FLOAT"
        "bash_duration"             "0.3"
      }
      "05"
      {
        "var_type"                "FIELD_INTEGER"
        "bash_distance"             "200"
      }
      "06"
      {
        "var_type"                "FIELD_INTEGER"
        "bash_height"             "50"
      }
    }

    "Modifiers"
    {
      "modifier_imba_fountain_buffs"
      {
        "Passive"               "1"
        "IsHidden"                "1"
        "IsBuff"                "1"
        "IsPurgable"              "0"

        "Attributes"              "MODIFIER_ATTRIBUTE_IGNORE_INVULNERABLE"

        "ThinkInterval"             "0.9"

        "OnIntervalThink"
        {
          "RunScript"
          {
            "ScriptFile"          "hero/npc_upgrades.lua"
            "Function"            "FountainParticle"

            "particle_danger"       "particles/ambient/fountain_danger_circle.vpcf"
          }
        }

        "OnAttackLanded"
        {
          "RunScript"
          {
            "ScriptFile"          "hero/npc_upgrades.lua"
            "Function"            "FountainBash"

            "particle_bash"         "particles/units/heroes/hero_spirit_breaker/spirit_breaker_greater_bash.vpcf"
            "sound_bash"          "Hero_Spirit_Breaker.GreaterBash.Creep"
          }
        }

        "Properties"
        {
          "MODIFIER_PROPERTY_ATTACK_RANGE_BONUS"        "%range_bonus"
          "MODIFIER_PROPERTY_ATTACKSPEED_BONUS_CONSTANT"    "%as_bonus" 
        }

        "States"
        {
          "MODIFIER_STATE_CANNOT_MISS"    "MODIFIER_STATE_VALUE_ENABLED"
          "MODIFIER_STATE_FLYING"       "MODIFIER_STATE_VALUE_ENABLED"
          "MODIFIER_STATE_ROOTED"       "MODIFIER_STATE_VALUE_ENABLED"
        }
      }
    }
  }

  //+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
  //  [ROSH]    ROSHAN STUFF
  //+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++

  //=================================================================================================================
  // Roshan: Bash (normal)
  //=================================================================================================================
  "imba_roshan_bash"
  {
    // General
    //-------------------------------------------------------------------------------------------------------------
    "BaseClass"                   "ability_datadriven"
    "AbilityBehavior"               "DOTA_ABILITY_BEHAVIOR_PASSIVE"
    "AbilityUnitTargetFlags"            "DOTA_UNIT_TARGET_FLAG_MAGIC_IMMUNE_ENEMIES"
    "AbilityUnitDamageType"             "DAMAGE_TYPE_PHYSICAL"
    "AbilityTextureName"              "roshan_bash"
    "MaxLevel"                    "1"

    // Casting
    //-------------------------------------------------------------------------------------------------------------
    "AbilityCooldown"               "6.0"

    // Special
    //-------------------------------------------------------------------------------------------------------------
    "AbilitySpecial"
    {
      "01"
      {
        "var_type"                "FIELD_INTEGER"
        "debuff_duration"           "4"
      }
      "02"
      {
        "var_type"                "FIELD_INTEGER"
        "base_damage"             "60"
      }
      "03"
      {
        "var_type"                "FIELD_INTEGER"
        "stacking_damage"           "8"
      }
      "04"
      {
        "var_type"                "FIELD_INTEGER"
        "armor_reduction"           "-4"
      }
      "05"
      {
        "var_type"                "FIELD_FLOAT"
        "bash_duration"             "1.5"
      }
    }

    "Modifiers"
    {
      "modifier_imba_roshan_bash"
      {
        "Passive"               "1"
        "IsHidden"                "1"
        "IsBuff"                "1"
        "IsPurgable"              "0"
    
        "Attributes"              "MODIFIER_ATTRIBUTE_IGNORE_INVULNERABLE"
    
        "OnAttackLanded"
        {
          "RunScript"
          {
            "ScriptFile"          "hero/neutral_roshan.lua"
            "Function"            "RoshanBash"

            "modifier_debuff"       "modifier_imba_roshan_bash_debuff"
            "sound_bash"          "RoshanDT.Bash"
          }
        }
      }

      "modifier_imba_roshan_bash_debuff"
      {
        "Passive"               "0"
        "IsHidden"                "0"
        "IsDebuff"                "1"
        "IsPurgable"              "0"

        "Duration"                "%debuff_duration"

        "Properties"
        {
          "MODIFIER_PROPERTY_PHYSICAL_ARMOR_BONUS"    "%armor_reduction"
        }
      }
    }
  }

  //=================================================================================================================
  // Roshan: Slam (normal)
  //=================================================================================================================
  "imba_roshan_slam"
  {
    // General
    //-------------------------------------------------------------------------------------------------------------
    "BaseClass"                   "ability_datadriven"
    "AbilityBehavior"               "DOTA_ABILITY_BEHAVIOR_NO_TARGET | DOTA_ABILITY_BEHAVIOR_IGNORE_BACKSWING"
    "AbilityUnitTargetTeam"             "DOTA_UNIT_TARGET_TEAM_ENEMY"
    "AbilityUnitTargetType"             "DOTA_UNIT_TARGET_HERO | DOTA_UNIT_TARGET_BASIC"
    "AbilityUnitTargetFlags"            "DOTA_UNIT_TARGET_FLAG_MAGIC_IMMUNE_ENEMIES"
    "AbilityUnitDamageType"             "DAMAGE_TYPE_PHYSICAL"
    "AbilityTextureName"              "roshan_slam"
    "MaxLevel"                    "1"

    // Cost
    //-------------------------------------------------------------------------------------------------------------
    "AbilityManaCost"               "0"

    // Casting
    //-------------------------------------------------------------------------------------------------------------
    "AbilityCooldown"               "9.0"
    "AbilityCastPoint"                "0.3"
    "AbilityCastAnimation"              "ACT_DOTA_CAST_ABILITY_3"

    // Special
    //-------------------------------------------------------------------------------------------------------------
    "AbilitySpecial"
    {
      "01"
      {
        "var_type"                "FIELD_INTEGER"
        "slam_radius"             "375"
      }
      "02"
      {
        "var_type"                "FIELD_INTEGER"
        "base_damage"             "90"
      }
      "03"
      {
        "var_type"                "FIELD_INTEGER"
        "dmg_per_minute"            "15"
      }
      "04"
      {
        "var_type"                "FIELD_INTEGER"
        "armor_reduction"           "-6"
      }
      "05"
      {
        "var_type"                "FIELD_INTEGER"
        "slow"                  "-50"
      }
      "06"
      {
        "var_type"                "FIELD_INTEGER"
        "debuff_duration"           "4"
      }
    }

    "OnSpellStart"
    {
      "RunScript"
      {
        "ScriptFile"              "hero/neutral_roshan.lua"
        "Function"                "RoshanSlam"

        "modifier_debuff"           "modifier_imba_roshan_slam"
        "sound_cast"              "Roshan.Slam"
        "particle_slam"             "particles/neutral_fx/roshan_slam.vpcf"
      }
    }

    "Modifiers"
    {
      "modifier_imba_roshan_slam"
      {
        "Passive"               "0"
        "IsHidden"                "0"
        "IsDebuff"                "1"
        "IsPurgable"              "1"

        "Duration"                "%debuff_duration"

        "Properties"
        {
          "MODIFIER_PROPERTY_MOVESPEED_BONUS_PERCENTAGE"    "%slow"
          "MODIFIER_PROPERTY_ATTACKSPEED_BONUS_CONSTANT"    "%slow"
            "MODIFIER_PROPERTY_PHYSICAL_ARMOR_BONUS"      "%armor_reduction" 
        }
      }
    }
  }

  //=================================================================================================================
  // Roshan: Summon Roshlings (normal)
  //=================================================================================================================
  "imba_roshan_summon"
  {
    // General
    //-------------------------------------------------------------------------------------------------------------
    "BaseClass"                   "ability_datadriven"
    "AbilityBehavior"               "DOTA_ABILITY_BEHAVIOR_IMMEDIATE | DOTA_ABILITY_BEHAVIOR_NO_TARGET"
    "AbilityTextureName"              "roshan_spell_block"
    "MaxLevel"                    "1"

    // Cost
    //-------------------------------------------------------------------------------------------------------------
    "AbilityManaCost"               "0"

    // Casting
    //-------------------------------------------------------------------------------------------------------------
    "AbilityCooldown"               "90.0"
    "AbilityCastPoint"                "0.0"

    // Special
    //-------------------------------------------------------------------------------------------------------------
    "AbilitySpecial"
    {
      "01"
      {
        "var_type"                "FIELD_INTEGER"
        "summon_duration"           "60"
      }
      "02"
      {
        "var_type"                "FIELD_INTEGER"
        "summon_amount"             "2"
      }
    }

    "OnSpellStart"
    {
      "SpawnUnit"
      {
        "UnitName"                "npc_imba_roshling"
        "Target"                "CASTER"
        "Duration"                "%summon_duration"
        "UnitCount"               "%summon_amount"
        "UnitLimit"               "4"
        "SpawnRadius"             "250"
        
        "OnSpawn"
        {
          "ApplyModifier"
          {
            "ModifierName"          "modifier_kill"
            "Target"            "TARGET"
            "Duration"            "%summon_duration"
          }

          "RunScript"
          {
            "ScriptFile"          "hero/neutral_roshan.lua"
            "Function"            "RoshanSummon"

            "sound_summon"          "DOTA_Item.Necronomicon.Activate"
            "ability_bash"          "imba_roshling_bash"
            "ability_aura"          "imba_roshling_aura"
            "ability_passives"        "imba_roshling_immortal_strength"
          }
        }
      }
    }
  }

  //=================================================================================================================
  // Roshan: Roshling bash
  //=================================================================================================================
  "imba_roshling_bash"
  {
    // General
    //-------------------------------------------------------------------------------------------------------------
    "BaseClass"                   "ability_datadriven"
    "AbilityBehavior"               "DOTA_ABILITY_BEHAVIOR_PASSIVE"
    "AbilityUnitTargetFlags"            "DOTA_UNIT_TARGET_FLAG_MAGIC_IMMUNE_ENEMIES"
    "AbilityUnitDamageType"             "DAMAGE_TYPE_PHYSICAL"
    "AbilityTextureName"              "roshan_bash"
    "MaxLevel"                    "1"

    // Casting
    //-------------------------------------------------------------------------------------------------------------
    "AbilityCooldown"               "8.0"

    // Special
    //-------------------------------------------------------------------------------------------------------------
    "AbilitySpecial"
    {
      "01"
      {
        "var_type"                "FIELD_INTEGER"
        "debuff_duration"           "4"
      }
      "02"
      {
        "var_type"                "FIELD_INTEGER"
        "base_damage"             "20"
      }
      "03"
      {
        "var_type"                "FIELD_INTEGER"
        "stacking_damage"           "2"
      }
      "04"
      {
        "var_type"                "FIELD_INTEGER"
        "armor_reduction"           "-4"
      }
      "05"
      {
        "var_type"                "FIELD_FLOAT"
        "bash_duration"             "1.0"
      }
    }

    "Modifiers"
    {
      "modifier_imba_roshling_bash"
      {
        "Passive"               "1"
        "IsHidden"                "1"
        "IsBuff"                "1"
        "IsPurgable"              "0"
    
        "Attributes"              "MODIFIER_ATTRIBUTE_IGNORE_INVULNERABLE"
    
        "OnAttackLanded"
        {
          "RunScript"
          {
            "ScriptFile"          "hero/neutral_roshan.lua"
            "Function"            "RoshanBash"

            "modifier_debuff"       "modifier_imba_roshling_bash_debuff"
            "sound_bash"          "RoshanDT.Bash"
          }
        }
      }

      "modifier_imba_roshling_bash_debuff"
      {
        "Passive"               "0"
        "IsHidden"                "0"
        "IsDebuff"                "1"
        "IsPurgable"              "0"

        "Duration"                "%debuff_duration"

        "Properties"
        {
          "MODIFIER_PROPERTY_PHYSICAL_ARMOR_BONUS"    "%armor_reduction"
        }
      }
    }
  }

  //=================================================================================================================
  // Roshan: Roshling aura
  //=================================================================================================================
  "imba_roshling_aura"
  {
    // General
    //-------------------------------------------------------------------------------------------------------------
    "BaseClass"                   "ability_datadriven"
    "AbilityBehavior"               "DOTA_ABILITY_BEHAVIOR_PASSIVE | DOTA_ABILITY_BEHAVIOR_AURA"
    "AbilityTextureName"              "roshan_spell_block"
    "MaxLevel"                    "1"

    // Special
    //-------------------------------------------------------------------------------------------------------------
    "AbilitySpecial"
    {
      "01"
      {
        "var_type"                "FIELD_INTEGER"
        "dmg_bonus"               "20"
      }
      "02"
      {
        "var_type"                "FIELD_INTEGER"
        "armor_bonus"             "5"
      }
      "03"
      {
        "var_type"                "FIELD_INTEGER"
        "regen_bonus"             "30"
      }
      "04"
      {
        "var_type"                "FIELD_INTEGER"
        "radius"                "500"
      }
    }

    "Modifiers"
    {
      "modifier_imba_roshling_aura"
      {
        "Passive"               "1"
        "IsHidden"                "1"
        "IsBuff"                "1"
        "IsPurgable"              "0"
    
        "Aura"                  "modifier_imba_roshling_aura_effect"
        "Aura_Radius"             "%radius"
        "Aura_Teams"              "DOTA_UNIT_TARGET_TEAM_FRIENDLY"
        "Aura_Types"              "DOTA_UNIT_TARGET_BASIC"
        "Aura_ApplyToCaster"          "0"
      }

      "modifier_imba_roshling_aura_effect"
      {
        "Passive"               "0"
        "IsHidden"                "0"
        "IsBuff"                "1"
        "IsPurgable"              "0"

        "Attributes"              "MODIFIER_ATTRIBUTE_MULTIPLE"

        "Properties"
        {
          "MODIFIER_PROPERTY_DAMAGEOUTGOING_PERCENTAGE"   "%dmg_bonus"
          "MODIFIER_PROPERTY_PHYSICAL_ARMOR_BONUS"      "%armor_bonus"
          "MODIFIER_PROPERTY_HEALTH_REGEN_CONSTANT"     "%regen_bonus"
        }
      }
    }
  }

  //=================================================================================================================
  // Roshling passive buffs
  //=================================================================================================================
  "imba_roshling_immortal_strength"
  {
    // General
    //-------------------------------------------------------------------------------------------------------------
    "BaseClass"                   "ability_datadriven"
    "AbilityBehavior"               "DOTA_ABILITY_BEHAVIOR_PASSIVE | DOTA_ABILITY_BEHAVIOR_HIDDEN"
    "AbilityTextureName"              "rubick_empty1"
    "MaxLevel"                    "1"

    // Special
    //-------------------------------------------------------------------------------------------------------------
    "AbilitySpecial"
    {
      "01"
      {
        "var_type"                "FIELD_INTEGER"
        "regen_per_minute"            "2"
      }
      "02"
      {
        "var_type"                "FIELD_INTEGER"
        "damage_per_minute"           "2"
      }
      "03"
      {
        "var_type"                "FIELD_FLOAT"
        "armor_per_minute"            "0.25"
      }
      "04"
      {
        "var_type"                "FIELD_INTEGER"
        "as_bonus"                "20"
      }
    }

    "Modifiers"
    {
      "modifier_imba_roshling_immortal_strength"
      {
        "Passive"               "1"
        "IsHidden"                "1"
        "IsBuff"                "1"
        "IsPurgable"              "0"

        "ThinkInterval"             "60.0"

        "OnIntervalThink"
        {
          "RunScript"
          {
            "ScriptFile"          "hero/neutral_roshan.lua"
            "Function"            "RoshanUpgrade"

            "modifier_stack"        "modifier_imba_roshling_immortal_strength_stack"
          }
        }

        "OnCreated"
        {
          "RunScript"
          {
            "ScriptFile"          "hero/neutral_roshan.lua"
            "Function"            "RoshanUpgrade"

            "modifier_stack"        "modifier_imba_roshling_immortal_strength_stack"
          }
        }
    
        "Properties"
        {
            "MODIFIER_PROPERTY_ATTACKSPEED_BONUS_CONSTANT"    "%as_bonus" 
        }
      }

      "modifier_imba_roshling_immortal_strength_stack"
      {
        "Passive"               "0"
        "IsHidden"                "1"
        "IsBuff"                "1"
        "IsPurgable"              "0"
    
        "Properties"
        {
          "MODIFIER_PROPERTY_HEALTH_REGEN_CONSTANT"     "%regen_per_minute"
            "MODIFIER_PROPERTY_BASEATTACK_BONUSDAMAGE"      "%damage_per_minute"
            "MODIFIER_PROPERTY_PHYSICAL_ARMOR_BONUS"      "%armor_per_minute" 
        }
      }
    }
  }

  //=================================================================================================================
  // Roshan: Rage of the Immortal (normal)
  //=================================================================================================================
  "imba_roshan_rage"
  {
    // General
    //-------------------------------------------------------------------------------------------------------------
    "BaseClass"                   "ability_datadriven"
    "AbilityBehavior"               "DOTA_ABILITY_BEHAVIOR_PASSIVE"
    "AbilityTextureName"              "imba_roshan_rage"
    "MaxLevel"                    "1"

    // Special
    //-------------------------------------------------------------------------------------------------------------
    "AbilitySpecial"
    {
      "01"
      {
        "var_type"                "FIELD_INTEGER"
        "hp_threshold"              "10"
      }
      "02"
      {
        "var_type"                "FIELD_INTEGER"
        "as_bonus"                "7"
      }
      "03"
      {
        "var_type"                "FIELD_INTEGER"
        "armor_bonus"             "1"
      }
    }

    "Modifiers"
    {
      "modifier_imba_roshan_rage"
      {
        "Passive"               "1"
        "IsHidden"                "1"
        "IsBuff"                "1"
        "IsPurgable"              "0"

        "ThinkInterval"             "0.5"

        "OnIntervalThink"
        {
          "RunScript"
          {
            "ScriptFile"          "hero/neutral_roshan.lua"
            "Function"            "RoshanRage"

            "modifier_stack"        "modifier_imba_roshan_rage_stack"
          }
        }
      }

      "modifier_imba_roshan_rage_stack"
      {
        "Passive"               "0"
        "IsHidden"                "0"
        "IsBuff"                "1"
        "IsPurgable"              "0"

        "Properties"
        {
          "MODIFIER_PROPERTY_ATTACKSPEED_BONUS_CONSTANT"    "%as_bonus"
            "MODIFIER_PROPERTY_PHYSICAL_ARMOR_BONUS"      "%armor_bonus" 
        }
      }
    }
  }

  //=================================================================================================================
  // Roshan: Fury of the Immortal
  //=================================================================================================================
  "imba_roshan_fury"
  {
    // General
    //-------------------------------------------------------------------------------------------------------------
    "BaseClass"                   "ability_datadriven"
    "AbilityBehavior"               "DOTA_ABILITY_BEHAVIOR_UNIT_TARGET | DOTA_ABILITY_BEHAVIOR_IGNORE_BACKSWING"
    "AbilityUnitTargetTeam"             "DOTA_UNIT_TARGET_TEAM_ENEMY"
    "AbilityUnitTargetType"             "DOTA_UNIT_TARGET_HERO | DOTA_UNIT_TARGET_BASIC"
    "AbilityUnitTargetFlags"            "DOTA_UNIT_TARGET_FLAG_MAGIC_IMMUNE_ENEMIES"
    "AbilityUnitDamageType"             "DAMAGE_TYPE_MAGICAL"
    "AbilityTextureName"              "imba_roshan_fury"
    "MaxLevel"                    "1"

    // Cost
    //-------------------------------------------------------------------------------------------------------------
    "AbilityManaCost"               "0"

    // Casting
    //-------------------------------------------------------------------------------------------------------------
    "AbilityCastRange"                "600"
    "AbilityCastRangeBuffer"            "3000"
    "AbilityCooldown"               "30.0"
    "AbilityCastPoint"                "1.5"
    "AbilityCastAnimation"              "ACT_DOTA_CAST_ABILITY_1"

    // Special
    //-------------------------------------------------------------------------------------------------------------
    "AbilitySpecial"
    {
      "01"
      {
        "var_type"                "FIELD_INTEGER"
        "width"                 "375"
      }
      "02"
      {
        "var_type"                "FIELD_INTEGER"
        "length"                "1600"
      }
      "03"
      {
        "var_type"                "FIELD_INTEGER"
        "speed"                 "2000"
      }
      "04"
      {
        "var_type"                "FIELD_INTEGER"
        "base_damage"             "300"
      }
      "05"
      {
        "var_type"                "FIELD_INTEGER"
        "dmg_per_minute"            "25"
      }
      "06"
      {
        "var_type"                "FIELD_INTEGER"
        "debuff_duration"           "2.5"
      }
    }

    "OnAbilityPhaseStart"
    {
      "FireSound"
      {
        "EffectName"              "RoshanDT.Scream"
        "Target"                "CASTER"
      }
    }

    "OnSpellStart"
    {
      "RunScript"
      {
        "ScriptFile"              "hero/neutral_roshan.lua"
        "Function"                "RoshanFury"

        "sound_cast"              "Hero_Invoker.DeafeningBlast"
        "particle_fury"             "particles/units/heroes/hero_invoker/invoker_deafening_blast.vpcf"
      }
    }

    "OnProjectileHitUnit"
    {
      "DeleteOnHit"               "0"
      "RunScript"
      {
        "ScriptFile"              "hero/neutral_roshan.lua"
        "Function"                "RoshanFuryHit"
      }
    }
  }

  //=================================================================================================================
  // Roshan: Strength of the Immortal (normal passive buffs)
  //=================================================================================================================
  "imba_roshan_immortal_strength"
  {
    // General
    //-------------------------------------------------------------------------------------------------------------
    "BaseClass"                   "ability_datadriven"
    "AbilityBehavior"               "DOTA_ABILITY_BEHAVIOR_PASSIVE | DOTA_ABILITY_BEHAVIOR_HIDDEN"
    "AbilityTextureName"              "rubick_empty1"
    "MaxLevel"                    "1"

    // Special
    //-------------------------------------------------------------------------------------------------------------
    "AbilitySpecial"
    {
      "01"
      {
        "var_type"                "FIELD_INTEGER"
        "base_hp_regen"             "20"
      }
      "02"
      {
        "var_type"                "FIELD_INTEGER"
        "regen_per_minute"            "3"
      }
      "03"
      {
        "var_type"                "FIELD_INTEGER"
        "damage_per_minute"           "2"
      }
      "04"
      {
        "var_type"                "FIELD_FLOAT"
        "armor_per_minute"            "0.25"
      }
      "05"
      {
        "var_type"                "FIELD_INTEGER"
        "as_bonus"                "20"
      }
      "06"
      {
        "var_type"                "FIELD_FLOAT"
        "purge_interval"            "1.0"
      }
    }

    "Modifiers"
    {
      "modifier_imba_roshan_immortal_strength"
      {
        "Passive"               "1"
        "IsHidden"                "1"
        "IsBuff"                "1"
        "IsPurgable"              "0"

        "ThinkInterval"             "60.0"

        "OnIntervalThink"
        {
          "RunScript"
          {
            "ScriptFile"          "hero/neutral_roshan.lua"
            "Function"            "RoshanUpgrade"

            "modifier_stack"        "modifier_imba_roshan_immortal_strength_stack"
          }
        }

        "OnCreated"
        {
          "RunScript"
          {
            "ScriptFile"          "hero/neutral_roshan.lua"
            "Function"            "RoshanUpgrade"

            "modifier_stack"        "modifier_imba_roshan_immortal_strength_stack"
          }
        }

        "OnDeath"
        {
          "RunScript"
          {
            "ScriptFile"          "hero/neutral_roshan.lua"
            "Function"            "RoshanDeath"
          }
        }
    
        "Properties"
        {
          "MODIFIER_PROPERTY_HEALTH_REGEN_CONSTANT"     "%base_hp_regen"
            "MODIFIER_PROPERTY_ATTACKSPEED_BONUS_CONSTANT"    "%as_bonus" 
        }

        "States"
        {
          "MODIFIER_STATE_CANNOT_MISS"    "MODIFIER_STATE_VALUE_ENABLED"
        }
      }

      "modifier_imba_roshan_immortal_strength_stack"
      {
        "Passive"               "0"
        "IsHidden"                "1"
        "IsBuff"                "1"
        "IsPurgable"              "0"
    
        "Properties"
        {
          "MODIFIER_PROPERTY_HEALTH_REGEN_CONSTANT"     "%regen_per_minute"
            "MODIFIER_PROPERTY_BASEATTACK_BONUSDAMAGE"      "%damage_per_minute"
            "MODIFIER_PROPERTY_PHYSICAL_ARMOR_BONUS"      "%armor_per_minute" 
        }
      }

      "modifier_imba_roshan_immortal_strength_purge"
      {
        "Passive"               "1"
        "IsHidden"                "1"
        "IsBuff"                "1"
        "IsPurgable"              "0"
    
        "ThinkInterval"             "%purge_interval"

        "OnIntervalThink"
        {
          "RunScript"
          {
            "ScriptFile"          "hero/neutral_roshan.lua"
            "Function"            "RoshanPurge"
          }
        }

        "OnAttacked"
        {
          "RunScript"
          {
            "ScriptFile"          "hero/neutral_roshan.lua"
            "Function"            "RoshanIllusionPurge"
          }
        }
      }
    }
  }

  //=================================================================================================================
  // Roshan: AI controller (normal)
  //=================================================================================================================
  "imba_roshan_ai"
  {
    // General
    //-------------------------------------------------------------------------------------------------------------
    "BaseClass"                   "ability_datadriven"
    "AbilityBehavior"               "DOTA_ABILITY_BEHAVIOR_PASSIVE | DOTA_ABILITY_BEHAVIOR_HIDDEN"
    "AbilityTextureName"              "rubick_empty1"
    "MaxLevel"                    "1"

    // Special
    //-------------------------------------------------------------------------------------------------------------
    "AbilitySpecial"
    {
      "01"
      {
        "var_type"                "FIELD_INTEGER"
        "slam_radius"             "350"
      }
      "02"
      {
        "var_type"                "FIELD_INTEGER"
        "slam_targets"              "3"
      }
      "03"
      {
        "var_type"                "FIELD_FLOAT"
        "roshling_pct"              "0.6"
      }
      "04"
      {
        "var_type"                "FIELD_FLOAT"
        "fury_pct"                "0.3"
      }
      "05"
      {
        "var_type"                "FIELD_INTEGER"
        "leash_radius"              "1200"
      }
      "06"
      {
        "var_type"                "FIELD_INTEGER"
        "leash_margin"              "50"
      }
      "07"
      {
        "var_type"                "FIELD_FLOAT"
        "leash_time"              "6"
      }
      "08"
      {
        "var_type"                "FIELD_FLOAT"
        "think_interval"            "0.5"
      }
    }

    "Modifiers"
    {
      "modifier_imba_roshan_ai"
      {
        "Passive"               "1"
        "IsHidden"                "1"
        "IsBuff"                "1"
        "IsPurgable"              "0"

        "OnTakeDamage"
        {
          "RunScript"
          {
            "ScriptFile"          "hero/neutral_roshan.lua"
            "Function"            "RoshanAI"

            "ability_slam"          "imba_roshan_slam"
            "ability_roshling"        "imba_roshan_summon"
            "ability_fury"          "imba_roshan_fury"
          }
        }

        "OnAttackLanded"
        {
          "RunScript"
          {
            "ScriptFile"          "hero/neutral_roshan.lua"
            "Function"            "RoshanAI"

            "ability_slam"          "imba_roshan_slam"
            "ability_roshling"        "imba_roshan_summon"
            "ability_fury"          "imba_roshan_fury"
          }
        }
      }
    }
  }

  //+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
  //  [TOWR]    TOWER ABILITIES
  //+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++

  //=================================================================================================================
  // Tower upgrade ability
  //=================================================================================================================
  "imba_tower_upgrade"
  {
    // General
    //-------------------------------------------------------------------------------------------------------------
    "BaseClass"               "ability_datadriven"
    "AbilityBehavior"           "DOTA_ABILITY_BEHAVIOR_NO_TARGET | DOTA_ABILITY_BEHAVIOR_IMMEDIATE"
    "AbilityTextureName"          "attribute_bonus"
    "MaxLevel"                "1"
    "AbilitySharedWithTeammates"      "1"

    // Casting
    //-------------------------------------------------------------------------------------------------------------
    "AbilityCastPoint"            "0.0"

    // Time   
    //-------------------------------------------------------------------------------------------------------------
    "AbilityCooldown"           "0.2"

    // Cost
    //-------------------------------------------------------------------------------------------------------------
    "AbilityManaCost"           "0"

    // Special
    //-------------------------------------------------------------------------------------------------------------
    "OnSpellStart"
    {
      "RunScript"
      {
        "ScriptFile"          "hero/tower_abilities.lua"
        "Function"            "Upgrade"
      }
    }
  }

  //=================================================================================================================
  // Tower ability: Laser
  //=================================================================================================================
  "imba_tower_laser"
  {
    // General
    //-------------------------------------------------------------------------------------------------------------
    "BaseClass"               "ability_datadriven"
    "AbilityBehavior"           "DOTA_ABILITY_BEHAVIOR_PASSIVE"
    "AbilityTextureName"          "tinker_laser"
    "MaxLevel"                "3"
    "AbilitySharedWithTeammates"      "1"

    // Special
    //-------------------------------------------------------------------------------------------------------------
    "AbilitySpecial"
    {
      "01"
      {
        "var_type"            "FIELD_INTEGER"
        "damage_reduction"        "-1000"
      }
      "02"
      {
        "var_type"            "FIELD_INTEGER"
        "laser_damage"          "100"
      }
      "03"
      {
        "var_type"            "FIELD_INTEGER"
        "blind_chance"          "0 50 50"
      }
      "04"
      {
        "var_type"            "FIELD_INTEGER"
        "blind_aoe"           "0 0 350"
      }
      "05"
      {
        "var_type"            "FIELD_FLOAT"
        "blind_duration"        "2.5"
      }
      "06"
      {
        "var_type"            "FIELD_INTEGER"
        "upgrade_cost"          "800 1200"
      }
    }

    "Modifiers"
    {
      "modifier_imba_tower_laser"
      {
        "Passive"           "1"
        "IsHidden"            "1"
    
        "OnCreated"
        {
          "RunScript"
          {
            "ScriptFile"      "hero/tower_abilities.lua"
            "Function"        "LaserProjectile"

            "projectile_laser"    "particles/units/heroes/hero_tinker/tinker_base_attack.vpcf"
          }
        }

        "OnAttackLanded"
        {
          "RunScript"
          {
            "ScriptFile"      "hero/tower_abilities.lua"
            "Function"        "LaserHit"

            "modifier_blind"    "modifier_imba_tower_laser_blind"
            "particle_blind"    "particles/units/heroes/hero_tinker/laser_cutter_sparks_k.vpcf"
            "sound_impact"      "Hero_Tinker.LaserImpact"
          }
        }

        "Properties"
        {
          "MODIFIER_PROPERTY_PREATTACK_BONUS_DAMAGE"    "%damage_reduction"
        }
      }

      "modifier_imba_tower_laser_blind"
      {
        "Passive"           "0"
        "IsHidden"            "0"
        "IsDebuff"            "1"
        "IsPurgable"          "1"

        "Duration"            "%blind_duration"

        "EffectName"          "particles/ambient/tower_laser_blind.vpcf"
        "EffectAttachType"        "follow_overhead"

        "Properties"
        {
          "MODIFIER_PROPERTY_MISS_PERCENTAGE"       "%blind_chance"
        }
      }
    }
  }

  //=================================================================================================================
  // Tower ability: Multishot
  //=================================================================================================================
  "imba_tower_multishot"
  {
    // General
    //-------------------------------------------------------------------------------------------------------------
    "BaseClass"               "ability_datadriven"
    "AbilityBehavior"           "DOTA_ABILITY_BEHAVIOR_PASSIVE"
    "AbilityTextureName"          "sniper_shrapnel_muh_keen_gun"
    "MaxLevel"                "3"
    "AbilitySharedWithTeammates"      "1"

    // Special
    //-------------------------------------------------------------------------------------------------------------
    "AbilitySpecial"
    {
      "01"
      {
        "var_type"            "FIELD_INTEGER"
        "damage_reduction"        "-70 -30 0"
      }
      "02"
      {
        "var_type"            "FIELD_INTEGER"
        "bonus_range"         "0 0 150"
      }
      "03"
      {
        "var_type"            "FIELD_INTEGER"
        "upgrade_cost"          "1000 1500"
      }
    }

    "Modifiers"
    {
      "modifier_imba_tower_multishot"
      {
        "Passive"           "1"
        "IsHidden"            "1"

        "OnAttackStart"
        {
          "RunScript"
          {
            "ScriptFile"      "hero/tower_abilities.lua"
            "Function"        "Multishot"
          }
        }

        "Properties"
        {
          "MODIFIER_PROPERTY_BASEATTACK_BONUSDAMAGE"    "%damage_reduction"
          "MODIFIER_PROPERTY_ATTACK_RANGE_BONUS"      "%bonus_range"
        }
      }
    }
  }

  //=================================================================================================================
  // Tower ability: Hex Aura
  //=================================================================================================================
  "imba_tower_hex_aura"
  {
    // General
    //-------------------------------------------------------------------------------------------------------------
    "BaseClass"               "ability_datadriven"
    "AbilityBehavior"           "DOTA_ABILITY_BEHAVIOR_PASSIVE"
    "AbilityTextureName"          "shadow_shaman_voodoo"
    "MaxLevel"                "3"
    "AbilitySharedWithTeammates"      "1"

    // Special
    //-------------------------------------------------------------------------------------------------------------
    "AbilitySpecial"
    {
      "01"
      {
        "var_type"            "FIELD_FLOAT"
        "hex_interval"          "1.5"
      }
      "02"
      {
        "var_type"            "FIELD_FLOAT"
        "hex_duration"          "0.7"
      }
      "03"
      {
        "var_type"            "FIELD_INTEGER"
        "hex_amount"          "1 2 3"
      }
      "04"
      {
        "var_type"            "FIELD_INTEGER"
        "upgrade_cost"          "900 1350"
      }
    }

    "Modifiers"
    {
      "modifier_imba_tower_hex_aura"
      {
        "Passive"           "1"
        "IsHidden"            "1"

        "ThinkInterval"         "%hex_interval"

        "OnIntervalThink"
        {
          "RunScript"
          {
            "ScriptFile"      "hero/tower_abilities.lua"
            "Function"        "HexAura"

            "modifier_slow"     "modifier_imba_tower_hex_aura_slow"
          }
        }
      }

      "modifier_imba_tower_hex_aura_slow"
      {
        "Passive"           "0"
        "IsHidden"            "1"
        "IsDebuff"            "1"
        "IsPurgable"          "1"

        "Duration"            "%hex_duration"

        "Properties"
        {
          "MODIFIER_PROPERTY_MOVESPEED_BONUS_CONSTANT"  "-9999"
        }
      }
    }
  }

  //=================================================================================================================
  // Tower ability: Mana Burn
  //=================================================================================================================
  "imba_tower_mana_burn"
  {
    // General
    //-------------------------------------------------------------------------------------------------------------
    "BaseClass"               "ability_datadriven"
    "AbilityBehavior"           "DOTA_ABILITY_BEHAVIOR_PASSIVE"
    "AbilityTextureName"          "antimage_mana_break"
    "MaxLevel"                "3"
    "AbilitySharedWithTeammates"      "1"

    // Special
    //-------------------------------------------------------------------------------------------------------------
    "AbilitySpecial"
    {
      "01"
      {
        "var_type"            "FIELD_INTEGER"
        "mana_burn"           "50 75 100"
      }
      "02"
      {
        "var_type"            "FIELD_INTEGER"
        "upgrade_cost"          "400 600"
      }
    }

    "Modifiers"
    {
      "modifier_imba_tower_mana_burn"
      {
        "Passive"           "1"
        "IsHidden"            "1"

        "OnAttackLanded"
        {
          "RunScript"
          {
            "ScriptFile"      "hero/tower_abilities.lua"
            "Function"        "ManaBurn"

            "particle_burn"     "particles/generic_gameplay/generic_manaburn.vpcf"
            "sound_burn"      "Hero_Antimage.ManaBreak"
          }
        }
      }
    }
  }

  //=================================================================================================================
  // Tower ability: Mana Flare
  //=================================================================================================================
  "imba_tower_mana_flare"
  {
    // General
    //-------------------------------------------------------------------------------------------------------------
    "BaseClass"               "ability_datadriven"
    "AbilityBehavior"           "DOTA_ABILITY_BEHAVIOR_PASSIVE"
    "AbilityTextureName"          "mana_flare"
    "MaxLevel"                "3"
    "AbilitySharedWithTeammates"      "1"

    // Special
    //-------------------------------------------------------------------------------------------------------------
    "AbilitySpecial"
    {
      "01"
      {
        "var_type"            "FIELD_FLOAT"
        "burn_interval"         "1.5"
      }
      "02"
      {
        "var_type"            "FIELD_FLOAT"
        "burn_pct"            "6 9 12"
      }
      "03"
      {
        "var_type"            "FIELD_INTEGER"
        "upgrade_cost"          "600 900"
      }
    }

    "Modifiers"
    {
      "modifier_imba_tower_mana_flare"
      {
        "Passive"           "1"
        "IsHidden"            "1"

        "ThinkInterval"         "%burn_interval"

        "OnIntervalThink"
        {
          "RunScript"
          {
            "ScriptFile"      "hero/tower_abilities.lua"
            "Function"        "ManaFlare"

            "particle_burn"     "particles/units/heroes/hero_nyx_assassin/nyx_assassin_mana_burn.vpcf"
            "sound_burn"      "Hero_NyxAssassin.ManaBurn.Target"
          }
        }
      }
    }
  }

  //=================================================================================================================
  // Tower ability: Permabash
  //=================================================================================================================
  "imba_tower_permabash"
  {
    // General
    //-------------------------------------------------------------------------------------------------------------
    "BaseClass"               "ability_datadriven"
    "AbilityBehavior"           "DOTA_ABILITY_BEHAVIOR_PASSIVE"
    "AbilityTextureName"          "faceless_void_time_lock"
    "MaxLevel"                "3"
    "AbilitySharedWithTeammates"      "1"

    // Special
    //-------------------------------------------------------------------------------------------------------------
    "AbilitySpecial"
    {
      "01"
      {
        "var_type"            "FIELD_INTEGER"
        "bash_chance"         "40 70 100"
      }
      "02"
      {
        "var_type"            "FIELD_FLOAT"
        "bash_duration"         "0.6"
      }
      "03"
      {
        "var_type"            "FIELD_INTEGER"
        "upgrade_cost"          "500 750"
      }
    }

    "Modifiers"
    {
      "modifier_imba_tower_permabash"
      {
        "Passive"           "1"
        "IsHidden"            "1"

        "OnAttackLanded"
        {
          "Random"
          {
            "Chance"        "%bash_chance"

            "OnSuccess"
            {
              "RunScript"
              {
                "ScriptFile"  "hero/tower_abilities.lua"
                "Function"    "Permabash"

                "sound_bash"  "Hero_FacelessVoid.TimeLockImpact"
                "modifier_bash" "modifier_imba_tower_permabash_bash"
              }
            }
          }
        }
      }

      "modifier_imba_tower_permabash_bash"
      {
        "Passive"           "0"
        "IsHidden"            "1"
        "IsDebuff"            "1"
        "IsPurgable"          "1"

        "Duration"            "%bash_duration"

        "StatusEffectName"        "particles/status_fx/status_effect_faceless_chronosphere.vpcf"
        "StatusEffectPriority"      "1"

        "States"
        {
          "MODIFIER_STATE_FROZEN"   "MODIFIER_STATE_VALUE_ENABLED"
        }
      }
    }
  }

  //=================================================================================================================
  // Tower ability: Grievous Wounds
  //=================================================================================================================
  "imba_tower_grievous_wounds"
  {
    // General
    //-------------------------------------------------------------------------------------------------------------
    "BaseClass"               "ability_datadriven"
    "AbilityBehavior"           "DOTA_ABILITY_BEHAVIOR_PASSIVE"
    "AbilityTextureName"          "ursa_fury_swipes"
    "MaxLevel"                "3"
    "AbilitySharedWithTeammates"      "1"

    // Special
    //-------------------------------------------------------------------------------------------------------------
    "AbilitySpecial"
    {
      "01"
      {
        "var_type"            "FIELD_INTEGER"
        "damage_increase"       "30 45 60"
      }
      "02"
      {
        "var_type"            "FIELD_INTEGER"
        "debuff_duration"       "5"
      }
      "03"
      {
        "var_type"            "FIELD_INTEGER"
        "upgrade_cost"          "500 750"
      }
    }

    "Modifiers"
    {
      "modifier_imba_tower_grievous_wounds"
      {
        "Passive"           "1"
        "IsHidden"            "1"

        "OnAttackLanded"
        {
          "RunScript"
          {
            "ScriptFile"      "hero/tower_abilities.lua"
            "Function"        "GrievousWounds"

            "modifier_debuff"   "modifier_imba_tower_grievous_wounds_debuff"
            "particle_hit"      "particles/units/heroes/hero_ursa/ursa_fury_swipes.vpcf"
          }
        }
      }

      "modifier_imba_tower_grievous_wounds_debuff"
      {
        "Passive"           "0"
        "IsHidden"            "0"
        "IsDebuff"            "1"
        "IsPurgable"          "0"

        "Duration"            "%debuff_duration"

        "EffectName"          "particles/units/heroes/hero_ursa/ursa_fury_swipes_debuff.vpcf"
        "EffectAttachType"        "follow_overhead"
      }
    }
  }

  //=================================================================================================================
  // Tower ability: Machinegun
  //=================================================================================================================
  "imba_tower_machinegun"
  {
    // General
    //-------------------------------------------------------------------------------------------------------------
    "BaseClass"               "ability_datadriven"
    "AbilityBehavior"           "DOTA_ABILITY_BEHAVIOR_PASSIVE"
    "AbilityTextureName"          "gyrocopter_skyhigh_flak_cannon"
    "MaxLevel"                "3"
    "AbilitySharedWithTeammates"      "1"

    // Special
    //-------------------------------------------------------------------------------------------------------------
    "AbilitySpecial"
    {
      "01"
      {
        "var_type"            "FIELD_INTEGER"
        "damage_reduction"        "-50"
      }
      "02"
      {
        "var_type"            "FIELD_INTEGER"
        "bonus_as"            "100 175 250"
      }
      "03"
      {
        "var_type"            "FIELD_INTEGER"
        "upgrade_cost"          "500 750"
      }
    }

    "Modifiers"
    {
      "modifier_imba_tower_machinegun"
      {
        "Passive"           "1"
        "IsHidden"            "1"

        "Properties"
        {
          "MODIFIER_PROPERTY_BASEATTACK_BONUSDAMAGE"    "%damage_reduction"
          "MODIFIER_PROPERTY_ATTACKSPEED_BONUS_CONSTANT"  "%bonus_as"
        }
      }
    }
  }

  //=================================================================================================================
  // Tower ability: Essence Drain
  //=================================================================================================================
  "imba_tower_essence_drain"
  {
    // General
    //-------------------------------------------------------------------------------------------------------------
    "BaseClass"               "ability_datadriven"
    "AbilityBehavior"           "DOTA_ABILITY_BEHAVIOR_PASSIVE"
    "AbilityTextureName"          "slark_essence_shift"
    "MaxLevel"                "3"
    "AbilitySharedWithTeammates"      "1"

    // Special
    //-------------------------------------------------------------------------------------------------------------
    "AbilitySpecial"
    {
      "01"
      {
        "var_type"            "FIELD_INTEGER"
        "drain_per_hit"         "1 2 3"
      }
      "02"
      {
        "var_type"            "FIELD_INTEGER"
        "drain_duration"        "10"
      }
      "03"
      {
        "var_type"            "FIELD_INTEGER"
        "upgrade_cost"          "400 600"
      }
    }

    "Modifiers"
    {
      "modifier_imba_tower_essence_drain"
      {
        "Passive"           "1"
        "IsHidden"            "1"

        "OnAttackLanded"
        {
          "RunScript"
          {
            "ScriptFile"      "hero/tower_abilities.lua"
            "Function"        "EssenceDrain"

            "modifier_str"      "modifier_imba_tower_essence_drain_str_stacks"
            "modifier_agi"      "modifier_imba_tower_essence_drain_agi_stacks"
            "modifier_int"      "modifier_imba_tower_essence_drain_int_stacks"
          }
        }
      }

      "modifier_imba_tower_essence_drain_str_stacks"
      {
        "Passive"         "0"
        "IsHidden"          "1"
        "IsDebuff"          "1"
        "IsPurgable"        "1"

        "Duration"          "%drain_duration"

        "Properties"
        {
          "MODIFIER_PROPERTY_STATS_STRENGTH_BONUS"  "-1"
        }
      }

      "modifier_imba_tower_essence_drain_agi_stacks"
      {
        "Passive"         "0"
        "IsHidden"          "0"
        "IsDebuff"          "1"
        "IsPurgable"        "1"

        "Duration"          "%drain_duration"

        "Properties"
        {
          "MODIFIER_PROPERTY_STATS_AGILITY_BONUS"   "-1"
        }
      }

      "modifier_imba_tower_essence_drain_int_stacks"
      {
        "Passive"         "0"
        "IsHidden"          "1"
        "IsDebuff"          "1"
        "IsPurgable"        "1"

        "Duration"          "%drain_duration"

        "Properties"
        {
          "MODIFIER_PROPERTY_STATS_INTELLECT_BONUS" "-1"
        }
      }
    }
  }

  //=================================================================================================================
  // Tower ability: Fervor
  //=================================================================================================================
  "imba_tower_fervor"
  {
    // General
    //-------------------------------------------------------------------------------------------------------------
    "BaseClass"               "ability_datadriven"
    "AbilityBehavior"           "DOTA_ABILITY_BEHAVIOR_PASSIVE"
    "AbilityTextureName"          "troll_warlord_fervor"
    "MaxLevel"                "3"
    "AbilitySharedWithTeammates"      "1"

    // Special
    //-------------------------------------------------------------------------------------------------------------
    "AbilitySpecial"
    {
      "01"
      {
        "var_type"            "FIELD_INTEGER"
        "stack_as"            "15 20 25"
      }
      "02"
      {
        "var_type"            "FIELD_INTEGER"
        "max_stacks"          "8 9 10"
      }
      "03"
      {
        "var_type"            "FIELD_FLOAT"
        "stack_duration"        "2.5"
      }
      "04"
      {
        "var_type"            "FIELD_INTEGER"
        "upgrade_cost"          "400 600"
      }
    }

    "Modifiers"
    {
      "modifier_imba_tower_fervor"
      {
        "Passive"           "1"
        "IsHidden"            "1"

        "OnAttackLanded"
        {
          "RunScript"
          {
            "ScriptFile"      "hero/tower_abilities.lua"
            "Function"        "Fervor"

            "modifier_fervor"   "modifier_imba_tower_fervor_buff"
          }
        }
      }

      "modifier_imba_tower_fervor_buff"
      {
        "Passive"           "0"
        "IsHidden"            "0"
        "IsBuff"            "1"
        "IsPurgable"          "0"

        "Duration"            "%stack_duration"

        "Properties"
        {
          "MODIFIER_PROPERTY_ATTACKSPEED_BONUS_CONSTANT"  "%stack_as"
        }
      }
    }
  }

  //=================================================================================================================
  // Tower ability: Berserk
  //=================================================================================================================
  "imba_tower_berserk"
  {
    // General
    //-------------------------------------------------------------------------------------------------------------
    "BaseClass"               "ability_datadriven"
    "AbilityBehavior"           "DOTA_ABILITY_BEHAVIOR_PASSIVE"
    "AbilityTextureName"          "huskar_berserkers_blood"
    "MaxLevel"                "3"
    "AbilitySharedWithTeammates"      "1"

    // Special
    //-------------------------------------------------------------------------------------------------------------
    "AbilitySpecial"
    {
      "01"
      {
        "var_type"            "FIELD_INTEGER"
        "stack_as"            "4 6 8"
      }
      "02"
      {
        "var_type"            "FIELD_INTEGER"
        "stack_dmg"           "2 3 4"
      }
      "03"
      {
        "var_type"            "FIELD_INTEGER"
        "hp_per_stack"          "4"
      }
      "04"
      {
        "var_type"            "FIELD_INTEGER"
        "upgrade_cost"          "600 800"
      }
    }

    "Modifiers"
    {
      "modifier_imba_tower_berserk"
      {
        "Passive"           "1"
        "IsHidden"            "1"

        "ThinkInterval"         "0.5"

        "OnIntervalThink"
        {
          "RunScript"
          {
            "ScriptFile"      "hero/tower_abilities.lua"
            "Function"        "Berserk"

            "modifier_berserk"    "modifier_imba_tower_berserk_buff"
          }
        }
      }

      "modifier_imba_tower_berserk_buff"
      {
        "Passive"           "0"
        "IsHidden"            "0"
        "IsBuff"            "1"
        "IsPurgable"          "0"

        "Properties"
        {
          "MODIFIER_PROPERTY_ATTACKSPEED_BONUS_CONSTANT"  "%stack_as"
          "MODIFIER_PROPERTY_BASEATTACK_BONUSDAMAGE"    "%stack_dmg"
        }
      }
    }
  }

  //=================================================================================================================
  // Tower ability: Thorns
  //=================================================================================================================
  "imba_tower_thorns"
  {
    // General
    //-------------------------------------------------------------------------------------------------------------
    "BaseClass"               "ability_datadriven"
    "AbilityBehavior"           "DOTA_ABILITY_BEHAVIOR_PASSIVE"
    "AbilityTextureName"          "tower_thorns"
    "MaxLevel"                "3"
    "AbilitySharedWithTeammates"      "1"

    // Special
    //-------------------------------------------------------------------------------------------------------------
    "AbilitySpecial"
    {
      "01"
      {
        "var_type"            "FIELD_INTEGER"
        "damage_per_hit"        "30 45 60"
      }
      "02"
      {
        "var_type"            "FIELD_INTEGER"
        "upgrade_cost"          "400 600"
      }
    }

    "Modifiers"
    {
      "modifier_imba_tower_thorns"
      {
        "Passive"           "1"
        "IsHidden"            "1"

        "OnAttacked"
        {
          "Damage"
          {
            "Type"          "DAMAGE_TYPE_PHYSICAL"
            "Damage"        "%damage_per_hit"
            "Target"
            {
              "Center"      "ATTACKER"
              "Teams"       "DOTA_UNIT_TARGET_TEAM_ENEMY"
              "Types"       "DOTA_UNIT_TARGET_HERO | DOTA_UNIT_TARGET_BASIC | DOTA_UNIT_TARGET_MECHANICAL"
              "Flags"       "DOTA_UNIT_TARGET_FLAG_MAGIC_IMMUNE_ENEMIES"
            }
          }

          "FireEffect"
          {
            "EffectName"      "particles/units/heroes/hero_centaur/centaur_return.vpcf"
            "EffectAttachType"    "attach_hitloc"
            "Target"        "CASTER"

            "ControlPointEntities"
            {
              "CASTER"        "attach_hitloc"
              "ATTACKER"      "attach_hitloc"
            }
          }
        }
      }
    }
  }

  //=================================================================================================================
  // Tower ability: Multihit
  //=================================================================================================================
  "imba_tower_multihit"
  {
    // General
    //-------------------------------------------------------------------------------------------------------------
    "BaseClass"               "ability_datadriven"
    "AbilityBehavior"           "DOTA_ABILITY_BEHAVIOR_PASSIVE"
    "AbilityTextureName"          "windrunner_focusfire"
    "MaxLevel"                "3"
    "AbilitySharedWithTeammates"      "1"

    // Special
    //-------------------------------------------------------------------------------------------------------------
    "AbilitySpecial"
    {
      "01"
      {
        "var_type"            "FIELD_INTEGER"
        "bonus_attacks"         "1 2 3"
      }
      "02"
      {
        "var_type"            "FIELD_FLOAT"
        "delay"             "0.15"
      }
      "03"
      {
        "var_type"            "FIELD_INTEGER"
        "upgrade_cost"          "700 1050"
      }
    }

    "Modifiers"
    {
      "modifier_imba_tower_multihit"
      {
        "Passive"           "1"
        "IsHidden"            "1"

        "OnAttackStart"
        {
          "RunScript"
          {
            "ScriptFile"      "hero/tower_abilities.lua"
            "Function"        "Multihit"
          }
        }
      }
    }
  }

  //=================================================================================================================
  // Tower ability: Spell Shield
  //=================================================================================================================
  "imba_tower_spell_shield"
  {
    // General
    //-------------------------------------------------------------------------------------------------------------
    "BaseClass"               "ability_datadriven"
    "AbilityBehavior"           "DOTA_ABILITY_BEHAVIOR_PASSIVE"
    "AbilityTextureName"          "antimage_spell_shield"
    "MaxLevel"                "3"
    "AbilitySharedWithTeammates"      "1"

    // Special
    //-------------------------------------------------------------------------------------------------------------
    "AbilitySpecial"
    {
      "01"
      {
        "var_type"            "FIELD_INTEGER"
        "magic_resistance"        "100"
      }
      "02"
      {
        "var_type"            "FIELD_INTEGER"
        "magic_resistance_aura"     "10 20 30"
      }
      "03"
      {
        "var_type"            "FIELD_INTEGER"
        "purge_interval"        "5 4 3"
      }
      "04"
      {
        "var_type"            "FIELD_INTEGER"
        "aura_radius"         "800"
      }
      "05"
      {
        "var_type"            "FIELD_INTEGER"
        "upgrade_cost"          "800 1200"
      }
    }

    "Modifiers"
    {
      "modifier_imba_tower_spell_shield"
      {
        "Passive"           "1"
        "IsHidden"            "1"

        "ThinkInterval"         "%purge_interval"

        "OnIntervalThink"
        {
          "RunScript"
          {
            "ScriptFile"      "hero/tower_abilities.lua"
            "Function"        "SpellShield"

            "particle_purge"    "particles/generic_gameplay/generic_purge.vpcf"
            "sound_purge"     "Hero_Warlock.ShadowWordCastGood" 
          }
        }

        "Aura"              "modifier_imba_tower_spell_shield_aura"
        "Aura_Radius"         "%aura_radius"
        "Aura_Teams"          "DOTA_UNIT_TARGET_TEAM_FRIENDLY"
        "Aura_Types"          "DOTA_UNIT_TARGET_HERO | DOTA_UNIT_TARGET_BASIC | DOTA_UNIT_TARGET_MECHANICAL"
        "Aura_ApplyToCaster"      "0"

        "Properties"
        {
          "MODIFIER_PROPERTY_MAGICAL_RESISTANCE_BONUS"  "%magic_resistance"
        }

        "States"
        {
          "MODIFIER_STATE_MAGIC_IMMUNE" "MODIFIER_STATE_VALUE_ENABLED"
        }
      }

      "modifier_imba_tower_spell_shield_aura"
      {
        "Passive"           "0"
        "IsHidden"            "0"
        "IsBuff"            "1"
        "IsPurgable"          "0"

        "Properties"
        {
          "MODIFIER_PROPERTY_MAGICAL_RESISTANCE_BONUS"  "%magic_resistance_aura"
        }
      }
    }
  }

  //=================================================================================================================
  // Tower ability: Plague
  //=================================================================================================================
  "imba_tower_plague"
  {
    // General
    //-------------------------------------------------------------------------------------------------------------
    "BaseClass"               "ability_datadriven"
    "AbilityBehavior"           "DOTA_ABILITY_BEHAVIOR_PASSIVE"
    "AbilityTextureName"          "tower_rot"
    "MaxLevel"                "3"
    "AbilitySharedWithTeammates"      "1"

    // Special
    //-------------------------------------------------------------------------------------------------------------
    "AbilitySpecial"
    {
      "01"
      {
        "var_type"            "FIELD_INTEGER"
        "damage_per_second"       "30 40 50"
      }
      "02"
      {
        "var_type"            "FIELD_INTEGER"
        "slow"              "-10 -15 -20"
      }
      "03"
      {
        "var_type"            "FIELD_INTEGER"
        "area_of_effect"        "625"
      }
      "04"
      {
        "var_type"            "FIELD_INTEGER"
        "damage_per_tick"       "15 20 25"
      }
      "05"
      {
        "var_type"            "FIELD_FLOAT"
        "tick_rate"           "0.5"
      }
      "06"
      {
        "var_type"            "FIELD_INTEGER"
        "upgrade_cost"          "700 1050"
      }
    }

    "Modifiers"
    {
      "modifier_imba_tower_plague"
      {
        "Passive"           "1"
        "IsHidden"            "1"

        "Aura"              "modifier_imba_tower_plague_aura"
        "Aura_Radius"         "%area_of_effect"
        "Aura_Teams"          "DOTA_UNIT_TARGET_TEAM_ENEMY"
        "Aura_Types"          "DOTA_UNIT_TARGET_HERO | DOTA_UNIT_TARGET_BASIC | DOTA_UNIT_TARGET_MECHANICAL"
        "Aura_ApplyToCaster"      "0"

        "OnCreated"
        {
          "RunScript"
          {
            "ScriptFile"      "hero/tower_abilities.lua"
            "Function"        "PlagueParticle"

            "particle_plague"   "particles/units/heroes/hero_pudge/pudge_rot.vpcf"
          }
        } 
      }

      "modifier_imba_tower_plague_aura"
      {
        "Passive"           "0"
        "IsHidden"            "0"
        "IsDebuff"            "1"
        "IsPurgable"          "1"

        "ThinkInterval"         "%tick_rate"

        "OnIntervalThink"
        {
          "Damage"
          {
            "Target"        "TARGET"
            "Type"          "DAMAGE_TYPE_MAGICAL"
            "Damage"        "%damage_per_tick"
          }
        }

        "Properties"
        {
          "MODIFIER_PROPERTY_ATTACKSPEED_BONUS_CONSTANT"  "%slow"
          "MODIFIER_PROPERTY_MOVESPEED_BONUS_PERCENTAGE"  "%slow" 
        }
      }
    }
  }

  //=================================================================================================================
  // Tower ability: Aegis
  //=================================================================================================================
  "imba_tower_aegis"
  {
    // General
    //-------------------------------------------------------------------------------------------------------------
    "BaseClass"               "ability_datadriven"
    "AbilityBehavior"           "DOTA_ABILITY_BEHAVIOR_PASSIVE"
    "AbilityTextureName"          "modifier_invulnerable"
    "MaxLevel"                "3"
    "AbilitySharedWithTeammates"      "1"

    // Special
    //-------------------------------------------------------------------------------------------------------------
    "AbilitySpecial"
    {
      "01"
      {
        "var_type"            "FIELD_INTEGER"
        "bonus_armor"         "4 8 12"
      }
      "02"
      {
        "var_type"            "FIELD_INTEGER"
        "bonus_health"          "400 800 1200"
      }
      "03"
      {
        "var_type"            "FIELD_INTEGER"
        "upgrade_cost"          "700 1050"
      }
    }

    "OnUpgrade"
    {
      "RunScript"
      {
        "ScriptFile"          "hero/tower_abilities.lua"
        "Function"            "AegisUpdate"
      }
    }

    "Modifiers"
    {
      "modifier_imba_tower_aegis"
      {
        "Passive"           "1"
        "IsHidden"            "1"

        "Properties"
        {
          "MODIFIER_PROPERTY_PHYSICAL_ARMOR_BONUS"  "%bonus_armor"
        }
      }
    }
  }

  //=================================================================================================================
  // Tower ability: Self Repair
  //=================================================================================================================
  "imba_tower_self_repair"
  {
    // General
    //-------------------------------------------------------------------------------------------------------------
    "BaseClass"               "ability_datadriven"
    "AbilityBehavior"           "DOTA_ABILITY_BEHAVIOR_PASSIVE"
    "AbilityTextureName"          "treant_living_armor"
    "MaxLevel"                "3"
    "AbilitySharedWithTeammates"      "1"

    // Special
    //-------------------------------------------------------------------------------------------------------------
    "AbilitySpecial"
    {
      "01"
      {
        "var_type"            "FIELD_INTEGER"
        "hp_regen"            "5 10 10"
      }
      "02"
      {
        "var_type"            "FIELD_INTEGER"
        "regen_delay"         "3 3 0"
      }
      "03"
      {
        "var_type"            "FIELD_INTEGER"
        "upgrade_cost"          "400 600"
      }
    }

    "Modifiers"
    {
      "modifier_imba_tower_self_repair"
      {
        "Passive"           "1"
        "IsHidden"            "1"

        "OnCreated"
        {
          "RunScript"
          {
            "ScriptFile"      "hero/tower_abilities.lua"
            "Function"        "SelfRepairParticle"

            "particle_regen"    "particles/units/heroes/hero_treant/treant_livingarmor.vpcf"
          }

          "FireSound"
          {
            "EffectName"      "Hero_Treant.LivingArmor.Target"
            "Target"        "CASTER"
          }
        } 

        "OnTakeDamage"
        {
          "RunScript"
          {
            "ScriptFile"      "hero/tower_abilities.lua"
            "Function"        "SelfRepair"

            "modifier_regen"    "modifier_imba_tower_self_repair"
          }
        }

        "Properties"
        {
          "MODIFIER_PROPERTY_HEALTH_REGEN_CONSTANT" "%hp_regen"
        }
      }
    }
  }

  //+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
  //  [HERO]    HERO ABILITIES
  //+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++

  //=================================================================================================================
  // War Veteran buff
  //=================================================================================================================
  "imba_unlimited_level_powerup"
  {
    // General
    //-------------------------------------------------------------------------------------------------------------
    "BaseClass"                   "ability_datadriven"
    "AbilityBehavior"               "DOTA_ABILITY_BEHAVIOR_PASSIVE | DOTA_ABILITY_BEHAVIOR_HIDDEN | DOTA_ABILITY_BEHAVIOR_NOT_LEARNABLE"
    "AbilityTextureName"              "unlimited_level_powerup"
    "MaxLevel"                    "1"

    // Special
    //-------------------------------------------------------------------------------------------------------------
    "AbilitySpecial"
    {
      "01"
      {
        "var_type"                "FIELD_INTEGER"
        "stat_bonus"              "1"
      }
      "02"
      {
        "var_type"                "FIELD_INTEGER"
        "ms_bonus"                "3"
      }
      "03"
      {
        "var_type"                "FIELD_INTEGER"
        "as_bonus"                "3"
      }
      "04"
      {
        "var_type"                "FIELD_INTEGER"
        "dmg_bonus"               "3"
      }
    }

    "Modifiers"
    {
      "modifier_imba_unlimited_level_powerup"
      {
        "Passive"               "0"
        "IsHidden"                "0"
        "IsBuff"                "1"
        "IsPurgable"              "0"
    
        "Attributes"              "MODIFIER_ATTRIBUTE_PERMANENT | MODIFIER_ATTRIBUTE_IGNORE_INVULNERABLE"
    
        "Properties"
        {
          "MODIFIER_PROPERTY_ATTACKSPEED_BONUS_CONSTANT"      "%as_bonus"
          "MODIFIER_PROPERTY_MOVESPEED_BONUS_CONSTANT"      "%ms_bonus"
          "MODIFIER_PROPERTY_PREATTACK_BONUS_DAMAGE"        "%dmg_bonus"
          "MODIFIER_PROPERTY_STATS_STRENGTH_BONUS"        "%stat_bonus"
          "MODIFIER_PROPERTY_STATS_AGILITY_BONUS"         "%stat_bonus"
          "MODIFIER_PROPERTY_STATS_INTELLECT_BONUS"       "%stat_bonus"
        }
      }
    }
  }
  
  //=================================================================================================================
  // Abaddon : aphotic shield
  //=================================================================================================================
  "imba_abaddon_aphotic_shield"
  {
    // General
    //-------------------------------------------------------------------------------------------------------------
    "BaseClass"       "ability_datadriven"
    "AbilityBehavior"       "DOTA_ABILITY_BEHAVIOR_UNIT_TARGET"
    "AbilityUnitTargetTeam"     "DOTA_UNIT_TARGET_TEAM_FRIENDLY"
    "AbilityUnitTargetType"     "DOTA_UNIT_TARGET_HERO | DOTA_UNIT_TARGET_BASIC | DOTA_UNIT_TARGET_MECHANICAL"
    "AbilityUnitTargetFlags"    "DOTA_UNIT_TARGET_FLAG_NOT_MAGIC_IMMUNE_ALLIES"
    "SpellImmunityType"       "SPELL_IMMUNITY_ALLIES_NO"
    "FightRecapLevel"       "1"
    "AbilityTextureName"      "abaddon_aphotic_shield"
  
    // Casting
    //-------------------------------------------------------------------------------------------------------------
    "AbilityCastRange"        "500"
    "AbilityCastPoint"        "0.452 0.452 0.452 0.452"
    
    // Time   
    //-------------------------------------------------------------------------------------------------------------
    "AbilityCooldown"       "12.0 10.0 8.0 6.0"
    
    // Cost
    //-------------------------------------------------------------------------------------------------------------
    "AbilityManaCost"       "100 105 110 115"
  
    
    // Special
    //-------------------------------------------------------------------------------------------------------------
    "AbilitySpecial"
    {
      "01"
      {
        "var_type"        "FIELD_FLOAT"
        "duration"        "15.0"
      }
      "02"
      {
        "var_type"        "FIELD_FLOAT"
        "damage_absorb"     "110.0 140.0 170.0 200.0"
      }
      "03"
      {
        "var_type"        "FIELD_INTEGER"
        "radius"        "675"
      }
    }
  
    "precache"
    { 
      "soundfile" "soundevents/game_sounds_heroes/game_sounds_abaddon.vsndevts"
      "particle"  "particles/units/heroes/hero_abaddon/abaddon_aphotic_shield_explosion.vpcf"
      "particle"  "particles/units/heroes/hero_abaddon/abaddon_aphotic_shield.vpcf"
      "particle"  "particles/units/heroes/hero_abaddon/abaddon_aphotic_shield_hit.vpcf"
    }
  
    "OnSpellStart"
    {
      "RunScript"
      {
        "ScriptFile"  "hero/hero_abaddon.lua"
        "Function"    "AphoticShield"
      }
  
      "FireSound"
      {
        "EffectName"  "Hero_Abaddon.AphoticShield.Cast"
        "Target"        "TARGET"  
      }
  
      "RemoveModifier"
      {
        "Target"    "TARGET"
        "ModifierName"  "modifier_aphotic_shield"
      }
  
      "ApplyModifier"
      {
        "Target"    "TARGET"
        "ModifierName"  "modifier_aphotic_shield"
      }
    }
  
    "Modifiers"
    {
      "modifier_aphotic_shield"
      {
        "IsBuff"      "1"
        "Duration"      "%duration"
      
        "ThinkInterval"   "0.03"
  
        "OnIntervalThink"
        {
          "RunScript"
          {
            "ScriptFile"  "hero/hero_abaddon.lua"
            "Function"    "AphoticShieldHealth"
          }
        }
  
        "OnTakeDamage"
        {
          "RunScript"
          {
            "ScriptFile"  "hero/hero_abaddon.lua"
            "Function"    "AphoticShieldAbsorb"
            "DamageTaken" "%attack_damage"
          }
        }
  
        "OnDestroy"
        {
          "AttachEffect"
          {
            "EffectName"    "particles/units/heroes/hero_abaddon/abaddon_aphotic_shield_explosion.vpcf"
            "EffectAttachType"  "follow_origin"
            "Target"      "TARGET"
            "ControlPointEntities"
                  {
                      "TARGET"    "attach_origin"
                      "TARGET"    "attach_origin"
                  }
          }
  
          "RunScript"
          {
            "ScriptFile"  "hero/hero_abaddon.lua"
            "Function"    "EndShieldParticle"
          }
  
          "Damage"
          {
            "Target"
            {
              "Center"        "TARGET"
              "Radius"      "%radius"
              "Teams"       "DOTA_UNIT_TARGET_TEAM_ENEMY"
              "Types"       "DOTA_UNIT_TARGET_HERO | DOTA_UNIT_TARGET_BASIC"
            }
            "Type"       "DAMAGE_TYPE_MAGICAL"
            "Damage"     "%damage_absorb"
          }

          "Heal"
          {
            "Target"
            {
              "Center"        "TARGET"
              "Radius"      "%radius"
              "Teams"       "DOTA_UNIT_TARGET_TEAM_FRIENDLY"
              "Types"       "DOTA_UNIT_TARGET_HERO | DOTA_UNIT_TARGET_BASIC"
            }
            "HealAmount"     "%damage_absorb"
          }
        }
      }
    }
  }
  
  //=================================================================================================================
  // Abaddon's Borrowed Time
  //=================================================================================================================
  "imba_abaddon_borrowed_time"
  {
    // General
    //-------------------------------------------------------------------------------------------------------------
    "BaseClass"                   "ability_datadriven"
    "AbilityBehavior"               "DOTA_ABILITY_BEHAVIOR_NO_TARGET | DOTA_ABILITY_BEHAVIOR_IMMEDIATE | DOTA_ABILITY_BEHAVIOR_TOGGLE | DOTA_ABILITY_BEHAVIOR_IGNORE_PSEUDO_QUEUE"
    "AbilityType"                 "DOTA_ABILITY_TYPE_ULTIMATE"
    "FightRecapLevel"               "2"
    "AbilityTextureName"              "abaddon_borrowed_time"
    
    // Casting
    //-------------------------------------------------------------------------------------------------------------
    "AbilityCastPoint"                "0.0"

    // Time   
    //-------------------------------------------------------------------------------------------------------------
    "AbilityCooldown"               "55.0 45.0 35.0"

    // Cost
    //-------------------------------------------------------------------------------------------------------------
    "AbilityManaCost"               "0"

    // Special
    //-------------------------------------------------------------------------------------------------------------
    "AbilitySpecial"
    {
      "01"
      {
        "var_type"                "FIELD_INTEGER"
        "hp_threshold"              "400"
      }
      "02"
      {
        "var_type"                "FIELD_INTEGER"
        "duration"                "4 6 8"
      }
      "03"
      {
        "var_type"                "FIELD_INTEGER"
        "duration_scepter"            "6 8 10"
      }
      "04"
      {
        "var_type"                "FIELD_FLOAT"
        "redirect"                "0.30"
      }
      "05"
      {
        "var_type"                "FIELD_INTEGER"
        "redirect_range"            "20000"
      }
      "06"
      {
        "var_type"                "FIELD_INTEGER"
        "redirect_property"           "-30"
      }
    }

    "precache"
    { 
      "soundfile"                 "soundevents/game_sounds_heroes/game_sounds_abaddon.vsndevts"
      "particle"                  "particles/units/heroes/hero_abaddon/abaddon_borrowed_time.vpcf"
      "particle"                  "particles/status_fx/status_effect_abaddon_borrowed_time.vpcf"
    }

    "OnToggleOn"
    {
      "FireSound"
      {
        "Target"                "CASTER"
        "EffectName"              "Hero_Abaddon.BorrowedTime" 
      }

      "RunScript"
      {
        "ScriptFile"              "hero/hero_abaddon.lua"
        "Function"                "BorrowedTimePurge"
      }
    }

    "Modifiers"
    {
      "modifier_borrowed_time_passive"
      {
        "Passive"               "1"
        "IsHidden"                "1"
        "IsPurgable"              "0"

        "OnTakeDamage"
        {
          "RunScript"
          {
            "ScriptFile"          "hero/hero_abaddon.lua"
            "Function"            "BorrowedTimeActivate"
          }
        }
      }

      "modifier_borrowed_time"
      {
        "IsBuff"                "1"
        "IsPurgable"              "0"

        "EffectName"              "particles/units/heroes/hero_abaddon/abaddon_borrowed_time.vpcf"
        "EffectAttachType"            "follow_origin"

        "StatusEffectName"            "particles/status_fx/status_effect_abaddon_borrowed_time.vpcf"
        "StatusEffectPriority"          "15"
        
        "OnTakeDamage"
        {
          "RunScript"
          {
            "ScriptFile"          "hero/hero_abaddon.lua"
            "Function"            "BorrowedTimeHeal"
            "DamageTaken"         "%attack_damage"
          }
        }

        "Aura"                      "modifier_borrowed_time_allies"
        "Aura_Radius"               "%redirect_range"
        "Aura_Teams"                "DOTA_UNIT_TARGET_TEAM_FRIENDLY"
        "Aura_Types"                "DOTA_UNIT_TARGET_HERO"
        "Aura_ApplyToCaster"          "0"
      }

      "modifier_borrowed_time_allies"
      {
        "Passive"               "0"
        "IsBuff"                "1"
        "IsPurgable"              "0"

        "OnTakeDamage"
        {
          "RunScript"
          {
            "ScriptFile"          "hero/hero_abaddon.lua"
            "Function"            "BorrowedTimeAllies"
            "DamageTaken"         "%attack_damage"
          }
        }

        "Properties"
        {
            "MODIFIER_PROPERTY_INCOMING_DAMAGE_PERCENTAGE"  "%redirect_property" 
        }
      }
    }
  }
  
  //=================================================================================================================
  // Abaddon : Death coil
  //=================================================================================================================
  "imba_abaddon_death_coil"
  {
    // General
    //-------------------------------------------------------------------------------------------------------------
    "BaseClass"       "ability_datadriven"
    "AbilityBehavior"       "DOTA_ABILITY_BEHAVIOR_UNIT_TARGET"
    "AbilityUnitTargetTeam"     "DOTA_UNIT_TARGET_TEAM_BOTH"
    "AbilityUnitTargetType"     "DOTA_UNIT_TARGET_HERO | DOTA_UNIT_TARGET_CREEP | DOTA_UNIT_TARGET_MECHANICAL"
    "SpellImmunityType"       "SPELL_IMMUNITY_ALLIES_YES"
    "AbilityUnitDamageType"     "DAMAGE_TYPE_MAGICAL" 
    "FightRecapLevel"       "1"
    "AbilityTextureName"      "abaddon_death_coil"
    "CastFilterRejectCaster"    "1"
  
    // Casting
    //-------------------------------------------------------------------------------------------------------------
    "AbilityCastRange"        "800"
    "AbilityCastPoint"        "0.452 0.452 0.452 0.452"
    
    // Time   
    //-------------------------------------------------------------------------------------------------------------
    "AbilityCooldown"       "4.5 4.5 4.5 4.5"
  
    // Cost
    //-------------------------------------------------------------------------------------------------------------
    "AbilityManaCost"       "50 60 70 80"
  
    // Special
    //-------------------------------------------------------------------------------------------------------------
    "AbilitySpecial"
    {
      "01"
      {
        "var_type"        "FIELD_INTEGER"
        "projectile_speed"    "1250"
      }
      "02"
      {
        "var_type"        "FIELD_FLOAT"
        "self_damage"     "300 450 600 750"
      }
      "03"
      {
        "var_type"        "FIELD_FLOAT"
        "target_damage"     "300 450 600 750"
      }
      "04"
      {
        "var_type"        "FIELD_INTEGER"
        "heal_amount"     "300 450 600 750"
      }
    }
  
    "precache"
    {
      "soundfile" "soundevents/game_sounds_heroes/game_sounds_abaddon.vsndevts"
      "particle"  "particles/units/heroes/hero_abaddon/abaddon_death_coil.vpcf"
    }
  
    "OnSpellStart"
    {
      "RunScript"
      {
        "ScriptFile"  "hero/hero_abaddon.lua"
        "Function"    "DeathCoil"
      }
    }
  }
  
  //=================================================================================================================
  // Abaddon : Frostmourne
  //=================================================================================================================
  "imba_abaddon_frostmourne"
  {
    // General
    //-------------------------------------------------------------------------------------------------------------
    "BaseClass"       "ability_datadriven"
    "AbilityBehavior"   "DOTA_ABILITY_BEHAVIOR_PASSIVE"
    "SpellImmunityType"   "SPELL_IMMUNITY_ENEMIES_YES"
    "AbilityTextureName"  "abaddon_frostmourne"
    
  
    // Special
    //-------------------------------------------------------------------------------------------------------------
    "AbilitySpecial"
    {
      "01"
      {
        "var_type"            "FIELD_FLOAT"
        "debuff_duration"       "2.5"
      }
      "02"
      {
        "var_type"            "FIELD_FLOAT"
        "buff_duration"         "4.5"
      }
      "03"
      {
        "var_type"            "FIELD_INTEGER"
        "slow_pct"            "-5 -10 -15 -20"
      }
      "04"
      {
        "var_type"            "FIELD_INTEGER"
        "attack_slow_tooltip"     "-5 -10 -15 -20"
      }
      "05"
      {
        "var_type"            "FIELD_INTEGER"
        "move_speed_pct"        "15"
      }
      "06"
      {
        "var_type"            "FIELD_INTEGER"
        "attack_speed"          "10 20 30 40"
      }
    }
  
    "precache"
    {
      "particle"  "particles/units/heroes/hero_abaddon/abaddon_frost_slow.vpcf"
      "particle"  "particles/units/heroes/hero_abaddon/abaddon_frost_buff.vpcf"
    }
  
    "Modifiers"
    {
      "modifier_frostmourne"
      {
        "Passive" "1"
        "IsHidden"  "1"
  
        "OnAttackLanded"
        {
          "ApplyModifier"
          {
            "Target"
            {
              "Center"  "TARGET"
              "Teams"   "DOTA_UNIT_TARGET_TEAM_ENEMY"
            }
            "ModifierName"    "modifier_frostmourne_debuff"
            "Duration"      "%debuff_duration"
          }
          "ApplyModifier"
          {
            "Target"      "CASTER"
            "ModifierName"    "modifier_frostmourne_buff"
            "Duration"      "%buff_duration"
          }
        }
      }
  
      "modifier_frostmourne_debuff"
      {
        "IsDebuff"  "1"
        "EffectName"  "particles/units/heroes/hero_abaddon/abaddon_frost_slow.vpcf"
        "EffectAttachType"  "follow_origin"
        "Properties"
        {
          "MODIFIER_PROPERTY_MOVESPEED_BONUS_PERCENTAGE"  "%slow_pct"
          "MODIFIER_PROPERTY_ATTACKSPEED_BONUS_CONSTANT"  "%attack_slow_tooltip"     
        }
        
        "OnAttacked"
        {
          "ApplyModifier"
          {
            "Target"      "ATTACKER"
            "ModifierName"    "modifier_frostmourne_buff"
            "Duration"      "%buff_duration"
          }
        }
      }
  
      "modifier_frostmourne_buff"
      {
        "IsBuff"    "1"
        "EffectName"  "particles/units/heroes/hero_abaddon/abaddon_frost_buff.vpcf"
        "EffectAttachType"  "follow_origin"
        "Properties"
        {
          "MODIFIER_PROPERTY_MOVESPEED_BONUS_PERCENTAGE"  "%move_speed_pct"
          "MODIFIER_PROPERTY_ATTACKSPEED_BONUS_CONSTANT"  "%attack_speed"
          "MODIFIER_PROPERTY_BONUS_DAY_VISION"            "200"  
          "MODIFIER_PROPERTY_BONUS_NIGHT_VISION"          "200" 
        }
      }
    }
  }
  
  //=================================================================================================================
  // Antimage Mana Break
  //=================================================================================================================
  "imba_antimage_mana_break"
  {
    // General
    //-------------------------------------------------------------------------------------------------------------
    "BaseClass"                   "ability_datadriven"
    "AbilityBehavior"             "DOTA_ABILITY_BEHAVIOR_PASSIVE"
    "AbilityUnitTargetTeam"       "DOTA_UNIT_TARGET_TEAM_ENEMY"
    "AbilityUnitTargetType"       "DOTA_UNIT_TARGET_HERO | DOTA_UNIT_TARGET_BASIC"
    "AbilityUnitDamageType"       "DAMAGE_TYPE_PHYSICAL"
    "AbilityTextureName"          "antimage_mana_break"

    // Precache
    //-------------------------------------------------------------------------------------------------------------
    "precache"
    {
      "particle"            "particles/generic_gameplay/generic_manaburn.vpcf"
      "soundfile"           "soundevents/game_sounds_heroes/game_sounds_antimage.vsndevts"
    }

    // Special
    //-------------------------------------------------------------------------------------------------------------
    "AbilitySpecial"
    {
      "01"
      {
        "var_type"          "FIELD_FLOAT"
        "damage_per_burn"     "0.5"
      }
      "02"
      {
        "var_type"          "FIELD_INTEGER"
        "max_mana_percent"      "20"
      }
      "03"
      {
        "var_type"          "FIELD_INTEGER"
        "maximum_mana_burn"     "50 100 150 200"
      }
      "04"
      {
        "var_type"          "FIELD_INTEGER"
        "damage_when_empty"     "10"
      }
      "05"
      {
        "var_type"          "FIELD_FLOAT"
        "illusion_factor"     "0.5"
      }
      "06"
      {
        "var_type"          "FIELD_FLOAT"
        "illusion_factor_tooltip" "50"
      }
    }

    "Modifiers"
    {
      "modifier_imba_antimage_mana_break"
      {
        "IsHidden"          "1"
        "Passive"           "1"
        "IsPurgable"        "0"

        "OnAttackLanded"
        {
          "RunScript"
          {
            "ScriptFile"    "hero/hero_antimage.lua"
            "Target"        "TARGET"
            "Function"      "ManaBreak"
          }
        }
      }
    }
  }

  //=================================================================================================================
  // Antimage Spell Shield
  //=================================================================================================================
  "imba_antimage_spell_shield"
  {
    // General
    //-------------------------------------------------------------------------------------------------------------
    "AbilityBehavior"       "DOTA_ABILITY_BEHAVIOR_IMMEDIATE | DOTA_ABILITY_BEHAVIOR_NO_TARGET"
    "BaseClass"             "ability_datadriven"
    "AbilityTextureName"    "antimage_spell_shield"

    // Casting
    //-------------------------------------------------------------------------------------------------------------
    "AbilityCooldown"       "20.0"
    "AbilityCastPoint"      "0.0"
    
    // Precache
    //-------------------------------------------------------------------------------------------------------------
    "precache"
    {
      "particle"          "particles/units/heroes/hero_antimage/antimage_blink_end_glow.vpcf"
      "particle"          "particles/hero/antimage/antimage_spell_shield_glow.vpcf"
      "soundfile"         "soundevents/game_sounds_heroes/game_sounds_antimage.vsndevts"
    }

    // Special
    //-------------------------------------------------------------------------------------------------------------
    "AbilitySpecial"
    {
      "01"
      {
        "var_type"        "FIELD_INTEGER"
        "magic_resistance"    "26 34 42 50"
      }
      "02"
      {
        "var_type"        "FIELD_FLOAT"
        "active_resistance"   "35.1 51.5 72.4 100"
      }
      "03"
      {
        "var_type"        "FIELD_INTEGER"
        "active_duration"   "8"
      }
      "04"
      {
        "var_type"        "FIELD_INTEGER"
        "aura_radius"     "1200"
      }
      "05"
      {
        "var_type"        "FIELD_INTEGER"
        "passive_duration"    "5"
      }
      "06"
      {
        "var_type"        "FIELD_FLOAT"
        "mana_per_stack"    "10"
      }
      "07"
      {
        "var_type"        "FIELD_FLOAT"
        "mana_to_purge"     "600"
      }
      "08"
      {
        "var_type"        "FIELD_FLOAT"
        "scale_up"        "0.004"
      }
    }

    "OnSpellStart"
    {
      "ApplyModifier"
      {
        "Target"        "CASTER"
        "ModifierName"      "modifier_imba_antimage_spell_shield_active"
      }

      "FireEffect"
      {
        "EffectName"      "particles\units\heroes\hero_antimage\antimage_blink_end_glow.vpcf"
        "Target"        "CASTER"
        "EffectAttachType"    "follow_origin"
      }

      "FireSound"
      {
        "EffectName"      "Hero_Antimage.ManaVoidCast"
        "Target"        "CASTER"
      }
    }
    
    "Modifiers"
    {
      "modifier_imba_antimage_spell_shield_passive"
      {
        "Passive"       "1"
        "IsHidden"        "1"
        "IsBuff"        "1"
        "IsPurgable"      "0"

        "Aura"          "modifier_imba_antimage_spell_shield_aura_effect"
        "Aura_Radius"     "%aura_radius"
        "Aura_Teams"      "DOTA_UNIT_TARGET_TEAM_ENEMY"
        "Aura_Types"      "DOTA_UNIT_TARGET_HERO"
        "Aura_Flags"      "DOTA_UNIT_TARGET_FLAG_MAGIC_IMMUNE_ENEMIES | DOTA_UNIT_TARGET_FLAG_INVULNERABLE | DOTA_UNIT_TARGET_FLAG_OUT_OF_WORLD"
        "Aura_ApplyToCaster"  "0"
        
        "Properties"
        {
          "MODIFIER_PROPERTY_MAGICAL_RESISTANCE_BONUS"  "%magic_resistance"
        }
      }

      "modifier_imba_antimage_spell_shield_active"
      {
        "Passive"       "0"
        "IsHidden"        "0"
        "IsBuff"        "1"
        "IsPurgable"      "0"

        "Duration"        "%active_duration"
      
        "Properties"
        {
          "MODIFIER_PROPERTY_MAGICAL_RESISTANCE_BONUS"    "%active_resistance"
        }
      }

      "modifier_imba_antimage_spell_shield_aura_effect"
      {
        "Passive"       "0"
        "IsHidden"        "1"
        "IsDebuff"        "1"
        "IsPurgable"      "0"

        "OnSpentMana"
        {
          "RunScript"
          {
            "ScriptFile"    "hero/hero_antimage.lua"
            "Function"      "SpellShield"

            "modifier_stacks" "modifier_imba_antimage_spell_shield_stacks"
            "particle_stacks" "particles/hero/antimage/antimage_spell_shield_glow.vpcf"
          }
        }
      }

      "modifier_imba_antimage_spell_shield_stacks"
      {
        "Passive"       "0"
        "IsHidden"        "0"
        "IsBuff"        "1"
        "IsPurgable"      "0"

        "Duration"        "%passive_duration"
      
        "OnDestroy"
        {
          "RunScript"
          {
            "ScriptFile"  "hero/hero_antimage.lua"
            "Function"    "SpellShieldEnd"
          }
        }

        "Properties"
        {
          "MODIFIER_PROPERTY_BASEDAMAGEOUTGOING_PERCENTAGE"   "1"
        }
      }
    }
  }

  //=================================================================================================================
  // Antimage Mana Void
  //=================================================================================================================
  "imba_antimage_mana_void"
  {
    // General
    //-------------------------------------------------------------------------------------------------------------
    "BaseClass"                 "ability_datadriven"
    "AbilityType"               "DOTA_ABILITY_TYPE_ULTIMATE"
    "AbilityBehavior"           "DOTA_ABILITY_BEHAVIOR_UNIT_TARGET | DOTA_ABILITY_BEHAVIOR_AOE"
    "AbilityUnitTargetTeam"     "DOTA_UNIT_TARGET_TEAM_ENEMY"
    "AbilityUnitTargetType"     "DOTA_UNIT_TARGET_HERO | DOTA_UNIT_TARGET_BASIC"
    "AbilityUnitTargetFlags"    "DOTA_UNIT_TARGET_FLAG_MAGIC_IMMUNE_ENEMIES"
    "SpellImmunityType"         "SPELL_IMMUNITY_ENEMIES_YES"
    "AbilityUnitDamageType"     "DAMAGE_TYPE_PURE"    
    "FightRecapLevel"           "2"
    "AbilityTextureName"        "antimage_mana_void"
    "AOERadius"                 "%mana_void_aoe_radius"

    // Precache
    //-------------------------------------------------------------------------------------------------------------
    "precache"
    {
      "particle"          "particles/units/heroes/hero_antimage/antimage_manavoid.vpcf"
      "particle"          "particles/econ/items/antimage/antimage_weapon_basher_ti5/antimage_manavoid_ti_5.vpcf"
      "particle"          "particles/econ/items/antimage/antimage_weapon_basher_ti5/antimage_manavoid_basher_cast.vpcf"
      "soundfile"         "soundevents/game_sounds_heroes/game_sounds_antimage.vsndevts"
    }

    // Casting
    //-------------------------------------------------------------------------------------------------------------
    "AbilityCastRange"        "600"
    "AbilityCastPoint"        "0.2"

    // Time   
    //-------------------------------------------------------------------------------------------------------------
    "AbilityCooldown"       "70.0"

    // Cost
    //-------------------------------------------------------------------------------------------------------------
    "AbilityManaCost"       "0"
  
    // Special
    //-------------------------------------------------------------------------------------------------------------
    "AbilitySpecial"
    {
      "01"
      {
        "var_type"              "FIELD_FLOAT"
        "mana_void_damage_per_mana"     "0.6 0.8 1.0"
      }
      "02"
      {
        "var_type"              "FIELD_FLOAT"
        "mana_void_ministun"        "0.3"
      }
      "03"
      {
        "var_type"              "FIELD_INTEGER"
        "mana_void_aoe_radius"        "500"
      }
      "04"
      {
        "var_type"              "FIELD_INTEGER"
        "mana_void_mana_burn_pct"     "25 30 35"
      }
      "05"
      {
        "var_type"              "FIELD_INTEGER"
        "mana_void_mana_burn_pct_scepter" "50 60 70"
      }
      "06"
      {
        "var_type"              "FIELD_INTEGER"
        "max_mana_burn"           "250 375 500"
      }
      "07"
      {
        "var_type"              "FIELD_INTEGER"
        "max_mana_burn_scepter"       "500 750 1000"
      }
    }

    "OnAbilityPhaseStart"
    {
      "FireSound"
      {
        "EffectName"  "Hero_Antimage.ManaVoidCast"
        "Target"
        {
          "Center"  "TARGET"
          "Flags"   "DOTA_UNIT_TARGET_FLAG_MAGIC_IMMUNE_ENEMIES"
        }
      }
    }

    "OnSpellStart"
    {
      "FireSound"
      {
        "EffectName"  "Hero_Antimage.ManaVoid"
        "Target"
        {
          "Center"  "TARGET"
          "Flags"   "DOTA_UNIT_TARGET_FLAG_MAGIC_IMMUNE_ENEMIES"
        }
      }

      "AttachEffect"
      {
        "EffectName"    "particles/units/heroes/hero_antimage/antimage_manavoid.vpcf"
        "EffectAttachType"  "attach_hitloc"
        "Target"
        {
          "Center"  "TARGET"
          "Flags"   "DOTA_UNIT_TARGET_FLAG_MAGIC_IMMUNE_ENEMIES"
        }

        "ControlPoints"
        {
          "00"  "0 0 0"
          "01"  "%mana_void_aoe_radius 0 0"
        }
      }

      "ApplyModifier"
      {
        "ModifierName"  "modifier_imba_mana_void_ministun"
        "Target"
        {
          "Center"  "TARGET"
          "Flags"   "DOTA_UNIT_TARGET_FLAG_MAGIC_IMMUNE_ENEMIES"
        }
      }

      "RunScript"
      {
        "ScriptFile"  "hero/hero_antimage.lua"
        "Function"    "ManaVoid"
        "Target"    "TARGET"
      }
    }

    "Modifiers"
    {
      "modifier_imba_mana_void_ministun"
      {
        "Duration"    "%mana_void_ministun"
        "IsDebuff"    "1"
        "IsPurgable"  "0"

        "States"
        {
          "MODIFIER_STATE_STUNNED"  "MODIFIER_STATE_VALUE_ENABLED"
        }
      }
    }
  }

  //=================================================================================================================
  // Antimage Blink
  //=================================================================================================================
  "imba_antimage_blink"
  {
    "BaseClass"              "ability_datadriven"
    "AbilityBehavior"        "DOTA_ABILITY_BEHAVIOR_POINT | DOTA_ABILITY_BEHAVIOR_ROOT_DISABLES"
    "AbilityType"            "DOTA_ABILITY_TYPE_BASIC"
    "AbilityTextureName"     "antimage_blink"
    "AbilityCastPoint"       "0.4 0.4 0.4 0.4"
    "AbilityManaCost"        "0 0 0 0"
    "AbilityCooldown"        "4.0 3.0 2.0 1.0"
    "AbilityCastAnimation"   "ACT_DOTA_CAST_ABILITY_2"


    "AbilitySpecial"
    {
      "01"
      {
        "var_type"        "FIELD_INTEGER"
        "blink_range"     "5000 10000 15000 20000"
      }

      "02"
      {
        "var_type"        "FIELD_INTEGER"
        "mana_void_range"   "200"
      }
      "03"
      {
        "var_type"        "FIELD_FLOAT"
        "mana_void_duration"  "0.5 0.7 0.9 1.1"
      }
    }

    "OnSpellStart"
    {

      "FireSound"
      {
        "EffectName"      "Hero_Antimage.Blink_out"
        "Target"          "CASTER"
      }

      "AttachEffect"
      {
        "EffectName"          "particles/units/heroes/hero_antimage/antimage_blink_start.vpcf"
        "Target"              "CASTER"
        "EffectAttachType"    "attach_hitloc"
      }

      "RunScript"
      {
        "ScriptFile"  "scripts/vscripts/hero/hero_antimage.lua"
        "Target"      "POINT"
        "Function"    "OnAntiMageBlink"
      }

      "FireSound"
      {
        "EffectName"      "Hero_Antimage.Blink_in"
        "Target"          "CASTER"
      }

      "AttachEffect"
      {
        "EffectName"          "particles/units/heroes/hero_antimage/antimage_blink_end.vpcf"
        "Target"              "CASTER"
        "EffectAttachType"    "follow_origin"
      }
    }
  }

  //=================================================================================================================
  // Axe Berserker's Call
  //=================================================================================================================
  "imba_axe_berserkers_call"
  {
    // General
    //-------------------------------------------------------------------------------------------------------------
    "AbilityBehavior"       "DOTA_ABILITY_BEHAVIOR_NO_TARGET | DOTA_ABILITY_BEHAVIOR_DONT_RESUME_MOVEMENT"
    "SpellImmunityType"       "SPELL_IMMUNITY_ENEMIES_YES"
    "FightRecapLevel"       "1"
    "BaseClass"           "ability_datadriven"
    "AbilityTextureName"      "axe_berserkers_call"   

    // Casting
    //-------------------------------------------------------------------------------------------------------------
    "AbilityCastPoint"        "0.3"
    "AbilityCastRange"        "425 450 475 500"

    // Time   
    //-------------------------------------------------------------------------------------------------------------
    "AbilityCooldown"       "10"

    // Damage.
    //-------------------------------------------------------------------------------------------------------------
    "AbilityDamage"         "0"

    // Cost
    //-------------------------------------------------------------------------------------------------------------
    "AbilityManaCost"       "80"  
    
    // Precache
    //-------------------------------------------------------------------------------------------------------------
    "precache"
    {
      "soundfile"         "soundevents/game_sounds_heroes/game_sounds_axe.vsndevts"
      "particle"          "particles/econ/items/axe/axe_helm_shoutmask/axe_beserkers_call_owner_shoutmask.vpcf"
      "particle"          "particles/status_fx/status_effect_beserkers_call.vpcf"
    }

    // Special
    //-------------------------------------------------------------------------------------------------------------
    "OnSpellStart"
    {
      "ApplyModifier"
      {
        "ModifierName"      "modifier_axe_berserkers_call"
        "Duration"        "%duration"
        "Target"
        {
          "Center"      "CASTER"
          "Radius"      "%radius"
          "Teams"       "DOTA_UNIT_TARGET_TEAM_ENEMY"
          "Types"       "DOTA_UNIT_TARGET_HERO | DOTA_UNIT_TARGET_CREEP | DOTA_UNIT_TARGET_MECHANICAL"
          "Flags"         "DOTA_UNIT_TARGET_FLAG_MAGIC_IMMUNE_ENEMIES"
        }
      }

      "ApplyModifier"
      {
        "ModifierName"      "modifier_axe_berserkers_call_as"
        "Duration"        "%duration"
        "Target"
        {
          "Center"      "CASTER"
          "Radius"      "%radius"
          "Teams"       "DOTA_UNIT_TARGET_TEAM_ENEMY"
          "Types"       "DOTA_UNIT_TARGET_HERO | DOTA_UNIT_TARGET_CREEP | DOTA_UNIT_TARGET_MECHANICAL"
          "Flags"         "DOTA_UNIT_TARGET_FLAG_MAGIC_IMMUNE_ENEMIES"
        }
      }

      "ApplyModifier"
      {
        "ModifierName"      "modifier_axe_berserkers_call_armor"
        "Duration"        "%duration"
        "Target"        "CASTER"
      }

      "FireEffect"
      {
        "EffectName"      "particles/econ/items/axe/axe_helm_shoutmask/axe_beserkers_call_owner_shoutmask.vpcf"
        "EffectAttachType"    "follow_origin"

        "ControlPoints"
        {
          "01"  "0 0 0"
          "02"  "%radius 0 0"
          "03"  "0 0 0"
        }
      }

      "FireSound"
      {
        "EffectName"      "Hero_Axe.Berserkers_Call"
        "Target"        "CASTER"
      }
    }
    
    "Modifiers"
    {
      "modifier_axe_berserkers_call_as"
      {
        "IsDebuff"        "1"
        "IsPurgable"      "0"
        "IsHidden"        "1"
        
        "Properties"
        {
          "MODIFIER_PROPERTY_ATTACKSPEED_BONUS_CONSTANT"    "%bonus_as"
        }
      }
    }
    
    "AbilitySpecial"
    {
      "01"
      {
        "var_type"        "FIELD_INTEGER"
        "radius"        "425 450 475 500"
      }
      "02"
      {
        "var_type"        "FIELD_INTEGER"
        "bonus_armor"     "200"
      }
      "03"
      {
        "var_type"        "FIELD_FLOAT"
        "duration"        "2.0 2.4 2.8 3.2"
      }
      "04"
      {
        "var_type"        "FIELD_INTEGER"
        "bonus_as"        "60 90 120 150"
      }
    }
  }

  //=================================================================================================================
  // Axe Battle Hunger
  //=================================================================================================================
  "imba_axe_battle_hunger"
  {
    // General
    //-------------------------------------------------------------------------------------------------------------
    "BaseClass"                 "ability_datadriven"
    "AbilityBehavior"           "DOTA_ABILITY_BEHAVIOR_UNIT_TARGET"
    "AbilityUnitTargetTeam"     "DOTA_UNIT_TARGET_TEAM_ENEMY"
    "AbilityUnitTargetType"     "DOTA_UNIT_TARGET_HERO | DOTA_UNIT_TARGET_BASIC"
    "AbilityUnitTargetFlags"    "DOTA_UNIT_TARGET_FLAG_NOT_ANCIENTS"
    "AbilityUnitDamageType"     "DAMAGE_TYPE_PURE"  
    "SpellImmunityType"         "SPELL_IMMUNITY_ENEMIES_NO"
    "FightRecapLevel"           "1"
    "AbilityTextureName"        "axe_battle_hunger" 

    // Precache
    //-------------------------------------------------------------------------------------------------------------
    "precache"
    {
      "soundfile"         "soundevents/game_sounds_heroes/game_sounds_axe.vsndevts"
      "particle"          "particles/units/heroes/hero_axe/axe_battle_hunger.vpcf"
      "particle"          "particles/status_fx/status_effect_battle_hunger.vpcf"
    } 

    // Casting
    //-------------------------------------------------------------------------------------------------------------
    "AbilityCastPoint"        "0.2" 

    // Time   
    //-------------------------------------------------------------------------------------------------------------
    "AbilityCooldown"       "10.0 8.0 6.0 4.0" 

    // Cost
    //-------------------------------------------------------------------------------------------------------------
    "AbilityManaCost"        "150"    
    
    // Cast Range
    //-------------------------------------------------------------------------------------------------------------
    "AbilityCastRange"        "750" 
    
    // Special
    //-------------------------------------------------------------------------------------------------------------
    "AbilitySpecial"
    {
      "01"
      {
        "var_type"          "FIELD_INTEGER"
        "slow"            "-15"
      }
      "02"
      {
        "var_type"          "FIELD_INTEGER"
        "speed_bonus"       "15"
      }
      "03"
      {
        "var_type"          "FIELD_FLOAT"
        "damage"            "15 21 27 33"
      }
    } 

    "OnSpellStart"
    {
      "FireSound"
      {
        "EffectName"        "Hero_Axe.Battle_Hunger"
        "Target"          "TARGET"
      } 

      "ApplyModifier"
      {
        "ModifierName"        "modifier_imba_axe_battle_hunger_enemy"
        "Target"          "TARGET"
      }
    } 

    "Modifiers"
    {
      "modifier_imba_axe_battle_hunger_caster"
      {
        "IsBuff"            "1"
        "IsPurgable"        "0"
      } 

      "modifier_imba_axe_battle_hunger_caster_speed"
      {
        "IsHidden"          "1"
        "IsPurgable"        "0" 

        "Attributes"        "MODIFIER_ATTRIBUTE_MULTIPLE" 

        "Properties"
        {
          "MODIFIER_PROPERTY_MOVESPEED_BONUS_PERCENTAGE" "%speed_bonus" 
        }
      } 

      "modifier_imba_axe_battle_hunger_enemy"
      {
        "IsDebuff"          "1"
        "IsPurgable"        "1"

        "StatusEffectName"        "particles/status_fx/status_effect_battle_hunger.vpcf"     
        "StatusEffectPriority"    "9" 

        "ThinkInterval"       "0.5"

        "OnIntervalThink"
        {
          "Damage"
          {
            "Target"
            {
              "Center"      "TARGET"
              "Flags"       "DOTA_UNIT_TARGET_FLAG_MAGIC_IMMUNE_ENEMIES"
            }
            
            "Type"        "DAMAGE_TYPE_PURE"
            "Damage"      "%damage / 2"
          }

          "RunScript"
          {
            "ScriptFile"    "hero/hero_axe.lua"
            "Function"      "BattleHungerAntiRegen"
            "Target"        "TARGET"

            "modifier_stacks" "modifier_imba_axe_battle_hunger_stacks"
            "modifier_enemy"  "modifier_imba_axe_battle_hunger_enemy"
          }
        } 

        "OnCreated"
        {
          "AttachEffect"
          {
            "EffectName"        "particles/units/heroes/hero_axe/axe_battle_hunger.vpcf"
            "EffectAttachType"  "follow_overhead"
            "Target"            "TARGET"
          } 

          "RunScript"
          {
            "ScriptFile"    "hero/hero_axe.lua"
            "Function"      "BattleHungerStart"

            "caster_modifier" "modifier_imba_axe_battle_hunger_caster"
            "speed_modifier"  "modifier_imba_axe_battle_hunger_caster_speed"
          }
        } 

        "OnDestroy"
        {
          "RunScript"
          {
            "ScriptFile"    "hero/hero_axe.lua"
            "Function"      "BattleHungerEnd"

            "caster_modifier" "modifier_imba_axe_battle_hunger_caster"
            "speed_modifier"  "modifier_imba_axe_battle_hunger_caster_speed"
          }
        } 

        "OnKill"
        {
          "RunScript"
          {
            "ScriptFile"    "hero/hero_axe.lua"
            "Function"      "BattleHungerKill"

            "modifier"      "modifier_imba_axe_battle_hunger_enemy"
          }
        }
      }

      "modifier_imba_axe_battle_hunger_stacks"
      {
        "IsDebuff"      "1"
        "IsHidden"      "1"
        "IsPurgable"    "1"
        "Passive"     "0"

        "Duration"      "0.5"

        "Properties"
        {
          "MODIFIER_PROPERTY_HEALTH_REGEN_CONSTANT"   "-0.1"
        }
      }
    } 
  }

  //=================================================================================================================
  // Axe Culling Blade
  //=================================================================================================================
  "imba_axe_culling_blade"
  {
    // General
    //-------------------------------------------------------------------------------------------------------------
    "BaseClass"                 "ability_datadriven"
    "AbilityType"               "DOTA_ABILITY_TYPE_ULTIMATE"
    "AbilityBehavior"           "DOTA_ABILITY_BEHAVIOR_UNIT_TARGET"   
    "AbilityUnitTargetTeam"     "DOTA_UNIT_TARGET_TEAM_ENEMY"
    "AbilityUnitTargetType"     "DOTA_UNIT_TARGET_HERO | DOTA_UNIT_TARGET_BASIC"
    "AbilityUnitTargetFlags"    "DOTA_UNIT_TARGET_FLAG_MAGIC_IMMUNE_ENEMIES"
    "SpellImmunityType"         "SPELL_IMMUNITY_ENEMIES_YES"
    "AbilityUnitDamageType"     "DAMAGE_TYPE_MAGICAL" 
    "FightRecapLevel"           "2"
    "AbilityTextureName"        "axe_culling_blade" 

    // Precache
    //-------------------------------------------------------------------------------------------------------------
    "precache"
    {
      "soundfile"     "soundevents/game_sounds_heroes/game_sounds_axe.vsndevts"
      "particle"      "particles/units/heroes/hero_axe/axe_culling_blade.vpcf"
      "particle"      "particles/units/heroes/hero_axe/axe_culling_blade_boost.vpcf"
      "particle"      "particles/units/heroes/hero_axe/axe_culling_blade_kill.vpcf"
      "particle"      "particles/units/heroes/hero_axe/axe_cullingblade_sprint.vpcf"
    } 

    // Casting
    //-------------------------------------------------------------------------------------------------------------
    "AbilityCastPoint"        "0.3" 

    // Time   
    //-------------------------------------------------------------------------------------------------------------
    "AbilityCooldown"       "6.0" 

    // Cost
    //-------------------------------------------------------------------------------------------------------------
    "AbilityManaCost"       "60 80 100"   
    
    // Cast Range
    //-------------------------------------------------------------------------------------------------------------
    "AbilityCastRange"        "150"
    
    // Special
    //-------------------------------------------------------------------------------------------------------------
    "AbilitySpecial"
    {
      "01"
      {
        "var_type"            "FIELD_INTEGER"
        "kill_threshold"        "250 325 400"
      }
      "02"
      {
        "var_type"            "FIELD_INTEGER"
        "damage"            "150 225 300"
      }
      "03"
      {
        "var_type"            "FIELD_INTEGER"
        "speed_bonus"         "30"
      }
      "04"
      {
        "var_type"            "FIELD_INTEGER"
        "as_bonus"            "40 70 100"
      }
      "05"
      {
        "var_type"            "FIELD_FLOAT"
        "speed_duration"        "6"
      }
      "06"
      {
        "var_type"            "FIELD_INTEGER"
        "speed_aoe"           "1000"
      }
      "07"
      {
        "var_type"            "FIELD_FLOAT"
        "cooldown_scepter"        "6.0"
      }
      "08"
      {
        "var_type"            "FIELD_INTEGER"
        "kill_threshold_scepter"    "300 425 550"
      }
      "09"
      {
        "var_type"            "FIELD_FLOAT"
        "speed_duration_scepter"    "10"
      }
      "10"
      {
        "var_type"            "FIELD_INTEGER"
        "caster_health_percent"     "10"
      }
      "11"
      {
        "var_type"            "FIELD_INTEGER"
        "caster_health_percent_scepter" "15"
      }
      "12"
      {
        "var_type"        "FIELD_FLOAT"
        "stun_duration"   "1 2 3 4"
      }
      "13"
      {
        "var_type"                "FIELD_FLOAT"
        "stun_duration_scepter"   "2 3 4 5"
      }
    } 

    "OnSpellStart"
    {
      "FireEffect"
      {
        "EffectName"        "particles/units/heroes/hero_axe/axe_culling_blade.vpcf"
        "EffectAttachType"  "follow_origin"
        "Target"            "TARGET"
      } 

      "RunScript"
      {
        "ScriptFile"    "hero/hero_axe.lua"
        "Function"      "CullingBlade"
        "sound_fail"    "Hero_Axe.Culling_Blade_Fail"
        "sound_success"   "Hero_Axe.Culling_Blade_Success"
        "particle_kill"   "particles/units/heroes/hero_axe/axe_culling_blade_kill.vpcf"
        "modifier_sprint" "modifier_imba_axe_culling_blade_sprint"
        "modifier_stun"   "modifier_imba_culling_blade_stun"
      }
    } 

    "Modifiers"
    {
      "modifier_imba_axe_culling_blade_sprint"
      {
        "IsBuff"    "1"
        "IsPurgable"  "1"
    
        "EffectName"    "particles/units/heroes/hero_axe/axe_cullingblade_sprint.vpcf"
        "EffectAttachType"  "follow_origin" 

        "OnCreated"
        {
          "FireEffect"
          {
            "EffectName"        "particles/units/heroes/hero_axe/axe_culling_blade_boost.vpcf"
            "EffectAttachType"  "start_at_customorigin"
            
            "ControlPointEntities"
            {
              "TARGET"  "follow_origin"
              "TARGET"  "follow_origin"
            }
          }
        }
    
        "Properties"
        {
          "MODIFIER_PROPERTY_ATTACKSPEED_BONUS_CONSTANT" "%as_bonus"
            "MODIFIER_PROPERTY_MOVESPEED_BONUS_PERCENTAGE" "%speed_bonus" 
        }
      }

      "modifier_imba_culling_blade_stun"
      {
        "Passive"       "0"
        "IsHidden"      "0"
        "IsDebuff"      "1"
        "IsPurgable"    "0"

        "EffectName"        "particles/generic_gameplay/generic_stunned.vpcf"
        "EffectAttachType"  "follow_overhead"



        "States"
        {
          "MODIFIER_STATE_STUNNED"    "MODIFIER_STATE_VALUE_ENABLED"
        }
      }
    }
  }

  //=================================================================================================================
  // Bane Enfeeble
  //=================================================================================================================
  "imba_bane_enfeeble"
  {
    // General
    //-------------------------------------------------------------------------------------------------------------
    "BaseClass"                   "ability_datadriven"
    "AbilityBehavior"             "DOTA_ABILITY_BEHAVIOR_UNIT_TARGET | DOTA_ABILITY_BEHAVIOR_IGNORE_BACKSWING"
    "AbilityUnitTargetTeam"       "DOTA_UNIT_TARGET_TEAM_ENEMY"
    "AbilityUnitTargetType"       "DOTA_UNIT_TARGET_HERO"
    "AbilityUnitTargetFlags"      "DOTA_UNIT_TARGET_FLAG_NOT_ANCIENTS"
    "SpellImmunityType"           "SPELL_IMMUNITY_ENEMIES_NO"
    "AbilityTextureName"          "bane_enfeeble" 

    // Precache
    //-------------------------------------------------------------------------------------------------------------
    "precache"
    {
      "soundfile"           "soundevents/game_sounds_heroes/game_sounds_bane.vsndevts"    
      "particle"            "particles/units/heroes/hero_bane/bane_enfeeble.vpcf"   
    } 

    // Casting
    //-------------------------------------------------------------------------------------------------------------
    "AbilityCastRange"          "1000"
    "AbilityCastPoint"          "0.3" 

    // Time   
    //-------------------------------------------------------------------------------------------------------------
    "AbilityCooldown"         "25.0"
    "AbilityDuration"         "20.0"  

    // Cost
    //-------------------------------------------------------------------------------------------------------------
    "AbilityManaCost"         "95 100 105 110"      

    // Special
    //-------------------------------------------------------------------------------------------------------------
    "AbilitySpecial"
    {
      "01"
      {
        "var_type"          "FIELD_INTEGER"
        "attack_reduction"      "-5 -5 -5 -5"
      }
      "02"
      {
        "var_type"          "FIELD_INTEGER"
        "stat_reduction"      "20 30 40 50"
      }
      "03"
      {
        "var_type"          "FIELD_FLOAT"
        "duration"          "20.0"
      }
      "04"
      {
        "var_type"          "FIELD_FLOAT"
        "think_interval"      "0.5"
      }
    } 

    "OnSpellStart"
    {
      "FireSound"
      {
        "EffectName"        "Hero_Bane.Enfeeble.Cast"
        "Target"            "TARGET"
      }

      "FireSound"
      {
        "EffectName"        "Hero_Bane.Enfeeble"
        "Target"            "TARGET"
      }

      "ApplyModifier"
      {
        "ModifierName"        "modifier_imba_bane_enfeeble"
        "Target"              "TARGET"
      }
    } 

    "Modifiers"
    {
      "modifier_imba_bane_enfeeble"
      {
        "Passive"           "0"
        "IsHidden"          "0"
        "IsDebuff"          "1"
        "IsPurgable"        "0"
        
        "EffectName"            "particles/units/heroes/hero_bane/bane_enfeeble.vpcf"
        "EffectAttachType"      "follow_overhead"

        "OnCreated"
        {
          "RunScript"
          {
            "ScriptFile"    "hero/hero_bane.lua"
            "Function"      "Enfeeble"

            "modifier_dmg"    "modifier_imba_bane_enfeeble_damage_stacks"
          }
        }

      }

      "modifier_imba_bane_enfeeble_damage_stacks"
      {
        "Passive"           "0"
        "IsHidden"          "1"
        "IsDebuff"          "1"
        "IsPurgable"        "0"

        "OnDestroy"
        {
          "RemoveModifier"
          {
              "ModifierName"   "modifier_imba_bane_enfeeble"
              "Target"         "TARGET"
          }
        }

        "Properties"
        {
          "MODIFIER_PROPERTY_BASEATTACK_BONUSDAMAGE"  "%attack_reduction"
        }
      }
    }
  }

  //=================================================================================================================
  // Bane Nightmare
  //=================================================================================================================
  "imba_bane_nightmare"
  {
    // General
    //-------------------------------------------------------------------------------------------------------------
    "BaseClass"           "ability_datadriven"
    "AbilityBehavior"       "DOTA_ABILITY_BEHAVIOR_UNIT_TARGET | DOTA_ABILITY_BEHAVIOR_DONT_RESUME_ATTACK"
    "AbilityUnitTargetTeam"     "DOTA_UNIT_TARGET_TEAM_BOTH"
    "AbilityUnitTargetType"     "DOTA_UNIT_TARGET_HERO | DOTA_UNIT_TARGET_CREEP"
    "AbilityUnitTargetFlags"    "DOTA_UNIT_TARGET_FLAG_NOT_MAGIC_IMMUNE_ALLIES"
    "SpellImmunityType"       "SPELL_IMMUNITY_ALLIES_NO"
    "AbilityUnitDamageType"     "DAMAGE_TYPE_PURE"
    "AbilityTextureName"      "bane_nightmare"  

    // Precache
    //-------------------------------------------------------------------------------------------------------------
    "precache"
    {
      "soundfile"         "soundevents/game_sounds_heroes/game_sounds_bane.vsndevts"    
      "particle"          "particles/units/heroes/hero_bane/bane_nightmare.vpcf"    
    }   

    // Casting
    //-------------------------------------------------------------------------------------------------------------
    "AbilityCastRange"        "500 550 600 650"
    "AbilityCastPoint"        "0.3" 

    // Time   
    //-------------------------------------------------------------------------------------------------------------
    "AbilityCooldown"       "15.0"
    "AbilityDuration"       "4.5 6.0 7.5 9.0" 

    // Damage
    //-------------------------------------------------------------------------------------------------------------
    "AbilityDamage"         "30"  

    // Cost
    //-------------------------------------------------------------------------------------------------------------
    "AbilityManaCost"       "150"   

    // Special
    //-------------------------------------------------------------------------------------------------------------
    "AbilitySpecial"
    {
      "01"
      {
        "var_type"          "FIELD_FLOAT"
        "nightmare_dot_interval"  "1.0"
      }
      "02"
      {
        "var_type"          "FIELD_FLOAT"
        "nightmare_invuln_time"   "1.0"
      }
      "03"
      {
        "var_type"          "FIELD_FLOAT"
        "duration"          "4.5 6.0 7.5 9.0"
      }
      "04"
      {
        "var_type"          "FIELD_FLOAT"
        "animation_rate"      "0.3"
      }
      "05"
      {
        "var_type"          "FIELD_INTEGER"
        "cast_range_tooltip"    "500 550 600 650"
      }
      "06"
      {
        "var_type"          "FIELD_INTEGER"
        "aura_radius"       "3000"
      }
    } 

    "OnSpellStart"
    {
      "FireSound"
      {
        "EffectName"        "Hero_Bane.Nightmare"
        "Target"          "TARGET"
      }

      "FireSound"
      {
        "EffectName"        "Hero_Bane.Nightmare.Loop"
        "Target"          "TARGET"
      }

      "ApplyModifier"
      {
        "ModifierName"        "modifier_imba_bane_nightmare"
        "Target"          "TARGET"
      }
    } 

    "Modifiers"
    {
      "modifier_imba_bane_nightmare"
      {
        "Duration"          "%duration"
        "IsDebuff"          "1"
        "IsPurgable"        "0"

        "Attributes"        "MODIFIER_ATTRIBUTE_IGNORE_INVULNERABLE"

        "EffectName"          "particles/units/heroes/hero_bane/bane_nightmare.vpcf"
              "EffectAttachType"        "follow_overhead" 

              "OverrideAnimation"       "ACT_DOTA_FLAIL"
              "AnimationPlaybackRate"   "%animation_rate" 

              "OnTakeDamage"
              {
                "RemoveModifier"
                {
                  "ModifierName"    "modifier_imba_bane_nightmare"
                  "Target"      "UNIT"
                }
              } 

              "OnCreated"
              {
                "ApplyModifier"
                {
                  "ModifierName"    "modifier_imba_bane_nightmare_invul"
                  "Target"      "TARGET"
                  "Duration"      "%nightmare_invuln_time"
                } 

                "RunScript"
                {
                  "ScriptFile"    "hero/hero_bane.lua"
                  "Function"      "NightmareStart"

                  "invul_modifier"  "modifier_imba_bane_nightmare_invul"
                  "nightmare"     "imba_bane_nightmare"
                "nightmare_end"   "imba_bane_nightmare_end"
                }
              } 

              "OnDestroy"
              {
                "FireSound"
                  {
                    "EffectName"    "Hero_Bane.Nightmare.End"
                    "Target"
                    {
                      "Center"    "TARGET"
                      "Flags"     "DOTA_UNIT_TARGET_FLAG_INVULNERABLE"
                    }
                  }   

                  "RunScript"
                {
                  "ScriptFile"      "hero/hero_bane.lua"
                  "Function"        "NightmareEnd"

                  "loop_sound"      "Hero_Bane.Nightmare.Loop"
                  "nightmare"       "imba_bane_nightmare"
                "nightmare_end"     "imba_bane_nightmare_end"
                }               
              }

              "ThinkInterval"       "%nightmare_dot_interval"
              
              "OnIntervalThink"
              {
                "RunScript"
                {
                  "ScriptFile"    "hero/hero_bane.lua"
                  "Function"      "NightmareDamage"
                }
              }

              "States"
              {
                "MODIFIER_STATE_NIGHTMARED"         "MODIFIER_STATE_VALUE_ENABLED"
                "MODIFIER_STATE_STUNNED"            "MODIFIER_STATE_VALUE_ENABLED"
                "MODIFIER_STATE_SPECIALLY_DENIABLE"   "MODIFIER_STATE_VALUE_ENABLED"
                "MODIFIER_STATE_LOW_ATTACK_PRIORITY"  "MODIFIER_STATE_VALUE_ENABLED"    
              }

              "Aura"                "modifier_imba_bane_nightmare_debuff"
              "Aura_Radius"         "%aura_radius"
              "Aura_Teams"          "DOTA_UNIT_TARGET_TEAM_BOTH"
              "Aura_Types"          "DOTA_UNIT_TARGET_HERO | DOTA_UNIT_TARGET_BASIC"
              "Aura_ApplyToCaster"    "1"
      }   

      "modifier_imba_bane_nightmare_debuff"
      {
        "IsHidden"    "1"
        "IsDebuff"    "1"
        "IsPurgable"  "0"

        "OnAttackStart"
        {
          "RunScript"
          {
            "ScriptFile"      "hero/hero_bane.lua"
            "Function"        "NightmareSpread"

            "nightmare_modifier"  "modifier_imba_bane_nightmare"
          }
        }
      } 

      "modifier_imba_bane_nightmare_invul"
      {
        "IsDebuff"    "1"
        "IsPurgable"  "0"

        "States"
        {
          "MODIFIER_STATE_INVULNERABLE" "MODIFIER_STATE_VALUE_ENABLED"
          "MODIFIER_STATE_NO_HEALTH_BAR"  "MODIFIER_STATE_VALUE_ENABLED"
        }
      }
    }
  }

  //=================================================================================================================
  // Bane Nightmare End
  //=================================================================================================================
  "imba_bane_nightmare_end"
  {
    // General
    //-------------------------------------------------------------------------------------------------------------
    "BaseClass"           "ability_datadriven"
    "AbilityBehavior"       "DOTA_ABILITY_BEHAVIOR_HIDDEN | DOTA_ABILITY_BEHAVIOR_NO_TARGET | DOTA_ABILITY_BEHAVIOR_TOGGLE | DOTA_ABILITY_BEHAVIOR_IGNORE_PSEUDO_QUEUE"
    "MaxLevel"            "1"
    "AbilityTextureName"      "bane_nightmare_end"  

    // Special
    //-------------------------------------------------------------------------------------------------------------
    "OnToggleOn"
    {
      "RemoveModifier"
      {
            "ModifierName"    "modifier_imba_bane_nightmare"
            "Target"
        {
              "Center"      "CASTER"
              "Teams"     "DOTA_UNIT_TARGET_TEAM_FRIENDLY"
              "Types"     "DOTA_UNIT_TARGET_HERO"
              "Flags"     "DOTA_UNIT_TARGET_FLAG_INVULNERABLE | DOTA_UNIT_TARGET_FLAG_OUT_OF_WORLD"
        }
          } 

          "RemoveModifier"
          {
            "ModifierName"    "modifier_imba_bane_nightmare_invul"
            "Target"
        {
              "Center"      "CASTER"
              "Teams"     "DOTA_UNIT_TARGET_TEAM_FRIENDLY"
              "Types"     "DOTA_UNIT_TARGET_HERO"
              "Flags"     "DOTA_UNIT_TARGET_FLAG_INVULNERABLE | DOTA_UNIT_TARGET_FLAG_OUT_OF_WORLD"
        }
          } 
    }
  }

  //=================================================================================================================
  // Bane Brain Sap
  //=================================================================================================================
  "imba_bane_brain_sap"
  {
    // General
    //-------------------------------------------------------------------------------------------------------------
    "BaseClass"                 "ability_datadriven"
    "AbilityBehavior"           "DOTA_ABILITY_BEHAVIOR_UNIT_TARGET"
    "AbilityUnitTargetTeam"     "DOTA_UNIT_TARGET_TEAM_ENEMY"
    "AbilityUnitTargetType"     "DOTA_UNIT_TARGET_HERO | DOTA_UNIT_TARGET_BASIC"
    "AbilityUnitDamageType"     "DAMAGE_TYPE_PURE"    
    "SpellImmunityType"         "SPELL_IMMUNITY_ENEMIES_NO"
    "FightRecapLevel"           "1"
    "AbilityTextureName"        "bane_brain_sap"  

    // Precache
    //-------------------------------------------------------------------------------------------------------------
    "precache"
    {
      "soundfile"         "soundevents/game_sounds_heroes/game_sounds_bane.vsndevts"
      "soundfile"         "soundevents/game_sounds_heroes/game_sounds_nyx_assassin.vsndevts"
      "particle"          "particles/generic_gameplay/generic_manaburn.vpcf"
      "particle"          "particles/units/heroes/hero_bane/bane_sap.vpcf"    
    } 

    // Casting
    //-------------------------------------------------------------------------------------------------------------
    "AbilityCastPoint"        "0.3"
    "AbilityCastRange"        "600" 

    // Time   
    //-------------------------------------------------------------------------------------------------------------
    "AbilityCooldown"       "14.0"
    "AbilityDuration"       "7.0" 

    // Cost
    //-------------------------------------------------------------------------------------------------------------
    "AbilityManaCost"       "100 125 150 175" 

    "AbilitySpecial"
    {
      "01"
      {
        "var_type"        "FIELD_INTEGER"
        "heal_amt"        "100 175 250 325"
      }
      "02"
      {
        "var_type"        "FIELD_INTEGER"
        "mana_steal_amt"    "50 75 100 125"
      }
      "03"
      {
        "var_type"        "FIELD_FLOAT"
        "duration"        "4.0 5.0 6.0 7.0"
      }
      "04"
      {
        "var_type"        "FIELD_INTEGER"
        "mana_percent"      "8 12 16 20"
      }
    } 

    "OnSpellStart"
    {
      "FireSound"
      {
        "EffectName"      "Hero_Bane.BrainSap.Target"
        "Target"        "TARGET"
      } 

      "FireSound"
      {
        "EffectName"      "Hero_Bane.BrainSap"
        "Target"        "CASTER"
      } 

      "FireEffect"
      {
        "EffectName"      "particles/units/heroes/hero_bane/bane_sap.vpcf"
        "EffectAttachType"    "follow_origin"
        "ControlPointEntities"
        {
          "CASTER"      "follow_origin"
          "TARGET"      "follow_origin"   
        }
      } 

      "Damage"
      {
        "Target"        "TARGET"
        "Type"          "DAMAGE_TYPE_PURE"
        "Damage"        "%heal_amt"
      } 

      "Heal"
      {
        "Target"        "CASTER"
        "HealAmount"      "%heal_amt"
      }

      "ApplyModifier"
      {
        "ModifierName"      "modifier_imba_bane_brain_sap"
        "Target"        "TARGET"
        "Duration"        "%duration"
      }

      "RunScript"
      {
        "ScriptFile"      "hero/hero_bane.lua"
        "Function"        "BrainSapManaDrain"
      }
    }

    "Modifiers"
    {
      "modifier_imba_bane_brain_sap"
      {
        "IsDebuff"        "1"
        "IsPurgable"      "1"
        
        "OnSpentMana"
        {
          "RunScript"
          {
            "ScriptFile"      "hero/hero_bane.lua"
            "Function"        "BrainSapSpellCast"

            "sound_manaburn"    "Hero_NyxAssassin.ManaBurn.Target"
            "particle_manaburn"   "particles/generic_gameplay/generic_manaburn.vpcf"
          }
        }
      }
    }
  }

  //=================================================================================================================
  // Bane Fiend's Grip
  //=================================================================================================================
  "imba_bane_fiends_grip"
  {
    // General
    //-------------------------------------------------------------------------------------------------------------
    "BaseClass"                 "ability_datadriven"
    "AbilityType"               "DOTA_ABILITY_TYPE_ULTIMATE"
    "AbilityBehavior"           "DOTA_ABILITY_BEHAVIOR_UNIT_TARGET | DOTA_ABILITY_BEHAVIOR_CHANNELLED"
    "AbilityUnitTargetTeam"     "DOTA_UNIT_TARGET_TEAM_ENEMY"
    "AbilityUnitTargetType"     "DOTA_UNIT_TARGET_HERO | DOTA_UNIT_TARGET_BASIC"
    "AbilityUnitTargetFlags"    "DOTA_UNIT_TARGET_FLAG_MAGIC_IMMUNE_ENEMIES"
    "SpellImmunityType"         "SPELL_IMMUNITY_ENEMIES_YES"
    "AbilityUnitDamageType"     "DAMAGE_TYPE_MAGICAL" 
    "FightRecapLevel"           "2"
    "AbilityTextureName"        "bane_fiends_grip"  

    // Precache
    //-------------------------------------------------------------------------------------------------------------
    "precache"
    {
      "soundfile"         "soundevents/game_sounds_heroes/game_sounds_bane.vsndevts"    
      "particle"          "particles/units/heroes/hero_bane/bane_nightmare.vpcf"    
      "particle"          "particles/units/heroes/hero_bane/bane_fiends_grip.vpcf"    
    }   

    // Casting
    //-------------------------------------------------------------------------------------------------------------
    "AbilityCastRange"        "625"
    "AbilityCastPoint"        "0.4" 

    // Time   
    //-------------------------------------------------------------------------------------------------------------
    "AbilityChannelTime"      "3.5"
    "AbilityCooldown"       "100.0" 
  

    // Cost
    //-------------------------------------------------------------------------------------------------------------
    "AbilityManaCost"       "200 300 400"     

    // Special
    //-------------------------------------------------------------------------------------------------------------
    "AbilitySpecial"
    {
      "01"
      {
        "var_type"                  "FIELD_FLOAT"
        "fiends_grip_tick_interval"         "0.1"
      }
      "02"
      {
        "var_type"                  "FIELD_FLOAT"
        "fiends_grip_mana_drain"          "0.8"
      }
      "03"
      {
        "var_type"                  "FIELD_FLOAT"
        "fiends_grip_duration"            "5.0"
      }
      "04"
      {
        "var_type"                  "FIELD_INTEGER"
        "fiends_grip_damage"            "10 16 22"
      }
      "05"
      {
        "var_type"                  "FIELD_FLOAT"
        "fiends_grip_mana_drain_scepter"      "1.0"
      }
      "06"
      {
        "var_type"                  "FIELD_FLOAT"
        "fiends_grip_duration_scepter"        "7.0"
      }
      "07"
      {
        "var_type"                  "FIELD_INTEGER"
        "fiends_grip_damage_scepter"        "16 22 28"
      }
      "08"
      {
        "var_type"                  "FIELD_INTEGER"
        "fiends_grip_mana_drain_tooltip"      "8"
      }
      "09"
      {
        "var_type"                  "FIELD_INTEGER"
        "fiends_grip_mana_drain_tooltip_scepter"  "12"
      }
      "10"
      {
        "var_type"                  "FIELD_INTEGER"
        "fiends_grip_damage_tooltip"        "100 160 220"
      }
      "11"
      {
        "var_type"                  "FIELD_INTEGER"
        "fiends_grip_damage_tooltip_scepter"    "160 220 280"
      }
      "12"
      {
        "var_type"                  "FIELD_INTEGER"
        "fiends_grip_scepter_radius"        "750"
      }
      "13"
      {
        "var_type"                  "FIELD_INTEGER"
        "fiends_grip_scepter_vision_cone"     "45"
      }
    } 

    "OnSpellStart"
    { 
      "FireSound"
      {
        "EffectName"      "Hero_Bane.FiendsGrip.Cast"
        "Target"
        {
          "Center"      "TARGET"
          "Flags"         "DOTA_UNIT_TARGET_FLAG_MAGIC_IMMUNE_ENEMIES"
        } 
      } 

      "Damage"
      {
        "Target"        "TARGET"
        "Type"          "DAMAGE_TYPE_MAGICAL"
        "Damage"        "%fiends_grip_damage"
      }

      "RemoveModifier"
      {
        "ModifierName"      "modifier_imba_bane_fiends_grip"
        "Target"
        {
          "Center"      "TARGET"
          "Flags"         "DOTA_UNIT_TARGET_FLAG_MAGIC_IMMUNE_ENEMIES"
        }
      }

      "ApplyModifier"
      {
        "ModifierName"      "modifier_imba_bane_fiends_grip"
        "Target"
        {
          "Center"      "TARGET"
          "Flags"         "DOTA_UNIT_TARGET_FLAG_MAGIC_IMMUNE_ENEMIES"
        }
      }

      "ApplyModifier"
      {
        "ModifierName"      "modifier_imba_bane_fiends_grip_caster"
        "Target"        "CASTER"
      }
    } 

    "OnChannelInterrupted"
    {
      "RemoveModifier"
      {
        "ModifierName"      "modifier_imba_bane_fiends_grip_caster"
        "Target"
        {
          "Center"      "CASTER"
          "Teams"       "DOTA_UNIT_TARGET_TEAM_FRIENDLY"
          "Types"       "DOTA_UNIT_TARGET_HERO"
          "Flags"       "DOTA_UNIT_TARGET_FLAG_INVULNERABLE | DOTA_UNIT_TARGET_FLAG_OUT_OF_WORLD"
        }
      }

      "RunScript"
      {
        "ScriptFile"      "hero/hero_bane.lua"
        "Function"        "FiendsGripStopChannel"
        "Target"        "TARGET"

        "modifier"        "modifier_imba_bane_fiends_grip"
        "sound1"        "Hero_Bane.FiendsGrip"
        "sound2"        "Hero_Bane.FiendsGrip.Cast"
      }
    } 

    "OnChannelFinish"
    {
      "RemoveModifier"
      {
        "ModifierName"      "modifier_imba_bane_fiends_grip_caster"
        "Target"
        {
          "Center"      "CASTER"
          "Teams"       "DOTA_UNIT_TARGET_TEAM_FRIENDLY"
          "Types"       "DOTA_UNIT_TARGET_HERO"
          "Flags"       "DOTA_UNIT_TARGET_FLAG_INVULNERABLE | DOTA_UNIT_TARGET_FLAG_OUT_OF_WORLD"
        }
      }

      "RunScript"
      {
        "ScriptFile"      "hero/hero_bane.lua"
        "Function"        "FiendsGripStopChannel"
        "Target"        "TARGET"

        "modifier"        "modifier_imba_bane_fiends_grip"
      }
    } 

    "Modifiers"
    {
      "modifier_imba_bane_fiends_grip"
      {
        "IsDebuff"        "1"
        "IsPurgable"      "0"

        "EffectName"      "particles/units/heroes/hero_bane/bane_fiends_grip.vpcf"
        "EffectAttachType"    "attach_origin" 

        "OverrideAnimation"   "ACT_DOTA_FLAIL"  

        "ThinkInterval"     "%fiends_grip_tick_interval"

        "Attributes"      "MODIFIER_ATTRIBUTE_IGNORE_INVULNERABLE"

        "OnIntervalThink"
        {
          "Damage"
          {
            "Target"    "TARGET"
            "Type"      "DAMAGE_TYPE_MAGICAL"
            "Damage"    "%fiends_grip_damage"
          } 

          "RunScript"
          {
            "ScriptFile"  "hero/hero_bane.lua"
            "Function"    "FiendsGripManaDrain"
            "Target"    "TARGET"
          }       
        } 

        "OnCreated"
        {
          "FireSound"
          {
            "EffectName"  "Hero_Bane.FiendsGrip"
            "Target"
            {
              "Center"  "TARGET"
              "Flags"   "DOTA_UNIT_TARGET_FLAG_MAGIC_IMMUNE_ENEMIES"
            }
          }

          "RunScript"
          {
            "ScriptFile"  "hero/hero_bane.lua"
            "Function"    "FiendsGripTruesight"

            "Target"    "TARGET"
          }
        }

        "OnDestroy"
        {
          "RunScript"
          {
            "ScriptFile"  "hero/hero_bane.lua"
            "Function"    "FiendsGripEndSound"

            "Target"    "TARGET"
            "sound_1"   "Hero_Bane.FiendsGrip"
            "sound_2"   "Hero_Bane.FiendsGrip.Cast"
          }
        }
        
        "States"
        {
          "MODIFIER_STATE_STUNNED"    "MODIFIER_STATE_VALUE_ENABLED"
          "MODIFIER_STATE_INVISIBLE"    "MODIFIER_STATE_VALUE_DISABLED"
        }
      }

      "modifier_imba_bane_fiends_grip_caster"
      {
        "IsHidden"        "1"
        "IsPurgable"      "0"

        "ThinkInterval"     "0.03"
        
        "OnIntervalThink"
        {
          "RunScript"
          {
            "ScriptFile"        "hero/hero_bane.lua"
            "Function"          "FiendsGripScepter"

            "modifier_fiends_grip"    "modifier_imba_bane_fiends_grip"
          }
        }

        "States"
        {
          "MODIFIER_STATE_LOW_ATTACK_PRIORITY"  "MODIFIER_STATE_VALUE_ENABLED"
        }
      }
    }
  }

  //=================================================================================================================
  // Bounty Hunter's Shuriken Toss
  //=================================================================================================================
  "imba_bounty_hunter_shuriken_toss"
  {
    // General
    //-------------------------------------------------------------------------------------------------------------
    "BaseClass"           "ability_datadriven"
    "AbilityBehavior"       "DOTA_ABILITY_BEHAVIOR_UNIT_TARGET"
    "FightRecapLevel"       "1"
    "AbilityTextureName"      "bounty_hunter_shuriken_toss" 

    // Precache
    //-------------------------------------------------------------------------------------------------------------
    "precache"
    {
      "soundfile"           "soundevents/game_sounds_heroes/game_sounds_bounty_hunter.vsndevts"
      "particle"          "particles/units/heroes/hero_bounty_hunter/bounty_hunter_suriken_toss.vpcf"
      "particle"            "particles/units/heroes/hero_bounty_hunter/bounty_hunter_suriken_impact.vpcf"
      "particle"          "particles/units/heroes/hero_pudge/pudge_meathook_chain.vpcf"
    }
    
    // Unit Targeting
    //-------------------------------------------------------------------------------------------------------------
    "AbilityUnitTargetTeam"     "DOTA_UNIT_TARGET_TEAM_ENEMY"
    "AbilityUnitTargetType"     "DOTA_UNIT_TARGET_HERO | DOTA_UNIT_TARGET_BASIC"
    "AbilityUnitDamageType"     "DAMAGE_TYPE_MAGICAL"
    "SpellImmunityType"       "SPELL_IMMUNITY_ENEMIES_NO"
    
    // Stats
    //-------------------------------------------------------------------------------------------------------------
    "AbilityCastRange"        "600"
    "AbilityCastPoint"        "0.2"
    "AbilityCooldown"       "10"
    "AbilityManaCost"       "120" 
      
    // Special
    //-------------------------------------------------------------------------------------------------------------
    "AbilitySpecial"
    {
      "01"
      {
        "var_type"        "FIELD_INTEGER"
        "damage"        "160 240 320 400"
      }
      "02"
      {
        "var_type"        "FIELD_INTEGER"
        "speed"         "1500"
      }
      "03"
      {
        "var_type"        "FIELD_INTEGER"
        "bounce_radius"     "3000"
      }
      "04"
      {
        "var_type"        "FIELD_FLOAT"
        "mini_stun"       "0.1"
      }
      "05"
      {
        "var_type"        "FIELD_INTEGER"
        "chain_range"     "400"
      }
      "06"
      {
        "var_type"        "FIELD_FLOAT"
        "chain_duration"    "3.0"
      }
      "07"
      {
        "var_type"        "FIELD_INTEGER"
        "pull_strength_tooltip" "275 350 425 500"
      }
    } 

    "OnSpellStart"
    {
      "RunScript"
      {
        "ScriptFile"        "hero/hero_bounty_hunter.lua"
        "Function"          "ShurikenToss"

        "track_modifier"      "modifier_imba_track"
        "track_scepter_modifier"  "modifier_imba_track_scepter"
        "shuriken_particle"     "particles/units/heroes/hero_bounty_hunter/bounty_hunter_suriken_toss.vpcf"
      }

      "FireSound"
      {
        "EffectName"        "Hero_BountyHunter.Shuriken"
        "Target"          "CASTER"
      } 
    } 

    "OnProjectileHitUnit"
      {
        "FireEffect"
        {
          "EffectName"        "particles/units/heroes/hero_bounty_hunter/bounty_hunter_suriken_impact.vpcf"
          "Target"          "TARGET"
          "EffectAttachType"      "attach_hitloc"
        } 

          "Damage"
          {
            "Type"            "DAMAGE_TYPE_MAGICAL"
            "Damage"          "%damage"
            "Target"          "TARGET"
          } 

          "Stun"
          {
            "Duration"          "%mini_stun"
            "Target"          "TARGET"          
          } 

          "FireSound"
          {
            "EffectName"        "Hero_BountyHunter.Shuriken.Impact"
            "Target"          "TARGET"
          }

          "RunScript"
          {
            "ScriptFile"        "hero/hero_bounty_hunter.lua"
        "Function"          "ShurikenTossImpact"

        "chain_particle"      "particles/units/heroes/hero_pudge/pudge_meathook_chain.vpcf"
          }

          "ApplyModifier"
          {
            "ModifierName"        "modifier_imba_shuriken_toss_chain"
            "Target"          "TARGET"
          }
      }

      "Modifiers"
      {
        "modifier_imba_shuriken_toss_chain"
        {
          "Passive"       "0"
          "IsHidden"        "0"
          "IsDebuff"        "1"
          "IsPurgable"      "0"

          "Duration"        "%chain_duration"
          
          "ThinkInterval"     "0.05"

          "OnIntervalThink"
          {
            "RunScript"
            {
              "ScriptFile"      "hero/hero_bounty_hunter.lua"
            "Function"        "ShurikenTossChain"
            }
          }

          "OnDestroy"
          {
            "RunScript"
            {
              "ScriptFile"      "hero/hero_bounty_hunter.lua"
            "Function"        "ShurikenTossChainEnd"
            }
          }
        }
      }
  }

  //=================================================================================================================
  // Bounty Hunter's Shadow Walk
  //=================================================================================================================
  "imba_bounty_hunter_wind_walk"
  {
    // General
    //-------------------------------------------------------------------------------------------------------------
    "BaseClass"           "ability_datadriven"
    "AbilityBehavior"       "DOTA_ABILITY_BEHAVIOR_NO_TARGET | DOTA_ABILITY_BEHAVIOR_IMMEDIATE | DOTA_ABILITY_BEHAVIOR_IGNORE_CHANNEL"
    "SpellImmunityType"       "SPELL_IMMUNITY_ENEMIES_YES"
    "AbilityUnitDamageType"     "DAMAGE_TYPE_PHYSICAL"
    "AbilityTextureName"      "bounty_hunter_wind_walk"
    
    // Precache
    //-------------------------------------------------------------------------------------------------------------
    "precache"
    {
      "soundfile"           "soundevents/game_sounds_heroes/game_sounds_bounty_hunter.vsndevts"
      "particle"          "particles/units/heroes/hero_bounty_hunter/bounty_hunter_windwalk.vpcf"
      "particle"          "particles/generic_hero_status/status_invisibility_start.vpcf"
    } 

    // Time   
    //-------------------------------------------------------------------------------------------------------------
    "AbilityCooldown"       "10.0"
    "AbilityCastPoint"        "0.0"
    
    // Cost
    //-------------------------------------------------------------------------------------------------------------
    "AbilityManaCost"       "50"
    
    // Special
    //-------------------------------------------------------------------------------------------------------------
    "AbilitySpecial"
    {
      "01"
      {
        "var_type"          "FIELD_FLOAT"
        "duration"          "40.0"
      }
      "02"
      {
        "var_type"          "FIELD_FLOAT"
        "fade_time"         "0.5"
      }
      "03"
      {
        "var_type"          "FIELD_INTEGER"
        "bonus_damage"        "30 60 90 120"
      }
      "04"
      {
        "var_type"          "FIELD_INTEGER"
        "move_speed"        "10 15 20 25"
      }
    }

    "OnSpellStart"
    {
      "FireEffect"
      {
        "EffectName"      "particles/units/heroes/hero_bounty_hunter/bounty_hunter_windwalk.vpcf"
        "Target"        "CASTER"
        "EffectAttachType"    "attach_origin"
      }

      "FireSound"
      {
        "Target"        "CASTER"
        "EffectName"      "Hero_BountyHunter.WindWalk"
      } 

      "ApplyModifier"
      {
        "Target"        "CASTER"
        "ModifierName"      "modifier_imba_wind_walk_fade"
      } 
    } 

    "Modifiers"
    {
      "modifier_imba_wind_walk_fade"
      {
        "Duration"        "%fade_time"
        "IsBuff"        "1"
        "IsPurgable"      "0"

        "Properties"
        {
          "MODIFIER_PROPERTY_PREATTACK_BONUS_DAMAGE"    "%bonus_damage"
            "MODIFIER_PROPERTY_MOVESPEED_BONUS_PERCENTAGE"  "%move_speed" 
        }

        "OnDestroy"
        {
          "ApplyModifier"
          {
            "ModifierName"  "modifier_imba_wind_walk"
            "Target"    "CASTER"
          }

          "ApplyModifier"
          {
            "Target"    "CASTER"
            "ModifierName"  "modifier_invisible"
          }
        }
      }

      "modifier_imba_wind_walk"
      {
        "Duration"        "%duration"
        "IsBuff"        "1"
        "IsPurgable"      "0"

        "OnAttackLanded"
        {
          "RemoveModifier"
          {
            "Target"    "CASTER"
            "ModifierName"  "modifier_imba_wind_walk"
          }
        } 

        "OnAbilityExecuted"
        {
          "RunScript"
          {
            "ScriptFile"  "hero/hero_bounty_hunter.lua"
            "Function"    "WindWalk"

            "modifier"    "modifier_imba_wind_walk"
          }
        } 
        
        "Properties"
        {
          "MODIFIER_PROPERTY_PREATTACK_BONUS_DAMAGE"    "%bonus_damage"
            "MODIFIER_PROPERTY_MOVESPEED_BONUS_PERCENTAGE"  "%move_speed" 
        }

        "States"
        {
          "MODIFIER_STATE_INVISIBLE"            "MODIFIER_STATE_VALUE_ENABLED"
          "MODIFIER_STATE_NO_UNIT_COLLISION"        "MODIFIER_STATE_VALUE_ENABLED"
        } 

        "OnDestroy"
        {
          "RemoveModifier"
          {
            "Target"
            {
              "Center"  "CASTER"
              "Flags"   "DOTA_UNIT_TARGET_FLAG_DEAD"
            }

            "ModifierName"  "modifier_invisible"
          }
        } 
      }
    }
  }

  //=================================================================================================================
  // Bounty Hunter's Track
  //=================================================================================================================
  "imba_bounty_hunter_track"
  {
    // General
    //-------------------------------------------------------------------------------------------------------------
    "BaseClass"           "ability_datadriven"
    "AbilityTextureName"      "bounty_hunter_track"
    "AbilityBehavior"       "DOTA_ABILITY_BEHAVIOR_UNIT_TARGET"
    "AbilityType"         "DOTA_ABILITY_TYPE_ULTIMATE"
    "AbilityUnitTargetTeam"     "DOTA_UNIT_TARGET_TEAM_ENEMY"
    "AbilityUnitTargetType"     "DOTA_UNIT_TARGET_HERO"
    "AbilityUnitTargetFlags"    "DOTA_UNIT_TARGET_FLAG_MAGIC_IMMUNE_ENEMIES | DOTA_UNIT_TARGET_FLAG_NOT_CREEP_HERO"
    "SpellImmunityType"       "SPELL_IMMUNITY_ENEMIES_YES"

    // Precache
    //-------------------------------------------------------------------------------------------------------------
    "precache"
    {
      "soundfile"         "soundevents/game_sounds_heroes/game_sounds_bounty_hunter.vsndevts"
      "particle"          "particles/units/heroes/hero_bounty_hunter/bounty_hunter_track.vpcf"
      "particle"          "particles/units/heroes/hero_bounty_hunter/bounty_hunter_track_trail.vpcf"
      "particle"          "particles/units/heroes/hero_bounty_hunter/bounty_hunter_track_haste.vpcf"
      "particle"          "particles/units/heroes/hero_bounty_hunter/bounty_hunter_track_shield.vpcf"
    }
    
    // Unit Targeting
    //-------------------------------------------------------------------------------------------------------------
    "AbilityUnitTargetTeam"     "DOTA_UNIT_TARGET_TEAM_ENEMY"
    "AbilityUnitTargetType"     "DOTA_UNIT_TARGET_HERO"
    
    // Stats
    //-------------------------------------------------------------------------------------------------------------
    "AbilityCastRange"        "1500"
    "AbilityCastPoint"        "0.2"
    "AbilityCooldown"       "4.0"
    "AbilityManaCost"       "25"
      
    // Special
    //-------------------------------------------------------------------------------------------------------------
    "AbilitySpecial"
    {
      "01"
      {
        "var_type"            "FIELD_INTEGER"
        "aura_radius"         "1500"
      }
      "02"
      {
        "var_type"            "FIELD_INTEGER"
        "bonus_move_speed_pct"      "20"
      }
      "03"
      {
        "var_type"            "FIELD_INTEGER"
        "bonus_gold_radius"       "1500"
      }
      "04"
      {
        "var_type"            "FIELD_INTEGER"
        "bonus_gold_self"       "200 275 350"
      }
      "05"
      {
        "var_type"            "FIELD_INTEGER"
        "bonus_gold_self_per_lvl"   "20"
      }
      "06"
      {
        "var_type"            "FIELD_INTEGER"
        "bonus_gold"          "50 100 150"
      }
      "07"
      {
        "var_type"            "FIELD_INTEGER"
        "bonus_gold_per_lvl"      "10"
      }
      "08"
      {
        "var_type"            "FIELD_FLOAT"
        "duration"            "40.0 50.0 60.0"
      }
      "09"
      {
        "var_type"            "FIELD_INTEGER"
        "cast_range_tooltip"      "1500"
      }
      "10"
      {
        "var_type"            "FIELD_INTEGER"
        "gold_steal_scepter"      "30"
      }
      "11"
      {
        "var_type"            "FIELD_INTEGER"
        "bonus_damage_scepter"      "10 15 20"
      }
    }

    "OnUpgrade"
    {
      "LevelUpAbility"
      {
        "Target"            "CASTER"
        "AbilityName"         "imba_bounty_hunter_shadow_jaunt"
      }
    }

    "OnSpellStart"
    {
      "RunScript"
      {
        "ScriptFile"          "hero/hero_bounty_hunter.lua"
        "Function"            "TrackCast"

        "modifier_track"        "modifier_imba_track"
        "modifier_track_scepter"    "modifier_imba_track_scepter"
        "modifier_track_aura"     "modifier_imba_track_aura"
        "sound_track"         "Hero_BountyHunter.Target"
      }

      "FireEffect"
      {
        "EffectName"          "particles/units/heroes/hero_bounty_hunter/bounty_hunter_track_cast.vpcf"
          "EffectAttachType"        "start_at_customorigin" 

        "ControlPointEntities"
        {
            "CASTER"          "attach_attack1"
            "TARGET"          "attach_hitloc"
        } 
      }
    } 

    "Modifiers"
    { 
      "modifier_imba_track_aura"
      {
        "Passive"           "0"
        "IsDebuff"            "1"
        "IsPurgable"          "0"
        "IsHidden"            "1"

        "Duration"            "%duration"

        "Aura"              "modifier_imba_track_speed"
        "Aura_Radius"         "%aura_radius"
        "Aura_Teams"          "DOTA_UNIT_TARGET_TEAM_ENEMY"
        "Aura_Types"          "DOTA_UNIT_TARGET_HERO | DOTA_UNIT_TARGET_BASIC"
        "Aura_ApplyToCaster"      "1"
      }

      "modifier_imba_track_speed"
      {
        "Passive"           "0"
        "IsBuff"            "1"
        "IsPurgable"          "0"
        "IsHidden"            "0"

        "EffectName"          "particles/units/heroes/hero_bounty_hunter/bounty_hunter_track_haste.vpcf"
        "EffectAttachType"        "follow_origin" 

        "Properties"
        {
          "MODIFIER_PROPERTY_MOVESPEED_BONUS_PERCENTAGE"    "%bonus_move_speed_pct"
        }
      }

      "modifier_imba_track_reveal"
      {
        "Passive"           "0"
        "IsDebuff"            "1"
        "IsPurgable"          "0"
        "IsHidden"            "1"

        "Duration"            "0.25"

        "States"
        {
          "MODIFIER_STATE_INVISIBLE"    "MODIFIER_STATE_VALUE_DISABLED"
        }
      }

      "modifier_imba_track"
      {
        "Passive"           "0"
        "IsDebuff"            "1"
        "IsPurgable"          "1"
        "IsHidden"            "0"

        "Duration"            "%duration"

        "ThinkInterval"         "0.25"
        
        "OnIntervalThink"
        {
          "RemoveModifier"
          {
            "ModifierName"      "modifier_imba_track_reveal"
            "Target"
            {
              "Center"      "TARGET"
              "Teams"       "DOTA_UNIT_TARGET_TEAM_BOTH"
              "Types"       "DOTA_UNIT_TARGET_HERO"
              "Flags"       "DOTA_UNIT_TARGET_FLAG_MAGIC_IMMUNE_ENEMIES"
            }
          } 

          "ApplyModifier"
          {
            "ModifierName"      "modifier_imba_track_reveal"
            "Target"
            {
              "Center"      "TARGET"
              "Teams"       "DOTA_UNIT_TARGET_TEAM_BOTH"
              "Types"       "DOTA_UNIT_TARGET_HERO"
              "Flags"       "DOTA_UNIT_TARGET_FLAG_MAGIC_IMMUNE_ENEMIES"
            }
          }
        }

        "OnCreated"
        {
          "RunScript"
          {
            "ScriptFile"      "hero/hero_bounty_hunter.lua"
            "Function"        "TrackParticle"

            "particle_trail"    "particles/units/heroes/hero_bounty_hunter/bounty_hunter_track_trail.vpcf"
            "particle_shield"   "particles/units/heroes/hero_bounty_hunter/bounty_hunter_track_shield.vpcf"
          }
        }

        "OnDestroy"
        {
          "RunScript"
          {
            "ScriptFile"      "hero/hero_bounty_hunter.lua"
            "Function"        "TrackParticleEnd"

            "modifier_track_aura" "modifier_imba_track_aura"
          }
        }

        "OnDeath"
        {
          "RunScript"
          {
            "ScriptFile"      "hero/hero_bounty_hunter.lua"
            "Function"        "Track"
          }
        }

        "States"
        {
          "MODIFIER_STATE_PROVIDES_VISION"    "MODIFIER_STATE_VALUE_ENABLED"
          "MODIFIER_STATE_INVISIBLE"        "MODIFIER_STATE_VALUE_DISABLED"
        }
      }

      "modifier_imba_track_scepter"
      {
        "Passive"           "0"
        "IsDebuff"            "1"
        "IsPurgable"          "0"
        "IsHidden"            "1"

        "Duration"            "%duration"

        "ThinkInterval"         "0.25"
        
        "OnIntervalThink"
        {
          "RemoveModifier"
          {
            "ModifierName"      "modifier_imba_track_reveal"
            "Target"
            {
              "Center"      "TARGET"
              "Teams"       "DOTA_UNIT_TARGET_TEAM_BOTH"
              "Types"       "DOTA_UNIT_TARGET_HERO"
              "Flags"       "DOTA_UNIT_TARGET_FLAG_MAGIC_IMMUNE_ENEMIES"
            }
          } 

          "ApplyModifier"
          {
            "ModifierName"      "modifier_imba_track_reveal"
            "Target"
            {
              "Center"      "TARGET"
              "Teams"       "DOTA_UNIT_TARGET_TEAM_BOTH"
              "Types"       "DOTA_UNIT_TARGET_HERO"
              "Flags"       "DOTA_UNIT_TARGET_FLAG_MAGIC_IMMUNE_ENEMIES"
            }
          }
        }

        "OnCreated"
        {
          "RunScript"
          {
            "ScriptFile"      "hero/hero_bounty_hunter.lua"
            "Function"        "TrackParticle"

            "particle_trail"    "particles/units/heroes/hero_bounty_hunter/bounty_hunter_track_trail.vpcf"
            "particle_shield"   "particles/units/heroes/hero_bounty_hunter/bounty_hunter_track_shield.vpcf"
          }
        }

        "OnDestroy"
        {
          "RunScript"
          {
            "ScriptFile"      "hero/hero_bounty_hunter.lua"
            "Function"        "TrackParticleEnd"

            "modifier_track_aura" "modifier_imba_track_aura"
          }
        }

        "OnDeath"
        {
          "RunScript"
          {
            "ScriptFile"      "hero/hero_bounty_hunter.lua"
            "Function"        "Track"
          }
        }

        "Properties"
        {
          "MODIFIER_PROPERTY_INCOMING_DAMAGE_PERCENTAGE"    "%bonus_damage_scepter"
        }

        "States"
        {
          "MODIFIER_STATE_PROVIDES_VISION"    "MODIFIER_STATE_VALUE_ENABLED"
          "MODIFIER_STATE_INVISIBLE"        "MODIFIER_STATE_VALUE_DISABLED"
        }
      }
    }
  }

  //=================================================================================================================
  // Bounty Hunter's Shadow Jaunt
  //=================================================================================================================
  "imba_bounty_hunter_shadow_jaunt"
  {
    // General
    //-------------------------------------------------------------------------------------------------------------
    "BaseClass"           "ability_datadriven"
    "AbilityTextureName"      "imba_bounty_hunter_shadow_jaunt"
    "AbilityBehavior"       "DOTA_ABILITY_BEHAVIOR_UNIT_TARGET | DOTA_ABILITY_BEHAVIOR_IGNORE_BACKSWING | DOTA_ABILITY_BEHAVIOR_NOT_LEARNABLE"
    "AbilityUnitTargetTeam"     "DOTA_UNIT_TARGET_TEAM_ENEMY"
    "AbilityUnitTargetType"     "DOTA_UNIT_TARGET_HERO"
    "SpellImmunityType"       "SPELL_IMMUNITY_ENEMIES_YES"
    "MaxLevel"            "3"
    "FightRecapLevel"       "1"

    // Precache
    //-------------------------------------------------------------------------------------------------------------
    "precache"
    {
        "soundfile"         "soundevents/game_sounds_heroes/game_sounds_riki.vsndevts"
    }
    
    // Stats
    //-------------------------------------------------------------------------------------------------------------
    "AbilityCastRange"        "1500 2000 2500"
    "AbilityCastPoint"        "0.1"
    "AbilityCooldown"       "12 10 8"
    "AbilityManaCost"       "0" 
      
    // Special
    //-------------------------------------------------------------------------------------------------------------
    "AbilitySpecial"
    {
      "01"
      {
        "var_type"        "FIELD_INTEGER"
        "range"         "1500 2000 2500"
      }
    } 

    "OnSpellStart"
    {
      "RunScript"
      {
        "ScriptFile"        "hero/hero_bounty_hunter.lua"
        "Function"          "ShadowJaunt"

        "modifier_track"      "modifier_imba_track"
        "modifier_track_scepter"  "modifier_imba_track_scepter"
        "ability_jinada"      "bounty_hunter_jinada"
        "sound_cast"        "Hero_Riki.Blink_Strike"
      }
    }
  } 

  //=================================================================================================================
  // Centaur's Hoof Stomp
  //=================================================================================================================
  "imba_centaur_hoof_stomp"
  {
    // General
    //-------------------------------------------------------------------------------------------------------------
    "BaseClass"           "ability_datadriven"
    "AbilityBehavior"       "DOTA_ABILITY_BEHAVIOR_NO_TARGET"
    "AbilityUnitTargetTeam"     "DOTA_UNIT_TARGET_TEAM_ENEMY"
    "AbilityUnitTargetType"     "DOTA_UNIT_TARGET_HERO | DOTA_UNIT_TARGET_BASIC"
    "AbilityUnitDamageType"     "DAMAGE_TYPE_MAGICAL"
    "SpellImmunityType"       "SPELL_IMMUNITY_ENEMIES_NO"
    "FightRecapLevel"       "1"
    "AbilityTextureName"      "centaur_hoof_stomp"
    
    // Stats
    //-------------------------------------------------------------------------------------------------------------
    "AbilityCastPoint"        "0.36"
    "AbilityCastRange"        "375"
    "AbilityCooldown"       "12.0"
    "AbilityManaCost"       "100"

    // Precache
    //-------------------------------------------------------------------------------------------------------------
    "precache"
    {
      "soundfile"         "soundevents/game_sounds_heroes/game_sounds_centaur.vsndevts"
      "particle"          "particles/units/heroes/hero_centaur/centaur_warstomp.vpcf"
      "particle"          "particles/generic_gameplay/generic_stunned.vpcf"
      "particle"          "particles/hero/centaur/centaur_hoof_stomp_arena.vpcf"
    } 
    
    // Special
    //-------------------------------------------------------------------------------------------------------------
    "AbilitySpecial"
    {
      "01"
      {
        "var_type"            "FIELD_INTEGER"
        "radius"            "375"
      }
      "02"
      {
        "var_type"            "FIELD_FLOAT"
        "stun_duration"         "2.0 2.25 2.5 2.75"
      }
      "03"
      {
        "var_type"            "FIELD_INTEGER"
        "stomp_damage"          "100 150 200 250"
      }
      "04"
      {
        "var_type"            "FIELD_FLOAT"
        "pit_duration"          "4.75"
      }
      "05"
      {
        "var_type"            "FIELD_INTEGER"
        "pit_dmg_reduction"       "-30 -40 -50 -60"
      }
    } 

    "OnSpellStart"
    {
      "FireEffect"
      {
        "EffectName"      "particles/units/heroes/hero_centaur/centaur_warstomp.vpcf"
        "EffectAttachType"    "follow_origin"
        "EffectRadius"      "%radius"
        "Target"        "CASTER"
        "ControlPoints"
        {
          "01"        "%radius 0 %radius"
        }
      }

      "DestroyTrees"
      {
        "Target"        "CASTER"
        "Radius"        "%radius"
      }
      
      "FireSound"
      {
        "EffectName"      "Hero_Centaur.HoofStomp"
        "Target"        "CASTER"
      }

      "ApplyModifier"
      {
        "ModifierName"      "modifier_imba_hoof_stomp_caster"
        "Target"        "CASTER"
      }

      "ActOnTargets"
      {
        "Target"
        {
          "Center"        "CASTER"
          "Radius"      "%radius"
          "Teams"       "DOTA_UNIT_TARGET_TEAM_ENEMY"
          "Types"       "DOTA_UNIT_TARGET_HERO | DOTA_UNIT_TARGET_BASIC"
        } 

        "Action"
        {
          "Damage"
          {
            "Target"    "TARGET"
            "Type"      "DAMAGE_TYPE_MAGICAL"
            "Damage"    "%stomp_damage"
          }

          "Stun"
          {
            "Duration"    "%stun_duration"
            "Target"    "TARGET"
          }
        }
      }

      "RunScript"
      {
        "ScriptFile"      "hero/hero_centaur.lua"
        "Function"        "HoofStomp"

        "modifier_caster"   "modifier_imba_hoof_stomp_caster"
        "modifier_enemies"    "modifier_imba_hoof_stomp_marker"
        "particle_pit"      "particles/hero/centaur/centaur_hoof_stomp_arena.vpcf"
      }
    } 

    "Modifiers"
    {
      "modifier_imba_hoof_stomp_caster"
      {
        "Passive"       "0"
        "IsHidden"        "0"
        "IsBuff"        "1"
        "IsPurgable"      "0"

        "Duration"        "%pit_duration"

        "Properties"
        {
          "MODIFIER_PROPERTY_INCOMING_DAMAGE_PERCENTAGE"    "%pit_dmg_reduction"
        }
      }

      "modifier_imba_hoof_stomp_marker"
      {
        "Passive"       "0"
        "IsHidden"        "1"
        "IsDebuff"        "1"
        "IsPurgable"      "0"

        "Attributes"      "MODIFIER_ATTRIBUTE_IGNORE_INVULNERABLE"
      }
    }
  }

  //=================================================================================================================
  // Centaur's Double Edge
  //=================================================================================================================
  "imba_centaur_double_edge"
  {
    // General
    //-------------------------------------------------------------------------------------------------------------
    "BaseClass"           "ability_datadriven"
    "AbilityBehavior"       "DOTA_ABILITY_BEHAVIOR_UNIT_TARGET"
    "AbilityUnitTargetTeam"     "DOTA_UNIT_TARGET_TEAM_ENEMY"
    "AbilityUnitTargetType"     "DOTA_UNIT_TARGET_HERO | DOTA_UNIT_TARGET_BASIC"
    "AbilityUnitDamageType"     "DAMAGE_TYPE_MAGICAL"
    "SpellImmunityType"       "SPELL_IMMUNITY_ENEMIES_NO"
    "FightRecapLevel"       "1"
    "AbilityTextureName"      "centaur_double_edge" 

    // Casting    
    //-------------------------------------------------------------------------------------------------------------
    "AbilityCooldown"       "6.75 6.0 5.25 4.5"
    "AbilityManaCost"       "0"
    "AbilityCastRange"        "150"
    "AbilityCastPoint"        "0.36"

    // Precache 
    //-------------------------------------------------------------------------------------------------------------
    "precache"
    {
      "soundfile"         "soundevents/game_sounds_heroes/game_sounds_centaur.vsndevts"
      "particle"          "particles/units/heroes/hero_centaur/centaur_double_edge.vpcf"
    }

    // Special  
    //-------------------------------------------------------------------------------------------------------------
    "AbilitySpecial"
    {
      "01"
      {
        "var_type"        "FIELD_INTEGER"
        "edge_damage"     "180 270 360 450"
      }
      "02"
      {
        "var_type"        "FIELD_INTEGER"
        "radius"        "275"
      }
      "03"
      {
        "var_type"        "FIELD_INTEGER"
        "str_percentage"    "100"
      }
    }   

    "OnSpellStart"
    {
      "FireSound"
      {
        "Target"        "CASTER"
        "EffectName"      "Hero_Centaur.DoubleEdge"
      }

      "RunScript"
      {
        "ScriptFile"      "hero/hero_centaur.lua"
        "Function"        "DoubleEdge"

        "modifier_caster"   "modifier_imba_double_edge_prevent_deny"
      }
    }

    "Modifiers"
    {
      "modifier_imba_double_edge_prevent_deny"
      {
        "Passive"       "0"
        "IsHidden"        "1"
        "IsBuff"        "1"
        "IsPurgable"      "0"
    
        "Properties"
        {
          "MODIFIER_PROPERTY_MIN_HEALTH"    "1"
        }
      }
    }
  }

  //=================================================================================================================
  // Centaur's Return
  //=================================================================================================================
  "imba_centaur_return"
  {
    // General
    //-------------------------------------------------------------------------------------------------------------
    "BaseClass"                 "ability_datadriven"
    "AbilityBehavior"           "DOTA_ABILITY_BEHAVIOR_PASSIVE"
    "SpellImmunityType"         "SPELL_IMMUNITY_ENEMIES_YES"
    "AbilityUnitDamageType"     "DAMAGE_TYPE_PHYSICAL"
    "AbilityTextureName"        "centaur_return"

    // Precache
    //-------------------------------------------------------------------------------------------------------------
    "precache"
    {
      "particle"            "particles/units/heroes/hero_centaur/centaur_return.vpcf"
    }

    // Special
    //-------------------------------------------------------------------------------------------------------------
    "AbilitySpecial"
    {
      "01"
      {
        "var_type"          "FIELD_INTEGER"
        "strength_pct"        "100"
      }
      "02"
      {
        "var_type"          "FIELD_FLOAT"
        "cooldown"          "1.5 1.2 0.9 0.6"
      }
      "03"
      {
        "var_type"          "FIELD_INTEGER"
        "max_block"         "20 40 60 80"
      }
      "04"
      {
        "var_type"          "FIELD_INTEGER"
        "block_str_percentage"    "50"
      }
    } 

    "Modifiers"
    {
      "modifier_imba_centaur_return"
      {
        "Passive"         "1"
        "IsHidden"          "1"

        "ThinkInterval"       "1.0"

        "OnIntervalThink"
        {
          "RunScript"
          {
            "ScriptFile"    "hero/hero_centaur.lua"
            "Function"      "ReturnUpdate"

            "modifier_stacks" "modifier_imba_centaur_return_stack"
          }
        }

        "OnTakeDamage"
        {
          "RunScript"
          {
            "ScriptFile"    "hero/hero_centaur.lua"
            "Function"      "Return"

            "modifier_prevent_return" "modifier_imba_centaur_prevent_return"
          }

          "FireEffect"
          {
            "EffectName"    "particles/units/heroes/hero_centaur/centaur_return.vpcf"
            "EffectAttachType"  "attach_hitloc"
            "Target"      "CASTER"

            "ControlPointEntities"
            {
              "CASTER"    "attach_hitloc"
              "ATTACKER"    "attach_hitloc"
            }
          }
        } 
      }

      "modifier_imba_centaur_prevent_return"
      {
        "Passive"         "1"
        "IsHidden"          "1"
        "IsPurgable"        "0"
        "IsDebuff"          "1"

        "Attributes"        "MODIFIER_ATTRIBUTE_IGNORE_INVULNERABLE"
      }

      "modifier_imba_centaur_return_stack"
      {
        "Passive"         "1"
        "IsHidden"          "1"
        "IsBuff"          "1"
        "IsPurgable"        "0"

        "Properties"
        {
          "MODIFIER_PROPERTY_PHYSICAL_CONSTANT_BLOCK" "1"
        }
      }
    }
  }

  //=================================================================================================================
  // Centaur's Stampede
  //=================================================================================================================
  "imba_centaur_stampede"
  {
    // General
    //-------------------------------------------------------------------------------------------------------------
    "BaseClass"           "ability_datadriven"
    "AbilityBehavior"       "DOTA_ABILITY_BEHAVIOR_NO_TARGET | DOTA_ABILITY_BEHAVIOR_IMMEDIATE"
    "AbilityType"         "DOTA_ABILITY_TYPE_ULTIMATE"
    "AbilityUnitDamageType"     "DAMAGE_TYPE_MAGICAL"
    "SpellImmunityType"       "SPELL_IMMUNITY_ENEMIES_NO"
    "FightRecapLevel"       "2"
    "AbilityTextureName"      "centaur_stampede"
    "AbilityCastAnimation"      "ACT_DOTA_CAST_ABILITY_4"

    // Time   
    //-------------------------------------------------------------------------------------------------------------
    "AbilityCooldown"       "90.0 75.0 60.0"

    // Cost
    //-------------------------------------------------------------------------------------------------------------
    "AbilityManaCost"       "100"

    // Precache
    //-------------------------------------------------------------------------------------------------------------
    "precache"
    {
      "soundfile"         "soundevents/game_sounds_heroes/game_sounds_centaur.vsndevts"
      "particle"          "particles/units/heroes/hero_centaur/centaur_stampede_overhead.vpcf"
      "particle"          "particles/units/heroes/hero_centaur/centaur_stampede.vpcf"
      "particle"          "particles/generic_gameplay/generic_stunned.vpcf"
    } 

    // Special
    //-------------------------------------------------------------------------------------------------------------
    "AbilitySpecial"
    {
      "01"
      {
        "var_type"          "FIELD_FLOAT"
        "duration"          "4.5"
      }
      "02"
      {
        "var_type"          "FIELD_INTEGER"
        "strength_damage"     "200 250 300"
      }
      "03"
      {
        "var_type"          "FIELD_FLOAT"
        "stun_duration"       "1.5"
      }
      "04"
      {
        "var_type"          "FIELD_INTEGER"
        "radius"          "105"
      }
      "05"
      {
        "var_type"          "FIELD_INTEGER"
        "damage_reduction_scepter"  "-75"
      }
      "06"
      {
        "var_type"          "FIELD_FLOAT"
        "duration_scepter"      "6.0"
      }
      "07"
      {
        "var_type"          "FIELD_INTEGER"
        "tree_radius"       "200"
      }
    } 

    "OnSpellStart"
    {
      "RunScript"
      {
        "ScriptFile"        "hero/hero_centaur.lua"
        "Function"          "StampedeStart"

        "modifier_stampede"     "modifier_imba_centaur_stampede"
        "modifier_scepter"      "modifier_imba_centaur_stampede_scepter"
      } 
    } 

    "Modifiers"
    {
      "modifier_imba_centaur_stampede"
      {
        "Passive"         "0"
        "IsHidden"          "0"
        "IsBuff"          "1"
        "IsPurgable"        "0"

        "EffectName"        "particles/units/heroes/hero_centaur/centaur_stampede.vpcf"
        "EffectAttachType"      "follow_origin" 

        "Aura"            "modifier_imba_centaur_stampede_collision"
          "Aura_Radius"       "%radius"
          "Aura_Teams"        "DOTA_UNIT_TARGET_TEAM_ENEMY"
          "Aura_Types"        "DOTA_UNIT_TARGET_HERO | DOTA_UNIT_TARGET_BASIC"

        "Properties"
        {
          "MODIFIER_PROPERTY_MOVESPEED_ABSOLUTE"  "522"
        }

        "States"
        {
          "MODIFIER_STATE_NO_UNIT_COLLISION"    "MODIFIER_STATE_VALUE_ENABLED"
        }

        "OnCreated"
        {
          "AttachEffect"
          {
            "EffectName"        "particles/units/heroes/hero_centaur/centaur_stampede_overhead.vpcf"
            "EffectAttachType"      "follow_overhead"
            "Target"          "TARGET"
          }
        } 

        "OnUnitMoved"
        {
          "Random"
          {
            "Chance"          "1.0"
            "OnSuccess"
            {
              "FireSound"
              {
                "EffectName"    "Hero_Centaur.Stampede.Movement"
                "Target"      "UNIT"
              }
            }
          }       
        }
      } 

      "modifier_imba_centaur_stampede_collision"
      {
        "Passive"         "0"
        "IsHidden"          "1"
        "IsBuff"          "1"
        "IsPurgable"        "0"

        "OnCreated"
        {
          "RunScript"
          {
            "ScriptFile"    "hero/hero_centaur.lua"
            "Function"      "Stampede"

            "sound_impact"    "Hero_Centaur.Stampede.Stun"
          }
        }
      } 

      "modifier_imba_centaur_stampede_scepter"
      {
        "Passive"         "0"
        "IsHidden"          "1"
        "IsBuff"          "1"
        "IsPurgable"        "0"

        "ThinkInterval"       "0.1"

        "OnIntervalThink"
        {
          "DestroyTrees"
          {
            "Target"      "TARGET"
            "Radius"      "%tree_radius"
          }
        }

        "Properties"
        {
          "MODIFIER_PROPERTY_INCOMING_DAMAGE_PERCENTAGE"    "%damage_reduction_scepter"
        }

        "States"
        {
          "MODIFIER_STATE_FLYING_FOR_PATHING_PURPOSES_ONLY" "MODIFIER_STATE_VALUE_ENABLED"
        }
      }
    }
  }

  //=================================================================================================================
  // Crystal Maiden's Crystal Nova
  //=================================================================================================================
  "imba_crystal_maiden_crystal_nova"
  {
    // General
    //-------------------------------------------------------------------------------------------------------------
    "BaseClass"               "ability_datadriven"
    "AbilityType"             "DOTA_ABILITY_TYPE_BASIC"
    "AbilityBehavior"           "DOTA_ABILITY_BEHAVIOR_POINT | DOTA_ABILITY_BEHAVIOR_AOE"
    "AbilityUnitDamageType"         "DAMAGE_TYPE_MAGICAL"
    "AbilityUnitTargetTeam"         "DOTA_UNIT_TARGET_TEAM_ENEMY"
    "AbilityUnitTargetType"         "DOTA_UNIT_TARGET_HERO | DOTA_UNIT_TARGET_BASIC"
    "SpellImmunityType"           "SPELL_IMMUNITY_ENEMIES_NO"
    "FightRecapLevel"           "1"
    "AbilityTextureName"          "crystal_maiden_crystal_nova"
    "AOERadius"               "%radius"

    // Casting
    //-------------------------------------------------------------------------------------------------------------
    "AbilityCastRange"            "800"
    "AbilityCastPoint"            "0.2"
    
    // Time   
    //-------------------------------------------------------------------------------------------------------------
    "AbilityCooldown"           "15.0 14.0 13.0 12.0"
    
    // Damage.
    //-------------------------------------------------------------------------------------------------------------
    "AbilityDamage"             "100 150 200 250"

    // Cost
    //-------------------------------------------------------------------------------------------------------------
    "AbilityManaCost"           "100 120 140 160"
    
    // Special
    //-------------------------------------------------------------------------------------------------------------
    "AbilitySpecial"
    {
      "01"
      {
        "var_type"            "FIELD_FLOAT"
        "duration"            "4.5"
      }
      "02"
      {
        "var_type"            "FIELD_INTEGER"
        "radius"            "400"
      }
      "03"
      {
        "var_type"            "FIELD_INTEGER"
        "movespeed_slow"        "-20 -30 -40 -50"
      }
      "04"
      {
        "var_type"            "FIELD_INTEGER"
        "attackspeed_slow"        "-20 -30 -40 -50"
      }
      "05"
      {
        "var_type"            "FIELD_FLOAT"
        "vision_duration"       "10.0"
      }
      "06"
      {
        "var_type"            "FIELD_FLOAT"
        "damage_interval"       "0.5"
      }
      "07"
      {
        "var_type"            "FIELD_INTEGER"
        "damage_per_tick"       "15"
      }
      "08"
      {
        "var_type"            "FIELD_FLOAT"
        "movespeed_aura_slow"     "-10"
      }
      "09"
      {
        "var_type"            "FIELD_FLOAT"
        "movespeed_aura_speed"      "10"
      }
      "10"
      {
        "var_type"            "FIELD_INTEGER"
        "vision_radius"         "450"
      }
    }
    
    // Data driven
    //-------------------------------------------------------------------------------------------------------------
    "precache"
    {
      "soundfile"             "soundevents/game_sounds_heroes/game_sounds_crystalmaiden.vsndevts"
      "particle"              "particles/units/heroes/hero_crystalmaiden/maiden_crystal_nova.vpcf"
      "particle"              "particles/generic_gameplay/generic_slowed_cold.vpcf"
      "particle"              "particles/units/heroes/hero_crystalmaiden/maiden_freezing_field_snow.vpcf"
    }
    
    "OnSpellStart"
    {
      "FireEffect"
      {
        "TargetPoint"         "POINT"
        "EffectName"          "particles/units/heroes/hero_crystalmaiden/maiden_crystal_nova.vpcf"
        "EffectAttachType"        "world_origin"
        
        "ControlPoints"
        {
          "01"            "%radius 2 %radius*2"
        }
      }
      
      "FireSound"
      {
        "EffectName"          "Hero_Crystal.CrystalNova"
        "Target"            "CASTER"
      }
    
      "ActOnTargets"
      {
        "Target"
        {     
          "Center"          "POINT"
          "Radius"          "%radius"
          "Teams"           "DOTA_UNIT_TARGET_TEAM_ENEMY" 
          "Types"           "DOTA_UNIT_TARGET_HERO | DOTA_UNIT_TARGET_BASIC"
        }
        
        "Action"
        {
          "Damage"
          {
            "Target"        "TARGET"
            "Damage"        "%AbilityDamage"
            "Type"          "DAMAGE_TYPE_MAGICAL"
          }
          
          "ApplyModifier"
          {
            "Target"        "TARGET"
            "ModifierName"      "modifier_imba_crystal_nova_slow"
          }
        }
      }
      
      "RunScript"
      {
        "ScriptFile"          "hero/hero_crystal_maiden.lua"
        "Function"            "CrystalNova"
        "Target"            "POINT"

        "good_aura_modifier"      "modifier_imba_crystal_nova_good_aura"
        "bad_aura_modifier"       "modifier_imba_crystal_nova_bad_aura"
        "particle"            "particles/units/heroes/hero_crystalmaiden/maiden_freezing_field_snow.vpcf"
      }
    }
    
    "Modifiers"
    {
      "modifier_imba_crystal_nova_slow"
      {
        "IsDebuff"            "1"
        "IsPurgable"          "1"

        "Duration"            "%duration"
        "EffectName"          "particles/generic_gameplay/generic_slowed_cold.vpcf"
        "StatusEffectName"        "particles/status_fx/status_effect_frost_lich.vpcf"
        "StatusEffectPriority"      "10"
      
        "Properties"
        {
          "MODIFIER_PROPERTY_ATTACKSPEED_BONUS_CONSTANT"  "%attackspeed_slow"
          "MODIFIER_PROPERTY_MOVESPEED_BONUS_PERCENTAGE"  "%movespeed_slow"
        }
      }

      "modifier_imba_crystal_nova_bad_aura"
      {
        "IsHidden"            "1"
        "IsPurgable"          "0"

        "Aura"              "modifier_imba_crystal_nova_aura_slow"
        "Aura_Radius"         "%radius"
        "Aura_Teams"          "DOTA_UNIT_TARGET_TEAM_ENEMY"
        "Aura_Types"          "DOTA_UNIT_TARGET_HERO | DOTA_UNIT_TARGET_BASIC"
        "Aura_ApplyToCaster"      "0"
      
        "States"
        {
          "MODIFIER_STATE_INVULNERABLE"         "MODIFIER_STATE_VALUE_ENABLED"
          "MODIFIER_STATE_NO_HEALTH_BAR"          "MODIFIER_STATE_VALUE_ENABLED"
          "MODIFIER_STATE_NO_UNIT_COLLISION"        "MODIFIER_STATE_VALUE_ENABLED"
          "MODIFIER_STATE_NOT_ON_MINIMAP"         "MODIFIER_STATE_VALUE_ENABLED"
          "MODIFIER_STATE_UNSELECTABLE"         "MODIFIER_STATE_VALUE_ENABLED"
          "MODIFIER_STATE_OUT_OF_GAME"          "MODIFIER_STATE_VALUE_ENABLED"
        }
      }

      "modifier_imba_crystal_nova_good_aura"
      {
        "IsHidden"            "1"
        "IsPurgable"          "0"

        "Aura"              "modifier_imba_crystal_nova_aura_speed"
        "Aura_Radius"         "%radius"
        "Aura_Teams"          "DOTA_UNIT_TARGET_TEAM_FRIENDLY"
        "Aura_Types"          "DOTA_UNIT_TARGET_HERO | DOTA_UNIT_TARGET_BASIC"
        "Aura_ApplyToCaster"      "1"
      }

      "modifier_imba_crystal_nova_aura_slow"
      {
        "Passive"           "0"
        "IsHidden"            "1"
        "IsDebuff"            "1"

        "EffectName"          "particles/generic_gameplay/generic_slowed_cold.vpcf"
        "StatusEffectName"        "particles/status_fx/status_effect_frost_lich.vpcf"
        "StatusEffectPriority"      "10"
        
        "ThinkInterval"         "%damage_interval"
        "OnIntervalThink"
        {
          "Damage"
          {
            "Target"        "TARGET"
            "Type"          "DAMAGE_TYPE_MAGICAL"
            "Damage"        "%damage_per_tick"
          }
        }
      
        "Properties"
        {
            "MODIFIER_PROPERTY_MOVESPEED_BONUS_PERCENTAGE" "%movespeed_aura_slow" 
        }
      }

      "modifier_imba_crystal_nova_aura_speed"
      {
        "Passive"     "0"
        "IsHidden"      "1"
        "IsBuff"      "1"

        "Properties"
        {
            "MODIFIER_PROPERTY_MOVESPEED_BONUS_PERCENTAGE" "%movespeed_aura_speed" 
        }
      }
    }
  }

  //=================================================================================================================
  // Crystal Maiden's Frostbite
  //=================================================================================================================
  "imba_crystal_maiden_frostbite"
  {
    // General
    //-------------------------------------------------------------------------------------------------------------
    "BaseClass"                   "ability_datadriven"
    "AbilityType"                 "DOTA_ABILITY_TYPE_BASIC"
    "AbilityBehavior"               "DOTA_ABILITY_BEHAVIOR_UNIT_TARGET"
    "AbilityUnitTargetTeam"             "DOTA_UNIT_TARGET_TEAM_ENEMY"
    "AbilityUnitTargetType"             "DOTA_UNIT_TARGET_HERO | DOTA_UNIT_TARGET_BASIC"
    "AbilityUnitDamageType"             "DAMAGE_TYPE_MAGICAL" 
    "SpellImmunityType"               "SPELL_IMMUNITY_ENEMIES_NO"
    "FightRecapLevel"               "1"
    "AbilityTextureName"              "crystal_maiden_frostbite"

    // Casting
    //-------------------------------------------------------------------------------------------------------------
    "AbilityCastRange"                "600"
    "AbilityCastPoint"                "0.2"
    
    // Time   
    //-------------------------------------------------------------------------------------------------------------
    "AbilityCooldown"               "9.0 8.0 7.0 6.0"

    // Cost
    //-------------------------------------------------------------------------------------------------------------
    "AbilityManaCost"               "110 120 130 140"
    
    // Special
    //-------------------------------------------------------------------------------------------------------------
    "AbilitySpecial"
    {
      "01"
      {
        "var_type"                "FIELD_INTEGER"
        "damage_per_second_tooltip"       "100"
      }
      "02"
      {
        "var_type"                "FIELD_FLOAT"
        "duration"                "1.5 2.0 2.5 3.0"
      }
      "03"
      {
        "var_type"                "FIELD_INTEGER"
        "hero_damage_tooltip"         "150 200 250 300"
      }
      "04"
      {
        "var_type"                "FIELD_FLOAT"
        "creep_duration"            "30.0"
      }
      "05"
      {
        "var_type"                "FIELD_INTEGER"
        "creep_damage_tooltip"          "3000"
      }
      "06"
      {
        "var_type"                "FIELD_FLOAT"
        "damage"                "50"
      }
      "07"
      {
        "var_type"                "FIELD_FLOAT"
        "stun_duration"             "0.1"
      }
      "08"
      {
        "var_type"                "FIELD_FLOAT"
        "damage_interval"           "0.5"
      }
      "09"
      {
        "var_type"                "FIELD_INTEGER"
        "hero_cooldown"             "12"
      }
      "10"
      {
        "var_type"                "FIELD_INTEGER"
        "creep_chance"              "15"
      }
    }
    
    // Data driven
    //-------------------------------------------------------------------------------------------------------------
    "precache"
    {
      "soundfile"                 "soundevents/game_sounds_heroes/game_sounds_crystalmaiden.vsndevts"
      "particle"                  "particles/units/heroes/hero_crystalmaiden/maiden_frostbite_buff.vpcf"
      "particle"                  "particles/units/heroes/hero_crystalmaiden/maiden_frostbite.vpcf"
    }
    
    "OnSpellStart"
    {
      "TrackingProjectile"
      {
        "Target"                "TARGET"
        "EffectName"              "particles/units/heroes/hero_crystalmaiden/maiden_frostbite.vpcf"
        "MoveSpeed"               "2000"
      }
    
      "Stun"
      {
        "Target"                "TARGET"
        "Duration"                "%stun_duration"
      }
      
      "ApplyModifier"
      {
        "Target"
        {
          "Center"              "TARGET"
          "Types"               "DOTA_UNIT_TARGET_HERO | DOTA_UNIT_TARGET_BASIC"
        }
        "ModifierName"              "modifier_imba_frostbite_root"
        "Duration"                "%duration"
      }
      
      "ApplyModifier"
      {
        "Target"
        {
          "Center"              "TARGET"
          "Types"               "DOTA_UNIT_TARGET_HERO | DOTA_UNIT_TARGET_BASIC"
        }
        "ModifierName"              "modifier_imba_frostbite_damage"
        "Duration"                "%duration - %damage_interval"
      }
      
      "ApplyModifier"
      {
        "Target"
        {
          "Center"              "TARGET"
          "Types"               "DOTA_UNIT_TARGET_BASIC"
          "Flags"               "DOTA_UNIT_TARGET_FLAG_NOT_ANCIENTS"
        }
        "ModifierName"              "modifier_imba_frostbite_root"
        "Duration"                "%creep_duration"
      }
      
      "ApplyModifier"
      {
        "Target"
        {
          "Center"              "TARGET"
          "Types"               "DOTA_UNIT_TARGET_BASIC"
          "Flags"               "DOTA_UNIT_TARGET_FLAG_NOT_ANCIENTS"
        }
        "ModifierName"              "modifier_imba_frostbite_damage"
        "Duration"                "%creep_duration - %damage_interval"
      }
      
      "FireSound"
      {
        "Target"                "TARGET"
        "EffectName"              "hero_Crystal.frostbite"
      }
    }
    
    "Modifiers"
    {
      "modifier_imba_frostbite_root"
      {
        "IsPurgable"              "1"
        "IsDebuff"                "1"
      
        "EffectName"              "particles/units/heroes/hero_crystalmaiden/maiden_frostbite_buff.vpcf"
      
        "States"
        {
          "MODIFIER_STATE_ROOTED"       "MODIFIER_STATE_VALUE_ENABLED"
          "MODIFIER_STATE_INVISIBLE"      "MODIFIER_STATE_VALUE_DISABLED"
          "MODIFIER_STATE_DISARMED"     "MODIFIER_STATE_VALUE_ENABLED"
        }
      }
      
      "modifier_imba_frostbite_damage"
      {
        "IsPurgable"              "1"
        "IsHidden"                "1"
        "IsDebuff"                "1"
        
        "OnCreated"
        {
          "Damage"
          {
            "Target"            "TARGET"
            "Damage"            "%damage"
            "Type"              "DAMAGE_TYPE_MAGICAL"
          }
        }
        
        "ThinkInterval"             "%damage_interval"
        "OnIntervalThink"
        {
          "Damage"
          {
            "Target"            "TARGET"
            "Damage"            "%damage"
            "Type"              "DAMAGE_TYPE_MAGICAL"
          }
        }
      }

      "modifier_imba_frostbite_passive"
      {
        "Passive"               "1"
        "IsPurgable"              "0"

        "Attributes"              "MODIFIER_ATTRIBUTE_IGNORE_INVULNERABLE"
        
        "OnCreated"
        {
          "RunScript"
          {
            "ScriptFile"          "internal/util.lua"
            "Function"            "IllusionPassiveRemover"

            "modifier"            "modifier_imba_frostbite_passive"
          }
        }

        "OnTakeDamage"
        {
          "RunScript"
          {
            "ScriptFile"          "hero/hero_crystal_maiden"
            "Function"            "Frostbite"

            "modifier_root"         "modifier_imba_frostbite_root"
            "modifier_damage"       "modifier_imba_frostbite_damage"
            "modifier_passive"        "modifier_imba_frostbite_passive"
            "modifier_cooldown"       "modifier_imba_frostbite_passive_cooldown"
            "sound_frostbite"       "hero_Crystal.frostbite"
          }
        }
      }

      "modifier_imba_frostbite_passive_cooldown"
      {
        "TextureName"             "crystal_maiden_frostbite_cooldown"
        "IsDebuff"                "1"
        "IsPurgable"              "0"
        "AllowIllusionDuplicate"        "0"

        "Attributes"              "MODIFIER_ATTRIBUTE_IGNORE_INVULNERABLE"

        "OnDestroy"
        { 
          "RunScript"
          {
            "ScriptFile"          "hero/hero_crystal_maiden"
            "Function"            "FrostbitePassive"

            "modifier_passive"        "modifier_imba_frostbite_passive"
          }
        }
      }
    }
  }

  //=================================================================================================================
  // Crystal Maiden's Brilliance Aura
  //=================================================================================================================
  "imba_crystal_maiden_brilliance_aura"
  {
    // General
    //-------------------------------------------------------------------------------------------------------------
    "BaseClass"                         "ability_datadriven"
    "AbilityBehavior"                   "DOTA_ABILITY_BEHAVIOR_PASSIVE | DOTA_ABILITY_BEHAVIOR_AURA"
    "AbilityUnitTargetTeam"             "DOTA_UNIT_TARGET_TEAM_FRIENDLY"
    "AbilityTextureName"                "crystal_maiden_brilliance_aura"
    
    // Special
    //-------------------------------------------------------------------------------------------------------------
    "AbilitySpecial"
    {
      "01"
      {
        "var_type"                "FIELD_FLOAT"
        "mana_regen"              "0.4 0.6 0.8 1.0"
      }
      "02"
      {
        "var_type"                "FIELD_INTEGER"
        "movespeed_bonus"           "10"
      }
      "03"
      {
        "var_type"                "FIELD_INTEGER"
        "bonus_int"               "6 9 12 15"
      }
      "04"
      {
        "var_type"                "FIELD_INTEGER"
        "global_range"              "25000"
      }
    }
    
    // Data driven
    //-------------------------------------------------------------------------------------------------------------
    "Modifiers"
    {
      "modifier_imba_brilliance_aura"
      {
        "Passive"               "1"
        "IsHidden"                "1"
        "Aura"                  "modifier_imba_brilliance_aura_effect"
        "Aura_Radius"             "%global_range"
        "Aura_Teams"              "DOTA_UNIT_TARGET_TEAM_FRIENDLY"
        "Aura_Types"              "DOTA_UNIT_TARGET_HERO"

        "ThinkInterval"             "0.5"
        "OnIntervalThink"
        {
          "RunScript"
          {
            "ScriptFile"          "hero/hero_crystal_maiden.lua"
            "Function"            "BrillianceAura"

            "modifier_speed"        "modifier_imba_brilliance_aura_speed"
          }
        }

        "Properties"
        {
          "MODIFIER_PROPERTY_MANA_REGEN_TOTAL_PERCENTAGE"   "%mana_regen"
          "MODIFIER_PROPERTY_STATS_INTELLECT_BONUS"     "%bonus_int"
        }
      }
      
      "modifier_imba_brilliance_aura_effect"
      {
        "Properties"
        {
          "MODIFIER_PROPERTY_MANA_REGEN_TOTAL_PERCENTAGE"   "%mana_regen"
          "MODIFIER_PROPERTY_STATS_INTELLECT_BONUS"     "%bonus_int"
        }
      }

      "modifier_imba_brilliance_aura_speed"
      {
        "IsHidden"                "1"
        "Properties"
        {
            "MODIFIER_PROPERTY_MOVESPEED_BONUS_PERCENTAGE"    "%movespeed_bonus" 
        }
      }
    }
  }

  //=================================================================================================================
  // Crystal Maiden's Freezing Field
  //=================================================================================================================
  "imba_crystal_maiden_freezing_field"
  {
    // General
    //-------------------------------------------------------------------------------------------------------------
    "BaseClass"                   "ability_datadriven"
    "AbilityType"                 "DOTA_ABILITY_TYPE_ULTIMATE"
    "AbilityBehavior"               "DOTA_ABILITY_BEHAVIOR_NO_TARGET | DOTA_ABILITY_BEHAVIOR_CHANNELLED | DOTA_ABILITY_BEHAVIOR_DONT_RESUME_ATTACK"
    "AbilityUnitDamageType"             "DAMAGE_TYPE_MAGICAL" 
    "SpellImmunityType"               "SPELL_IMMUNITY_ENEMIES_NO"
    "FightRecapLevel"               "2"
    "AbilityTextureName"              "crystal_maiden_freezing_field"

    // Casting
    //-------------------------------------------------------------------------------------------------------------
    "AbilityCastRange"                "1000"
    "AbilityChannelTime"              "10.0"
    "AbilityCastPoint"                "0.2"
    
    // Time   
    //-------------------------------------------------------------------------------------------------------------
    "AbilityCooldown"               "90"
    "AbilityDuration"               "10.0"

    // Cost
    //-------------------------------------------------------------------------------------------------------------
    "AbilityManaCost"               "200 400 600"

    // Special
    //-------------------------------------------------------------------------------------------------------------
    "AbilitySpecial"
    {
      "01"
      {
        "var_type"                "FIELD_INTEGER"
        "radius"                "1000"
      }
    
      "02"
      {
        "var_type"                "FIELD_INTEGER"
        "explosion_radius"            "300 325 350"
      }
      "04"
      {
        "var_type"                "FIELD_FLOAT"
        "explosion_interval"          "0.1"
      }
      "05"
      {
        "var_type"                "FIELD_INTEGER"
        "movespeed_slow"            "-30 -40 -50"
      }
      "06"
      {
        "var_type"                "FIELD_INTEGER"
        "attack_slow"             "-40 -60 -80"
      }
      "07"
      {
        "var_type"                "FIELD_FLOAT"
        "slow_duration"             "1.0"
      }
      "08"
      {
        "var_type"                "FIELD_INTEGER"
        "explosion_min_dist"          "200"
      }
      "09"
      {
        "var_type"                "FIELD_INTEGER"
        "explosion_max_dist"          "800"
      }
      "10"
      {
        "var_type"                "FIELD_INTEGER"
        "damage"                "110 180 250"
      }
      "11"
      {
        "var_type"                "FIELD_INTEGER"
        "damage_scepter"            "180 250 320"
      }
      "12"
      {
        "var_type"                "FIELD_INTEGER"
        "movespeed_slow_scepter"        "-60"
      }
      "13"
      {
        "var_type"                "FIELD_INTEGER"
        "attack_slow_scepter"         "-100"
      }
      "14"
      {
        "var_type"                "FIELD_FLOAT"
        "frostbite_duration"          "1.0 1.4 1.8"
      }
      "15"
      {
        "var_type"                "FIELD_FLOAT"
        "stun_duration"             "0.1"
      }
    }
    
    // Data driven
    //-------------------------------------------------------------------------------------------------------------
    "precache"
    {
      "soundfile"                 "soundevents/game_sounds_heroes/game_sounds_crystalmaiden.vsndevts"
      "particle"                  "particles/units/heroes/hero_crystalmaiden/maiden_freezing_field_snow.vpcf"
      "particle"                  "particles/units/heroes/hero_crystalmaiden/maiden_freezing_field_explosion.vpcf"
      "particle"                  "particles/generic_gameplay/generic_slowed_cold.vpcf"
      "particle"                  "particles/status_fx/status_effect_frost_lich.vpcf"
      "particle"                  "particles/units/heroes/hero_crystalmaiden/maiden_frostbite_buff.vpcf"
    }
    
    "OnSpellStart"
    {
      "RunScript"
      {
        "ScriptFile"              "hero/hero_crystal_maiden.lua"
        "Function"                "FreezingFieldCast"

        "modifier_aura"             "modifier_imba_freezing_field_caster"
        "modifier_sector_0"           "modifier_imba_freezing_field_northwest"
        "modifier_sector_1"           "modifier_imba_freezing_field_northeast"
        "modifier_sector_2"           "modifier_imba_freezing_field_southeast"
        "modifier_sector_3"           "modifier_imba_freezing_field_southwest"
      }
      
      "TrackingProjectile"
      {
        "Target"
        {
          "Center"                "CASTER"
          "Radius"              "%radius"
          "Teams"               "DOTA_UNIT_TARGET_TEAM_ENEMY"
          "Types"               "DOTA_UNIT_TARGET_HERO | DOTA_UNIT_TARGET_BASIC"
        }

        "EffectName"              "particles/units/heroes/hero_crystalmaiden/maiden_frostbite.vpcf"
        "MoveSpeed"               "2000"
      }
    
      "Stun"
      {
        "Target"
        {
          "Center"                "CASTER"
          "Radius"              "%radius"
          "Teams"               "DOTA_UNIT_TARGET_TEAM_ENEMY"
          "Types"               "DOTA_UNIT_TARGET_HERO | DOTA_UNIT_TARGET_BASIC"
        }

        "Duration"                "%stun_duration"
      }
      
      "ApplyModifier"
      {
        "Target"
        {
          "Center"                "CASTER"
          "Radius"              "%radius"
          "Teams"               "DOTA_UNIT_TARGET_TEAM_ENEMY"
          "Types"               "DOTA_UNIT_TARGET_HERO | DOTA_UNIT_TARGET_BASIC"
        }

        "ModifierName"              "modifier_imba_frostbite_root"
        "Duration"                "%frostbite_duration"
      }
    }
    
    "OnChannelFinish"
    { 
      "RunScript"
      {
        "ScriptFile"              "hero/hero_crystal_maiden.lua"
        "Function"                "FreezingFieldEnd"

        "modifier_aura"             "modifier_imba_freezing_field_caster"
        "modifier_NE"             "modifier_imba_freezing_field_northeast"
        "modifier_NW"             "modifier_imba_freezing_field_northwest"
        "modifier_SW"             "modifier_imba_freezing_field_southwest"
        "modifier_SE"             "modifier_imba_freezing_field_southeast"
      }
    }
    
    "Modifiers"
    { 
      "modifier_imba_freezing_field_scepter_check"
      {
        "Passive"               "1"
        "IsHidden"                "1"
        "IsPurgable"              "0"

        "ThinkInterval"             "0.1"

        "OnIntervalThink"
        {
          "RunScript"
          {
            "ScriptFile"          "hero/hero_crystal_maiden.lua"
            "Function"            "ScepterCheck"

            "modifier"            "modifier_imba_freezing_field_scepter_check"
            "skill_name"          "imba_crystal_maiden_freezing_field"
            "scepter_skill_name"      "imba_crystal_maiden_freezing_field_scepter"
          }
        }

        "OnCreated"
        {
          "RunScript"
          {
            "ScriptFile"          "internal/util.lua"
            "Function"            "IllusionPassiveRemover"

            "modifier"            "modifier_imba_freezing_field_scepter_check"
          }
        }
      }

      "modifier_imba_freezing_field_caster"
      {
        "IsHidden"                "1"
        "OverrideAnimation"           "ACT_DOTA_CHANNEL_ABILITY_4"
        
        "Aura"                  "modifier_imba_freezing_field_debuff"
        "Aura_Radius"             "%radius"
        "Aura_Teams"              "DOTA_UNIT_TARGET_TEAM_ENEMY"
        "Aura_Types"              "DOTA_UNIT_TARGET_HERO | DOTA_UNIT_TARGET_BASIC"
        "Aura_Flags"              "DOTA_UNIT_TARGET_FLAG_MAGIC_IMMUNE_ENEMIES"
        
        "Duration"                "%AbilityDuration"
        
        "OnCreated"
        {
          "AttachEffect"
          {
            "Target"            "CASTER"
            "EffectName"          "particles/units/heroes/hero_crystalmaiden/maiden_freezing_field_snow.vpcf"
            "EffectAttachType"        "follow_origin"
            "EffectRadius"          "%radius"
          }
        }
      }
      
      "modifier_imba_freezing_field_northwest"
      {
        "IsHidden"                "1"
        "ThinkInterval"             "%explosion_interval * 4"
        
        "Duration"                "%AbilityDuration"
        
        "OnIntervalThink"
        {
          "RunScript"
          {
            "ScriptFile"          "hero/hero_crystal_maiden.lua"
            "Function"            "FreezingFieldExplode"
            "section"           "0"
          }
        }
      }
      
      "modifier_imba_freezing_field_northeast"
      {
        "IsHidden"                "1"
        "ThinkInterval"             "%explosion_interval * 4"
        
        "Duration"                "%AbilityDuration"
        
        "OnIntervalThink"
        {
          "RunScript"
          {
            "ScriptFile"          "hero/hero_crystal_maiden.lua"
            "Function"            "FreezingFieldExplode"
            "section"           "1"
          }
        }
      }
      
      "modifier_imba_freezing_field_southeast"
      {
        "IsHidden"                "1"
        "ThinkInterval"             "%explosion_interval * 4"
        
        "Duration"                "%AbilityDuration"
        
        "OnIntervalThink"
        {
          "RunScript"
          {
            "ScriptFile"          "hero/hero_crystal_maiden.lua"
            "Function"            "FreezingFieldExplode"
            "section"           "2"
          }
        }
      }
      
      "modifier_imba_freezing_field_southwest"
      {
        "IsHidden"                "1"
        "ThinkInterval"             "%explosion_interval * 4"
        
        "Duration"                "%AbilityDuration"
        
        "OnIntervalThink"
        {
          "RunScript"
          {
            "ScriptFile"          "hero/hero_crystal_maiden.lua"
            "Function"            "FreezingFieldExplode"
            "section"           "3"
          }
        }
      }
      
      "modifier_imba_freezing_field_debuff"
      {
        "IsDebuff"                "1"
        "IsPurgable"              "1"
        "Duration"                "%slow_duration"
        
        "EffectName"              "particles/generic_gameplay/generic_slowed_cold.vpcf"
        "StatusEffectName"            "particles/status_fx/status_effect_frost_lich.vpcf"
        "StatusEffectPriority"          "10"
        
        "Properties"
        {
          "MODIFIER_PROPERTY_ATTACKSPEED_BONUS_CONSTANT"  "%attack_slow"
          "MODIFIER_PROPERTY_MOVESPEED_BONUS_PERCENTAGE"  "%movespeed_slow"
        }
      }

      "modifier_imba_frostbite_root"
      {
        "IsPurgable"              "1"
        "IsDebuff"                "1"
        "TextureName"             "crystal_maiden_frostbite"
      
        "EffectName"              "particles/units/heroes/hero_crystalmaiden/maiden_frostbite_buff.vpcf"
      
        "States"
        {
          "MODIFIER_STATE_ROOTED"       "MODIFIER_STATE_VALUE_ENABLED"
          "MODIFIER_STATE_INVISIBLE"      "MODIFIER_STATE_VALUE_DISABLED"
          "MODIFIER_STATE_DISARMED"     "MODIFIER_STATE_VALUE_ENABLED"
        }
      }
    }
  }

  //=================================================================================================================
  // Crystal Maiden's Freezing Field (Scepter version)
  //=================================================================================================================
  "imba_crystal_maiden_freezing_field_scepter"
  {
    // General
    //-------------------------------------------------------------------------------------------------------------
    "BaseClass"                   "ability_datadriven"
    "AbilityType"                 "DOTA_ABILITY_TYPE_ULTIMATE"
    "AbilityBehavior"               "DOTA_ABILITY_BEHAVIOR_POINT | DOTA_ABILITY_BEHAVIOR_AOE | DOTA_ABILITY_BEHAVIOR_CHANNELLED"
    "AbilityUnitDamageType"             "DAMAGE_TYPE_MAGICAL" 
    "SpellImmunityType"               "SPELL_IMMUNITY_ENEMIES_NO"
    "FightRecapLevel"               "2"
    "AbilityTextureName"              "crystal_maiden_freezing_field"

    // Casting
    //-------------------------------------------------------------------------------------------------------------
    "AbilityCastRange"                "1200"
    "AbilityChannelTime"              "10.0"
    "AbilityCastPoint"                "0.2"
    "AOERadius"                   "%radius"
    
    // Time   
    //-------------------------------------------------------------------------------------------------------------
    "AbilityCooldown"               "90"
    "AbilityDuration"               "10.0"

    // Cost
    //-------------------------------------------------------------------------------------------------------------
    "AbilityManaCost"               "200 400 600"

    // Stats
    //-------------------------------------------------------------------------------------------------------------
    "AbilityModifierSupportValue"         "0.35"  // Primarily about the damage

    // Special
    //-------------------------------------------------------------------------------------------------------------
    "AbilitySpecial"
    {
      "01"
      {
        "var_type"                "FIELD_INTEGER"
        "radius"                "1000"
      }
    
      "02"
      {
        "var_type"                "FIELD_INTEGER"
        "explosion_radius"            "300 325 350"
      }
      "04"
      {
        "var_type"                "FIELD_FLOAT"
        "explosion_interval"          "0.1"
      }
      "05"
      {
        "var_type"                "FIELD_INTEGER"
        "movespeed_slow"            "-30 -40 -50"
      }
      "06"
      {
        "var_type"                "FIELD_INTEGER"
        "attack_slow"             "-40 -60 -80"
      }
      "07"
      {
        "var_type"                "FIELD_FLOAT"
        "slow_duration"             "1.0"
      }
      "08"
      {
        "var_type"                "FIELD_INTEGER"
        "explosion_min_dist"          "200"
      }
      "09"
      {
        "var_type"                "FIELD_INTEGER"
        "explosion_max_dist"          "800"
      }
      "10"
      {
        "var_type"                "FIELD_INTEGER"
        "damage"                "110 180 250"
      }
      "11"
      {
        "var_type"                "FIELD_INTEGER"
        "damage_scepter"            "180 250 320"
      }
      "12"
      {
        "var_type"                "FIELD_INTEGER"
        "movespeed_slow_scepter"        "-60"
      }
      "13"
      {
        "var_type"                "FIELD_INTEGER"
        "attack_slow_scepter"         "-100"
      }
      "14"
      {
        "var_type"                "FIELD_FLOAT"
        "frostbite_duration"          "1.0 1.4 1.8"
      }
      "15"
      {
        "var_type"                "FIELD_FLOAT"
        "stun_duration"             "0.1"
      }
    }
    
    // Data driven
    //-------------------------------------------------------------------------------------------------------------
    "precache"
    {
      "soundfile"                 "soundevents/game_sounds_heroes/game_sounds_crystalmaiden.vsndevts"
      "particle"                  "particles/units/heroes/hero_crystalmaiden/maiden_freezing_field_snow.vpcf"
      "particle"                  "particles/units/heroes/hero_crystalmaiden/maiden_freezing_field_explosion.vpcf"
      "particle"                  "particles/generic_gameplay/generic_slowed_cold.vpcf"
      "particle"                  "particles/status_fx/status_effect_frost_lich.vpcf"
      "particle"                  "particles/units/heroes/hero_crystalmaiden/maiden_frostbite_buff.vpcf"
    }
    
    "OnSpellStart"
    {
      "RunScript"
      {
        "ScriptFile"              "hero/hero_crystal_maiden.lua"
        "Function"                "FreezingFieldCast"
        "Target"                "POINT"

        "modifier_aura"             "modifier_imba_freezing_field_aura"
        "modifier_sector_0"           "modifier_imba_freezing_field_northwest"
        "modifier_sector_1"           "modifier_imba_freezing_field_northeast"
        "modifier_sector_2"           "modifier_imba_freezing_field_southeast"
        "modifier_sector_3"           "modifier_imba_freezing_field_southwest"
      }
      
      "TrackingProjectile"
      {
        "Target"
        {
          "Center"                "POINT"
          "Radius"              "%radius"
          "Teams"               "DOTA_UNIT_TARGET_TEAM_ENEMY"
          "Types"               "DOTA_UNIT_TARGET_HERO | DOTA_UNIT_TARGET_BASIC"
        }

        "EffectName"              "particles/units/heroes/hero_crystalmaiden/maiden_frostbite.vpcf"
        "MoveSpeed"               "2000"
      }
    
      "Stun"
      {
        "Target"
        {
          "Center"                "POINT"
          "Radius"              "%radius"
          "Teams"               "DOTA_UNIT_TARGET_TEAM_ENEMY"
          "Types"               "DOTA_UNIT_TARGET_HERO | DOTA_UNIT_TARGET_BASIC"
        }

        "Duration"                "%stun_duration"
      }
      
      "ApplyModifier"
      {
        "Target"
        {
          "Center"                "POINT"
          "Radius"              "%radius"
          "Teams"               "DOTA_UNIT_TARGET_TEAM_ENEMY"
          "Types"               "DOTA_UNIT_TARGET_HERO | DOTA_UNIT_TARGET_BASIC"
        }

        "ModifierName"              "modifier_imba_frostbite_root"
        "Duration"                "%frostbite_duration"
      }
    }
    
    "OnChannelFinish"
    { 
      "RunScript"
      {
        "ScriptFile"              "hero/hero_crystal_maiden.lua"
        "Function"                "FreezingFieldEnd"

        "modifier_aura"             "modifier_imba_freezing_field_aura"
        "modifier_caster"           "modifier_imba_freezing_field_caster"
        "modifier_NE"             "modifier_imba_freezing_field_northeast"
        "modifier_NW"             "modifier_imba_freezing_field_northwest"
        "modifier_SW"             "modifier_imba_freezing_field_southwest"
        "modifier_SE"             "modifier_imba_freezing_field_southeast"
      }
    }
    
    "Modifiers"
    {
      "modifier_imba_freezing_field_scepter_check"
      {
        "Passive"               "1"
        "IsHidden"                "1"
        "IsPurgable"              "0"

        "ThinkInterval"             "0.1"

        "OnIntervalThink"
        {
          "RunScript"
          {
            "ScriptFile"          "hero/hero_crystal_maiden.lua"
            "Function"            "ScepterLostCheck"

            "modifier"            "modifier_imba_freezing_field_scepter_check"
            "skill_name"          "imba_crystal_maiden_freezing_field"
            "scepter_skill_name"      "imba_crystal_maiden_freezing_field_scepter"
          }
        }

        "OnCreated"
        {
          "RunScript"
          {
            "ScriptFile"          "internal/util.lua"
            "Function"            "IllusionPassiveRemover"

            "modifier"            "modifier_imba_freezing_field_scepter_check"
          }
        }
      }

      "modifier_imba_freezing_field_caster"
      {
        "IsHidden"                "1"
        "OverrideAnimation"           "ACT_DOTA_CHANNEL_ABILITY_4"

        "Duration"                "%AbilityDuration"
      }

      "modifier_imba_freezing_field_aura"
      {
        "IsHidden"                "1"

        "Aura"                  "modifier_imba_freezing_field_debuff"
        "Aura_Radius"             "%radius"
        "Aura_Teams"              "DOTA_UNIT_TARGET_TEAM_ENEMY"
        "Aura_Types"              "DOTA_UNIT_TARGET_HERO | DOTA_UNIT_TARGET_BASIC"
        "Aura_Flags"              "DOTA_UNIT_TARGET_FLAG_MAGIC_IMMUNE_ENEMIES"
        
        "Duration"                "%AbilityDuration"
      }
      
      "modifier_imba_freezing_field_northwest"
      {
        "IsHidden"                "1"
        "ThinkInterval"             "%explosion_interval * 4"
        
        "Duration"                "%AbilityDuration"
        
        "OnIntervalThink"
        {
          "RunScript"
          {
            "ScriptFile"          "hero/hero_crystal_maiden.lua"
            "Function"            "FreezingFieldExplode"
            "section"           "0"
          }
        }
      }
      
      "modifier_imba_freezing_field_northeast"
      {
        "IsHidden"                "1"
        "ThinkInterval"             "%explosion_interval * 4"
        
        "Duration"                "%AbilityDuration"
        
        "OnIntervalThink"
        {
          "RunScript"
          {
            "ScriptFile"          "hero/hero_crystal_maiden.lua"
            "Function"            "FreezingFieldExplode"
            "section"           "1"
          }
        }
      }
      
      "modifier_imba_freezing_field_southeast"
      {
        "IsHidden"                "1"
        "ThinkInterval"             "%explosion_interval * 4"
        
        "Duration"                "%AbilityDuration"
        
        "OnIntervalThink"
        {
          "RunScript"
          {
            "ScriptFile"          "hero/hero_crystal_maiden.lua"
            "Function"            "FreezingFieldExplode"
            "section"           "2"
          }
        }
      }
      
      "modifier_imba_freezing_field_southwest"
      {
        "IsHidden"                "1"
        "ThinkInterval"             "%explosion_interval * 4"
        
        "Duration"                "%AbilityDuration"
        
        "OnIntervalThink"
        {
          "RunScript"
          {
            "ScriptFile"          "hero/hero_crystal_maiden.lua"
            "Function"            "FreezingFieldExplode"
            "section"           "3"
          }
        }
      }
      
      "modifier_imba_freezing_field_debuff"
      {
        "IsDebuff"                "1"
        "IsPurgable"              "1"
        "Duration"                "%slow_duration"
        
        "EffectName"              "particles/generic_gameplay/generic_slowed_cold.vpcf"
        "StatusEffectName"            "particles/status_fx/status_effect_frost_lich.vpcf"
        "StatusEffectPriority"          "10"
        
        "Properties"
        {
          "MODIFIER_PROPERTY_ATTACKSPEED_BONUS_CONSTANT"  "%attack_slow_scepter"
          "MODIFIER_PROPERTY_MOVESPEED_BONUS_PERCENTAGE"  "%movespeed_slow_scepter"
        }
      }

      "modifier_imba_frostbite_root"
      {
        "IsPurgable"              "1"
        "IsDebuff"                "1"
        "TextureName"             "crystal_maiden_frostbite"
      
        "EffectName"              "particles/units/heroes/hero_crystalmaiden/maiden_frostbite_buff.vpcf"
      
        "States"
        {
          "MODIFIER_STATE_ROOTED"       "MODIFIER_STATE_VALUE_ENABLED"
          "MODIFIER_STATE_INVISIBLE"      "MODIFIER_STATE_VALUE_DISABLED"
          "MODIFIER_STATE_DISARMED"     "MODIFIER_STATE_VALUE_ENABLED"
        }
      }
    }
  }

  //=================================================================================================================
  // DAZZLE's Poison Touch
  //=================================================================================================================
  "imba_dazzle_poison_touch"
  {
    // General
    //-------------------------------------------------------------------------------------------------------------
    "BaseClass"                   "ability_datadriven"
    "AbilityBehavior"               "DOTA_ABILITY_BEHAVIOR_UNIT_TARGET"
    "AbilityUnitTargetTeam"             "DOTA_UNIT_TARGET_TEAM_ENEMY"
    "AbilityUnitTargetType"             "DOTA_UNIT_TARGET_HERO | DOTA_UNIT_TARGET_BASIC"
    "AbilityUnitDamageType"             "DAMAGE_TYPE_PHYSICAL"  
    "SpellImmunityType"               "SPELL_IMMUNITY_ENEMIES_NO"
    "FightRecapLevel"               "1"
    "AbilityTextureName"              "dazzle_poison_touch"

    // Precache
    //-------------------------------------------------------------------------------------------------------------
    "precache"
    {
      "soundfile"                 "soundevents/game_sounds_heroes/game_sounds_dazzle.vsndevts"
      "particle"                  "particles/units/heroes/hero_dazzle/dazzle_poison_touch.vpcf"
      "particle"                  "particles/units/heroes/hero_dazzle/dazzle_poison_debuff.vpcf"
      "particle"                  "particles/status_fx/status_effect_poison_dazzle.vpcf"
    }

    // Casting
    //-------------------------------------------------------------------------------------------------------------
    "AbilityCastRange"                "600"
    "AbilityCastPoint"                "0.2"
    
    // Time   
    //-------------------------------------------------------------------------------------------------------------
    "AbilityCooldown"               "13 11 9 7"

    // Cost
    //-------------------------------------------------------------------------------------------------------------
    "AbilityManaCost"               "100 110 120 130"

    // Special
    //-------------------------------------------------------------------------------------------------------------
    "AbilitySpecial"
    {
      "01"
      {
        "var_type"                "FIELD_INTEGER"
        "slow_duration"             "7"
      }
      "02"
      { 
        "var_type"                "FIELD_INTEGER"
        "initial_slow"              "-20"
      }
      "03"
      { 
        "var_type"                "FIELD_INTEGER"
        "slow_per_hit"              "-10"
      }
      "04"
      { 
        "var_type"                "FIELD_FLOAT"
        "stun_duration"             "0.4 0.6 0.8 1.0"
      }
      "05"
      { 
        "var_type"                "FIELD_INTEGER"
        "projectile_speed"            "1300"
      }
      "06"
      {
        "var_type"                "FIELD_INTEGER"
        "damage"                "20 30 40 50"
      }
      "07"
      {
        "var_type"                "FIELD_INTEGER"
        "stun_damage"             "40 60 80 100"
      }
      "08"
      {
        "var_type"                "FIELD_FLOAT"
        "tick_interval"             "1.0"
      }
      "09"
      { 
        "var_type"                "FIELD_INTEGER"
        "stacks_to_stun"            "8"
      }
    }

    "OnSpellStart"
    {
      "FireSound"
      {
        "EffectName"              "Hero_Dazzle.Poison_Cast"
        "Target"                "CASTER"
      }

      "TrackingProjectile"
      {
        "Target"                      "TARGET"
        "EffectName"              "particles/units/heroes/hero_dazzle/dazzle_poison_touch.vpcf"
        "Dodgeable"               "1"
        "ProvidesVision"            "0"
        "MoveSpeed"                   "%projectile_speed"
        "SourceAttachment"            "DOTA_PROJECTILE_ATTACHMENT_ATTACK_1"
      }
    }

    "OnProjectileHitUnit"
    {
      "DeleteOnHit"               "1"
      
      "FireSound"
      {
        "EffectName"              "Hero_Dazzle.Poison_Touch"
        "Target"                "TARGET"
      }

      "ApplyModifier"
      {
        "ModifierName"              "modifier_imba_poison_touch_base_slow"
        "Target"                "TARGET"
      }
    }

    "Modifiers"
    {
      "modifier_imba_poison_touch_base_slow"
      {
        "Passive"               "0"
        "IsDebuff"                "1"
        "IsHidden"                "0"
        "IsPurgable"              "1"

        "Duration"                "%slow_duration"

        "EffectName"              "particles/units/heroes/hero_dazzle/dazzle_poison_debuff.vpcf"
        "EffectAttachType"            "follow_origin"

        "ThinkInterval"             "%tick_interval"

        "OnIntervalThink"
        {
          "Damage"
          {
            "Target"            "TARGET"
            "Type"              "DAMAGE_TYPE_PHYSICAL"
            "Damage"            "%damage"
          }
        }

        "OnTakeDamage"
        {
          "RunScript"
          {
            "ScriptFile"          "hero/hero_dazzle.lua"
            "Function"            "PoisonTouch"
            "Target"            "TARGET"

            "modifier_slow_stack"     "modifier_imba_poison_touch_slow_stack"
            "modifier_stun"         "modifier_imba_poison_touch_stun"
          }
        }

        "OnDestroy"
        {
          "RunScript"
          {
            "ScriptFile"          "hero/hero_dazzle.lua"
            "Function"            "PoisonTouchEnd"
            "Target"            "TARGET"

            "modifier_slow_stack"     "modifier_imba_poison_touch_slow_stack"
          }
        }

        "Properties"
        {
          "MODIFIER_PROPERTY_MOVESPEED_BONUS_PERCENTAGE"    "%initial_slow"
          "MODIFIER_PROPERTY_MOVESPEED_ABSOLUTE"             "50"        
        }
      }

      "modifier_imba_poison_touch_slow_stack"
      {
        "Passive"               "0"
        "IsHidden"                "1"
        "IsDebuff"                "1"
        "IsPurgable"              "0"

        "StatusEffectName"            "particles/status_fx/status_effect_poison_dazzle.vpcf"
        "StatusEffectPriority"          "10"

        "Properties"
        {
            "MODIFIER_PROPERTY_MOVESPEED_BONUS_PERCENTAGE"    "%slow_per_hit" 
        }
      }

      "modifier_imba_poison_touch_stun"
      {
        "Passive"               "0"
        "IsHidden"                "1"
        "IsDebuff"                "1"
        "IsPurgable"              "0"

        "StatusEffectName"            "particles/status_fx/status_effect_poison_dazzle.vpcf"
        "StatusEffectPriority"          "10"

        "Duration"                "%stun_duration"

        "OnCreated"
        {
          "Damage"
          {
            "Target"            "TARGET"
            "Type"              "DAMAGE_TYPE_PHYSICAL"
            "Damage"            "%stun_damage"
          }
        }
      }
    }
  }

  //=================================================================================================================
  // DAZZLE's Shallow Grave 
  //=================================================================================================================
  "imba_dazzle_shallow_grave"
  {
    // General
    //-------------------------------------------------------------------------------------------------------------
    "BaseClass"                   "ability_datadriven"
    "AbilityBehavior"               "DOTA_ABILITY_BEHAVIOR_AOE | DOTA_ABILITY_BEHAVIOR_POINT"
    "SpellImmunityType"               "SPELL_IMMUNITY_ALLIES_YES"
    "FightRecapLevel"               "1"
    "AbilityTextureName"              "dazzle_shallow_grave"

    // Precache
    //-------------------------------------------------------------------------------------------------------------
    "precache"
    {
      "soundfile"                 "soundevents/game_sounds_heroes/game_sounds_dazzle.vsndevts"
      "particle"                  "particles/units/heroes/hero_dazzle/dazzle_shallow_grave.vpcf"
    }

    //aoe
    //-------------------------------------------------------------------------------------------------------------
    "AoERadius"               "%radius"

    // Casting
    //-------------------------------------------------------------------------------------------------------------
    "AbilityCastRange"                "550 700 850 1000"
    "AbilityCastPoint"                "0.2"
    
    // Time   
    //-------------------------------------------------------------------------------------------------------------
    "AbilityCooldown"               "45 35 25 15"

    // Cost
    //-------------------------------------------------------------------------------------------------------------
    "AbilityManaCost"               "110"
    
    // Special
    //-------------------------------------------------------------------------------------------------------------
    "AbilitySpecial"
    {
      "01"
      { 
        "var_type"                "FIELD_FLOAT"
        "duration_tooltip"            "5.0"
      }
      "02"
      { 
        "var_type"                "FIELD_INTEGER"
        "range_tooltip"             "600 800 1000 1200"
      }
      "03"
      {
        "var_type"                "FIELD_INTEGER"
        "min_health"              "1"
      }
      "04"
      {
        "var_type"                "FIELD_FLOAT"
        "passive_cooldown"            "120.0 100.0 80.0 60.0"
      }
      "05"
      {
        "var_type"                "FIELD_FLOAT"
        "passive_cooldown_scepter"        "30.0 25.0 20.0 15.0"
      }
      "06"
      {
        "var_type"                "FIELD_FLOAT"
        "radius"                  "300.0 450.0 600.0 750.0"
      }
    }

    "OnSpellStart"
    {
      "RunScript"
      {
        "ScriptFile"  "hero/hero_dazzle.lua"
        "Function"    "findfriends"

        "modifier_grave_aoe"      "modifier_imba_shallow_grave"
      }
    }

    "Modifiers"
    {
      "modifier_imba_shallow_grave_passive_check"
      {
        "Passive"               "1"
        "IsHidden"                "1"
        "IsBuff"                "1"
        "IsPurgable"              "0"

        "ThinkInterval"             "0.1"

        "OnIntervalThink"
        {
          "RunScript"
          {
            "ScriptFile"          "hero/hero_dazzle.lua"
            "Function"            "ShallowGravePassive"
            "Target"            "CASTER"

            "modifier_passive"        "modifier_imba_shallow_grave_passive"
            "modifier_cooldown"       "modifier_imba_shallow_grave_passive_cooldown"
          }
        }

        "OnCreated"
        {
          "RunScript"
          {
            "ScriptFile"          "internal/util.lua"
            "Function"            "IllusionPassiveRemover"

            "modifier"            "modifier_imba_shallow_grave_passive_check"
          }
        }
      }

      "modifier_imba_shallow_grave"
      {
        "Passive"               "0"
        "IsBuff"                "1"
        "IsHidden"                "0"
        "IsPurgable"              "0"
        "Duration"                "%duration_tooltip"

        "EffectName"              "particles/units/heroes/hero_dazzle/dazzle_shallow_grave.vpcf"
        "EffectAttachType"            "follow_origin"
    
        "Properties"
        {
          "MODIFIER_PROPERTY_MIN_HEALTH"    "%min_health" 
        }

        "OnCreated"
        {
          "FireSound"
          {
            "EffectName"          "Hero_Dazzle.Shallow_Grave"
            "Target"            "TARGET"
          }
        }

        "OnTakeDamage"
        {
          "RunScript"
          {
            "ScriptFile"          "hero/hero_dazzle.lua"
            "Function"            "ShallowGraveDamageStorage"
            "DamageTaken"         "%attack_damage"
          }
        }

        "OnDestroy"
        {
          "RunScript"
          {
            "ScriptFile"          "hero/hero_dazzle.lua"
            "Function"            "ShallowGraveHeal"
          }
        }
      }

      "modifier_imba_shallow_grave_passive"
      {
        "Passive"               "0"
        "IsBuff"                "1"
        "IsHidden"                "0"
        "IsPurgable"              "0"

        "TextureName"             "dazzle_nothl_protection"

        "Attributes"              "MODIFIER_ATTRIBUTE_IGNORE_INVULNERABLE"

        "OnTakeDamage"
        {
          "RunScript"
          {
            "ScriptFile"          "hero/hero_dazzle.lua"
            "Function"            "ShallowGraveDamageCheck"

            "modifier_grave"        "modifier_imba_shallow_grave"
            "modifier_passive"        "modifier_imba_shallow_grave_passive"
            "modifier_cooldown"       "modifier_imba_shallow_grave_passive_cooldown"
          }
        }

        "Properties"
        {
          "MODIFIER_PROPERTY_MIN_HEALTH"    "%min_health" 
        }
      }

      "modifier_imba_shallow_grave_passive_cooldown"
      {
        "IsHidden"                "0"
        "IsDebuff"                "1"
        "IsPurgable"              "0"
        "TextureName"             "dazzle_shallow_grave_cooldown"

        "Attributes"              "MODIFIER_ATTRIBUTE_PERMANENT"

        "OnDestroy"
        {
          "ApplyModifier"
          {
            "ModifierName"          "modifier_imba_shallow_grave_passive_check"
            "Target"            "CASTER"
          }
        }
      }
    }
  }

  //=================================================================================================================
  // DAZZLE's Shadow Wave
  //=================================================================================================================
  "imba_dazzle_shadow_wave"
  {
    // General
    //-------------------------------------------------------------------------------------------------------------
    "BaseClass"                   "ability_datadriven"
    "AbilityBehavior"               "DOTA_ABILITY_BEHAVIOR_UNIT_TARGET | DOTA_ABILITY_BEHAVIOR_DONT_RESUME_ATTACK"
    "AbilityUnitTargetTeam"             "DOTA_UNIT_TARGET_TEAM_FRIENDLY"
    "AbilityUnitTargetType"             "DOTA_UNIT_TARGET_HERO | DOTA_UNIT_TARGET_BASIC | DOTA_UNIT_TARGET_MECHANICAL"
    "AbilityUnitDamageType"             "DAMAGE_TYPE_PHYSICAL"  
    "SpellImmunityType"               "SPELL_IMMUNITY_ENEMIES_NO"
    "AbilityTextureName"              "dazzle_shadow_wave"

    // Precache
    //-------------------------------------------------------------------------------------------------------------
    "precache"
    {
      "soundfile"                 "soundevents/game_sounds_heroes/game_sounds_dazzle.vsndevts"
      "particle"                  "particles/units/heroes/hero_dazzle/dazzle_shadow_wave.vpcf"
      "particle"                  "particles/units/heroes/hero_dazzle/dazzle_shadow_wave_impact_damage.vpcf"
    }

    // Casting
    //-------------------------------------------------------------------------------------------------------------
    "AbilityCastRange"                "900"
    "AbilityCastPoint"                "0.2"
    
    // Time   
    //-------------------------------------------------------------------------------------------------------------
    "AbilityCooldown"               "12 10 8 6"

    // Cost
    //-------------------------------------------------------------------------------------------------------------
    "AbilityManaCost"               "80 90 100 110"
    
    // Damage.
    //-------------------------------------------------------------------------------------------------------------
    "AbilityDamage"                 "80 100 120 140"
      
    // Special
    //-------------------------------------------------------------------------------------------------------------
    "AbilitySpecial"
    {
      "01"
      {
        "var_type"                "FIELD_INTEGER"
        "bounce_radius"             "25000"
      }
      "02"
      { 
        "var_type"                "FIELD_INTEGER"
        "damage_radius"             "225"
      }
      "03"
      { 
        "var_type"                "FIELD_INTEGER"
        "max_targets"             "100"
      }
      "04"
      {
        "var_type"                "FIELD_INTEGER"
        "damage"                "80 100 120 140"
      }
      "05"
      {
        "var_type"                "FIELD_INTEGER"
        "armor_bonus"             "3 4 5 6"
      }
      "06"
      {
        "var_type"                "FIELD_FLOAT"
        "armor_reduction"           "-0.8 -1.2 -1.6 -2.0"
      }
      "07"
      {
        "var_type"                "FIELD_INTEGER"
        "duration"                "7"
      }
    }

    "OnSpellStart"
    {
      "FireSound"
      {
        "EffectName"              "Hero_Dazzle.Shadow_Wave"
        "Target"                "CASTER"
      }

      "FireEffect"
      {
        "EffectName"                  "particles/units/heroes/hero_dazzle/dazzle_shadow_wave.vpcf"
        "EffectAttachType"            "start_at_customorigin"
        
        "ControlPointEntities"
        {
          "CASTER"              "attach_attack1"
          "TARGET"              "follow_origin"
        }
      }

      "RunScript"
      {
        "ScriptFile"              "hero/hero_dazzle.lua"
        "Function"                "ShadowWave"

        "armor_bonus"             "modifier_imba_shadow_wave_armor_bonus"
        "armor_reduction"           "modifier_imba_shadow_wave_armor_reduction"
        "shadow_wave_particle"          "particles/units/heroes/hero_dazzle/dazzle_shadow_wave.vpcf"
        "damage_particle"           "particles/units/heroes/hero_dazzle/dazzle_shadow_wave_impact_damage.vpcf"
      }
    }

    "Modifiers"
    {
      "modifier_imba_shadow_wave_armor_bonus"
      {
        "IsHidden"                "0"
        "IsBuff"                "1"
        "IsPurgable"              "1"
        "Duration"                "%duration"


        "Properties"
        {
            "MODIFIER_PROPERTY_PHYSICAL_ARMOR_BONUS"  "%armor_bonus"
        }
      }

      "modifier_imba_shadow_wave_armor_reduction"
      {
        "IsHidden"                "0"
        "IsDebuff"                "1"
        "IsPurgable"              "1"
        "Duration"                "%duration"

        "Properties"
        {
          "MODIFIER_PROPERTY_PHYSICAL_ARMOR_BONUS"  "%armor_reduction"
        }
      }
    }
  }

  //=================================================================================================================
  // DAZZLE's Weave
  //=================================================================================================================
  "imba_dazzle_weave"
  {
    // General
    //-------------------------------------------------------------------------------------------------------------
    "BaseClass"                   "ability_datadriven"
    "AbilityBehavior"               "DOTA_ABILITY_BEHAVIOR_POINT | DOTA_ABILITY_BEHAVIOR_AOE"
    "AbilityType"                 "DOTA_ABILITY_TYPE_ULTIMATE"
    "SpellImmunityType"               "SPELL_IMMUNITY_ENEMIES_YES"
    "FightRecapLevel"               "2"
    "AbilityTextureName"              "dazzle_weave"
    "AOERadius"                   "%radius"

    // Precache
    //-------------------------------------------------------------------------------------------------------------
    "precache"
    {
      "soundfile"                 "soundevents/game_sounds_heroes/game_sounds_dazzle.vsndevts"
      "particle"                  "particles/units/heroes/hero_dazzle/dazzle_weave.vpcf"
      "particle"                  "particles/units/heroes/hero_dazzle/dazzle_armor_friend.vpcf"
      "particle"                  "particles/units/heroes/hero_dazzle/dazzle_armor_enemy.vpcf"
    }
    
    // Casting
    //-------------------------------------------------------------------------------------------------------------
    "AbilityCastRange"                "2000"
    "AbilityCastPoint"                "0.2"
    
    // Time   
    //-------------------------------------------------------------------------------------------------------------
    "AbilityCooldown"               "40"

    // Cost
    //-------------------------------------------------------------------------------------------------------------
    "AbilityManaCost"               "100"
    
    // Special
    //-------------------------------------------------------------------------------------------------------------
    "AbilitySpecial"
    {
      "01"
      {
        "var_type"                "FIELD_INTEGER"
        "radius"                "1075 1575 2075"
      }
      "02"
      { 
        "var_type"                "FIELD_INTEGER"
        "vision"                "800"
      }
      "03"
      { 
        "var_type"                "FIELD_FLOAT"
        "armor_per_second"            "0.75 1 1.25"
      }
      "04"
      { 
        "var_type"                "FIELD_FLOAT"
        "duration"                "24.0"
      }
      "05"
      { 
        "var_type"                "FIELD_FLOAT"
        "armor_per_second_scepter"        "1.25 1.5 1.75"
      }
      "06"
      { 
        "var_type"                "FIELD_FLOAT"
        "negative_armor_per_second"       "-0.75 -1 -1.25"
      }
      "07"
      { 
        "var_type"                "FIELD_FLOAT"
        "negative_armor_per_second_scepter"   "-1.25 -1.5 -1.75"
      }
      "08"
      { 
        "var_type"                "FIELD_FLOAT"
        "tick_interval"             "1.0"
      }
      "09"
      { 
        "var_type"                "FIELD_FLOAT"
        "vision_duration"           "8.0"
      }
      "10"
      { 
        "var_type"                "FIELD_FLOAT"
        "armor_bonus"             "4 7 10"
      }
      "11"
      { 
        "var_type"                "FIELD_FLOAT"
        "negative_armor"            "-4 -7 -10"
      }
    }

    "OnSpellStart"
    {
      "FireSound"
      {
        "EffectName"              "Hero_Dazzle.Weave"
        "Target"                "CASTER"
      }

      "FireEffect"
      {
        "EffectName"                  "particles/units/heroes/hero_dazzle/dazzle_weave.vpcf"
        "EffectAttachType"            "start_at_customorigin"
        "TargetPoint"                   "POINT"

        "ControlPoints"
        {
          "01"                "%radius 0 0"
        }
      }

      "RunScript"
      {
        "ScriptFile"              "hero/hero_dazzle.lua"
        "Function"                "WeaveVision"
        "Target"                "POINT"
      }

      "RunScript"
      {
        "ScriptFile"              "hero/hero_dazzle.lua"
        "Function"                "Weave"
        "Target"                "POINT"
      }
    }

    "Modifiers"
    {
      "modifier_imba_weave_friendly"
      {
        "Passive"               "0"
        "IsHidden"                "0"
        "IsBuff"                "1"
        "IsPurgable"              "0"
        "Duration"                "%duration"

    
        "OnCreated"
        {
          "RunScript"
          {
            "ScriptFile"          "hero/hero_dazzle.lua"
            "Function"            "WeaveParticle"

            "particle_name"         "particles/units/heroes/hero_dazzle/dazzle_armor_friend.vpcf"
            "modifier"            "modifier_imba_weave_friendly"
          }
        }

        "Attributes"              "MODIFIER_ATTRIBUTE_MULTIPLE"
    
        "ThinkInterval"             "%tick_interval"
        "OnIntervalThink"
        {
          "RunScript"
          {
            "ScriptFile"          "hero/hero_dazzle.lua"
            "Function"            "WeaveInterval"
          }
        }

        "OnDestroy"
        {
          "RunScript"
          {
            "ScriptFile"          "hero/hero_dazzle.lua"
            "Function"            "WeaveRemoveBuff"
            
            "modifier"            "modifier_imba_weave_positive"
            "modifier_scepter"        "modifier_imba_weave_positive_scepter"
          }

          "RunScript"
          {
            "ScriptFile"          "hero/hero_dazzle.lua"
            "Function"            "EndWeaveParticle"

            "modifier"            "modifier_imba_weave_friendly"
          }
        }

        "Properties"
        {
          "MODIFIER_PROPERTY_PHYSICAL_ARMOR_BONUS" "%armor_bonus" 
        }
      }

      "modifier_imba_weave_enemy"
      {
        "IsDebuff"                "1"
        "IsHidden"                "0"
        "IsPurgable"              "0"
        "Duration"                "%duration"

        "OnCreated"
        {
          "RunScript"
          {
            "ScriptFile"          "hero/hero_dazzle.lua"
            "Function"            "WeaveParticle"

            "particle_name"         "particles/units/heroes/hero_dazzle/dazzle_armor_enemy.vpcf"
            "modifier"            "modifier_imba_weave_enemy"
          }
        }

        "Attributes"              "MODIFIER_ATTRIBUTE_MULTIPLE"

        "ThinkInterval"             "%tick_interval"
        "OnIntervalThink"
        {
          "RunScript"
          {
            "ScriptFile"          "hero/hero_dazzle.lua"
            "Function"            "WeaveInterval"
          }
        }

        "OnDestroy"
        {
          "RunScript"
          {
            "ScriptFile"          "hero/hero_dazzle.lua"
            "Function"            "WeaveRemoveBuff"

            "modifier"            "modifier_imba_weave_negative"
            "modifier_scepter"        "modifier_imba_weave_negative_scepter"
          }

          "RunScript"
          {
            "ScriptFile"          "hero/hero_dazzle.lua"
            "Function"            "EndWeaveParticle"
            "modifier"            "modifier_imba_weave_enemy"
          }
        }

        "Properties"
        {
          "MODIFIER_PROPERTY_PHYSICAL_ARMOR_BONUS" "%negative_armor" 
        }
      }

      "modifier_imba_weave_positive"
      {
        "IsHidden"                "1"
        "IsPurgable"              "0"

        "Attributes"              "MODIFIER_ATTRIBUTE_MULTIPLE"

        "Properties"
        {
          "MODIFIER_PROPERTY_PHYSICAL_ARMOR_BONUS" "%armor_per_second" 
        }
      }

      "modifier_imba_weave_positive_scepter"
      {
        "IsHidden"                "1"
        "IsPurgable"              "0"

        "Attributes"              "MODIFIER_ATTRIBUTE_MULTIPLE"

        "Properties"
        {
          "MODIFIER_PROPERTY_PHYSICAL_ARMOR_BONUS" "%armor_per_second_scepter" 
        }
      }

      "modifier_imba_weave_negative"
      {
        "IsHidden"                "1"
        "IsPurgable"              "0"

        "Attributes"              "MODIFIER_ATTRIBUTE_MULTIPLE"

        "Properties"
        {
          "MODIFIER_PROPERTY_PHYSICAL_ARMOR_BONUS" "%negative_armor_per_second" 
        }
      }

      "modifier_imba_weave_negative_scepter"
      {
        "IsHidden"                "1"
        "IsPurgable"              "0"

        "Attributes"              "MODIFIER_ATTRIBUTE_MULTIPLE"

        "Properties"
        {
          "MODIFIER_PROPERTY_PHYSICAL_ARMOR_BONUS" "%negative_armor_per_second_scepter" 
        }
      }
    }
  }

  // Rewrite of the Drow Ranger Frost Arrows
  // Author: kritth
  // Date: 03.01.2015.
  "imba_drow_ranger_frost_arrows"
  {
    // General
    //-------------------------------------------------------------------------------------------------------------
    "BaseClass"           "ability_datadriven"
    "AbilityBehavior"       "DOTA_ABILITY_BEHAVIOR_UNIT_TARGET | DOTA_ABILITY_BEHAVIOR_AUTOCAST | DOTA_ABILITY_BEHAVIOR_ATTACK"
    "AbilityUnitTargetTeam"     "DOTA_UNIT_TARGET_TEAM_ENEMY"
    "AbilityUnitTargetType"     "DOTA_UNIT_TARGET_HERO | DOTA_UNIT_TARGET_BASIC | DOTA_UNIT_TARGET_MECHANICAL"
    "SpellImmunityType"       "SPELL_IMMUNITY_ENEMIES_NO"
    "AbilityTextureName"      "drow_ranger_frost_arrows"
  
    // Casting
    //-------------------------------------------------------------------------------------------------------------
    "AbilityCastRange"        "625"
    "AbilityCastPoint"        "0.0 0.0 0.0 0.0"
  
    // Time   
    //-------------------------------------------------------------------------------------------------------------
    "AbilityCooldown"       "0.0 0.0 0.0 0.0"
    "AbilityDuration"       "1.5 1.5 1.5 1.5"
  
    // Damage.
    //-------------------------------------------------------------------------------------------------------------
    "AbilityDamage"         "0 0 0 0"
  
    // Cost
    //-------------------------------------------------------------------------------------------------------------
    "AbilityManaCost"       "0 0 0 0"
  
    // Special
    //-------------------------------------------------------------------------------------------------------------
    "AbilitySpecial"
    {
      "01"
      {
        "var_type"            "FIELD_INTEGER"
        "frost_arrows_movement_speed" "-20 -35 -50 -65"
      }
      "02"
      {
        "var_type"            "FIELD_FLOAT"
        "frost_arrows_hero_duration_tooltip"  "1.5"
      }
      "03"
      {
        "var_type"            "FIELD_FLOAT"
        "frost_arrows_creep_duration" "7.0"
      }
    }
    
    // Data driven
    //-------------------------------------------------------------------------------------------------------------
    "precache"
    {
      "soundfile"       "soundevents/game_sounds_heroes/game_sounds_drowranger.vsndevts"
      "particle"        "particles/units/heroes/hero_drow/drow_frost_arrow.vpcf"
      "particle"        "particles/generic_gameplay/generic_slowed_cold.vpcf"
    }
    
    "Modifiers"
    {
      "modifier_frost_arrows_caster_datadriven"
      {
        "Passive"                   "1"
        "IsHidden"            "1"
        "IsPurgable"          "0"
        
        "Orb"
        {
          "Priority"          "DOTA_ORB_PRIORITY_ABILITY"
          "ProjectileName"      "particles/units/heroes/hero_drow/drow_frost_arrow.vpcf"
          "CastAttack"        "1"
        }
  
        "OnOrbFire"
        {
          "SpendMana"
          {
            "Mana"          "%AbilityManaCost"
          }
          "FireSound"
          {
            "EffectName"      "Hero_DrowRanger.FrostArrows"
            "Target"        "CASTER"
          }
        }
  
        "OnOrbImpact"
        {
          "ApplyModifier"
          {
            "Target"
            {
              "Center"      "TARGET"
              "Type"        "DOTA_UNIT_TARGET_BASIC"
            }
            "ModifierName"      "modifier_frost_arrows_slow_datadriven"
            "Duration"        "%frost_arrows_creep_duration"
          }
          
          "ApplyModifier"
          {
            "Target"
            {
              "Center"      "TARGET"
              "Type"        "DOTA_UNIT_TARGET_HERO"
            }
            "ModifierName"      "modifier_frost_arrows_slow_datadriven"
            "Duration"        "%frost_arrows_hero_duration"
          }
        }
      }
      
      "modifier_frost_arrows_slow_datadriven"
      {
        "IsHidden"            "0"
      
        "EffectName"          "particles/generic_gameplay/generic_slowed_cold.vpcf"
      
        "Properties"
        {
          "MODIFIER_PROPERTY_MOVESPEED_BONUS_PERCENTAGE"  "%frost_arrows_movement_speed"
        }
      }
    }
  }
  // Rewrite of the Drow Ranger Markshmanship
  // Author: kritth
  // Date: 03.01.2015.
  "imba_drow_ranger_marksmanship"
  {
    // General
    //-------------------------------------------------------------------------------------------------------------
    "BaseClass"       "ability_datadriven"
    "AbilityBehavior"       "DOTA_ABILITY_BEHAVIOR_PASSIVE"
    "AbilityType"         "DOTA_ABILITY_TYPE_ULTIMATE"
    "AbilityTextureName"      "drow_ranger_marksmanship"
  
    // Special
    //-------------------------------------------------------------------------------------------------------------
    "AbilitySpecial"
    {
      "01"
      {
        "var_type"            "FIELD_INTEGER"
        "marksmanship_agility_bonus"  "50 70 90"
      }
      "02"
      {
        "var_type"            "FIELD_INTEGER"
        "radius"            "200"
      }
      // Extra variables
      "03"
      {
        "var_type"            "FIELD_FLOAT"
        "think_interval"        "0.1"
      }
    }
    
    // Data driven
    //-------------------------------------------------------------------------------------------------------------
    "precache"
    {
      "particle"              "particles/units/heroes/hero_drow/drow_marksmanship.vpcf"
      "particle"              "particles/units/heroes/hero_drow/drow_marksmanship_start.vpcf"
    }
    
    "Modifiers"
    {
      "modifier_marksmanship_passive_datadriven"
      {
        "Passive"             "1"
        "IsHidden"            "1"
        "IsPurgable"          "0"
      
        "ThinkInterval"         "%think_interval"
        "OnIntervalThink"
        {
          "RunScript"
          {
            "ScriptFile"      "hero/hero_drow_ranger.lua"
            "Function"        "marksmanship_detection"
          }
        }
      }
      
      "modifier_marksmanship_effect_datadriven"
      {
        "IsPurgable"          "0"
        
        "OnCreated"
        {
          "FireEffect"
          {
            "Target"        "CASTER"
            "EffectName"      "particles/units/heroes/hero_drow/drow_marksmanship_start.vpcf"
            "EffectAttachType"    "start_at_customorigin"
            "ControlPointEntities"
            {
              "CASTER"      "attach_attack1"
            }
          }
        
          "AttachEffect"
          {
            "Target"        "CASTER"
            "EffectName"      "particles/units/heroes/hero_drow/drow_marksmanship.vpcf"
            "EffectAttachType"    "follow_origin"
            "ControlPoints"
            {
              "02"        "150 150 150"
            }
          }
        }
        
        "Properties"
        {
          "MODIFIER_PROPERTY_STATS_AGILITY_BONUS"   "%marksmanship_agility_bonus"
        }
      }
    }
  }
  // Rewrite of the Drow Ranger Trueshot aura
  // Author: kritth, Pizzalol
  // Date: 27.09.2015.
  "imba_drow_ranger_trueshot"
  {
    // General
    //-------------------------------------------------------------------------------------------------------------
    "BaseClass"       "ability_datadriven"
    "AbilityBehavior"       "DOTA_ABILITY_BEHAVIOR_NO_TARGET | DOTA_ABILITY_BEHAVIOR_IMMEDIATE"
    "AbilityUnitTargetTeam"     "DOTA_UNIT_TARGET_TEAM_FRIENDLY"
    "AbilityTextureName"      "drow_ranger_trueshot"
  
    // Casting
    //-------------------------------------------------------------------------------------------------------------
    "AbilityCastRange"        "0"
    "AbilityCastPoint"        "0 0 0 0"
  
    // Time   
    //-------------------------------------------------------------------------------------------------------------
    "AbilityCooldown"       "120"
    "AbilityDuration"       "5.0"
  
    // Special
    //-------------------------------------------------------------------------------------------------------------
    "AbilitySpecial"
    {
      "01"
      {
        "var_type"          "FIELD_FLOAT"
        "trueshot_ranged_damage"  "25 50 75 100"
      }
      
      // extra variable
      "02"
      {
        "var_type"          "FIELD_INTEGER"
        "global_radius"       "9000"
      }
    }
    
    // Data driven
    //-------------------------------------------------------------------------------------------------------------
    "OnSpellStart"
    {
      "ApplyModifier"
      {
        "Target"        "CASTER"
        "ModifierName"      "modifier_trueshot_aura_creep_datadriven"
        "Duration"        "%AbilityDuration"
      }
    }
    
    "Modifiers"
    {
      "modifier_trueshot_aura_datadriven"
      {
        "Passive"       "1"
        "IsPurgable"      "0"
        "IsHidden"        "1"
        
        "Aura"          "modifier_trueshot_effect_datadriven"
        "Aura_Radius"     "%global_radius"
        "Aura_Teams"      "DOTA_UNIT_TARGET_TEAM_FRIENDLY"
        "Aura_Types"      "DOTA_UNIT_TARGET_HERO"
        "Aura_Flags"      "DOTA_UNIT_TARGET_FLAG_RANGED_ONLY"
      }
      
      "modifier_trueshot_aura_creep_datadriven"
      {
        "IsPurgable"      "0"
        "IsHidden"        "0"
        
        "Aura"          "modifier_trueshot_effect_datadriven"
        "Aura_Radius"     "%global_radius"
        "Aura_Teams"      "DOTA_UNIT_TARGET_TEAM_FRIENDLY"
        "Aura_Types"      "DOTA_UNIT_TARGET_BASIC"
        "Aura_Flags"      "DOTA_UNIT_TARGET_FLAG_RANGED_ONLY"
      }
      
      "modifier_trueshot_effect_datadriven"
      {
        "IsPurgable"      "0"
        "IsHidden"        "0"
        
        "OnCreated"
        {
          "RunScript"
          {
            "ScriptFile"  "hero/hero_drow_ranger.lua"
            "Function"    "trueshot_initialize"
            "trueshot_modifier" "modifier_trueshot_effect_datadriven"
            "trueshot_damage_modifier"  "modifier_trueshot_damage_datadriven"
          }
        }
  
        "ThinkInterval"  "0.25"
        "OnIntervalThink"
        {
          "RunScript"
          {
            "ScriptFile"  "hero/hero_drow_ranger.lua"
            "Function"    "trueshot_initialize"
            "trueshot_modifier" "modifier_trueshot_effect_datadriven"
            "trueshot_damage_modifier"  "modifier_trueshot_damage_datadriven"
          }
        }
  
        "OnDestroy"
        {
          "RemoveModifier"
          {
            "ModifierName"  "modifier_trueshot_damage_datadriven"
            "Target"
            {
              "Center"  "TARGET"
              "Flags"     "DOTA_UNIT_TARGET_FLAG_DEAD | DOTA_UNIT_TARGET_FLAG_INVULNERABLE | DOTA_UNIT_TARGET_FLAG_OUT_OF_WORLD"
            }
          }
        }
      }
    
      "modifier_trueshot_damage_datadriven"
      {
        "IsPurgable"      "0"
        "IsHidden"        "1"
  
        "Properties"
        {
          "MODIFIER_PROPERTY_PREATTACK_BONUS_DAMAGE"  "2"
        }
      }
    }
  }
  // Rewrite of the Drow Ranger Wave of silence
  // Author: kritth
  // Date: 03.01.2015.
  "imba_drow_ranger_gust"
  {
    // General
    //-------------------------------------------------------------------------------------------------------------
    "BaseClass"           "ability_datadriven"
    "AbilityBehavior"       "DOTA_ABILITY_BEHAVIOR_POINT"
    "SpellImmunityType"       "SPELL_IMMUNITY_ENEMIES_NO"
    "FightRecapLevel"       "1"
    "AbilityTextureName"      "drow_ranger_wave_of_silence"
    
    // Casting
    //-------------------------------------------------------------------------------------------------------------
    "AbilityCastRange"        "900"
    "AbilityCastPoint"        "0.4"
  
    // Time   
    //-------------------------------------------------------------------------------------------------------------
    "AbilityCooldown"       "13"
  
    // Cost
    //-------------------------------------------------------------------------------------------------------------
    "AbilityManaCost"       "90"
  
    // Special
    //-------------------------------------------------------------------------------------------------------------
    "AbilitySpecial"
    {
      "01"
      {
        "var_type"      "FIELD_FLOAT"
        "wave_speed"    "2000.0"
      }
      "02"
      {
        "var_type"      "FIELD_INTEGER"
        "wave_range_tooltip"  "900"
      }
      "03"
      {
        "var_type"      "FIELD_INTEGER"
        "wave_width"    "500"
      }
      "04"
      {
        "var_type"      "FIELD_FLOAT"
        "silence_duration"  "3 4 5 6"
      }
      "05"
      {
        "var_type"      "FIELD_FLOAT"
        "knockback_distance_max"  "850"
      }
      "06"
      {
        "var_type"      "FIELD_FLOAT"
        "knockback_duration"    "0.6 0.7 0.8 0.9"
      }
      "07"
      {
        "var_type"      "FIELD_INTEGER"
        "knockback_height"    "0"
      }
    }
    
    // Data driven
    //-------------------------------------------------------------------------------------------------------------
    "precache"
    {
      "soundfile"       "soundevents/game_sounds_heroes/game_sounds_drowranger.vsndevts"
      "particle"        "particles/units/heroes/hero_drow/drow_silence_wave.vpcf"
      "particle"        "particles/generic_gameplay/generic_silence.vpcf"
    }
    
    "OnSpellStart"
    {
      "LinearProjectile"
      {
        "Target"      "POINT"
        "EffectName"    "particles/units/heroes/hero_drow/drow_silence_wave.vpcf"
        "MoveSpeed"     "%wave_speed"
        "StartRadius"   "%wave_width"
        "StartPosition"   "attach_attack1"
        "EndRadius"     "%wave_width"
        "FixedDistance"   "%wave_range_tooltip"
        "TargetTeams"   "DOTA_UNIT_TARGET_TEAM_ENEMY"
        "TargetTypes"   "DOTA_UNIT_TARGET_BASIC | DOTA_UNIT_TARGET_HERO"
        "TargetFlags"   "DOTA_UNIT_TARGET_FLAG_NONE"
        "HasFrontalCone"  "0"
      }
      
      "FireSound"
      {
        "EffectName"    "Hero_DrowRanger.Silence"
        "Target"      "CASTER"
      }
    }
    
    "OnProjectileHitUnit"
    {
      "DeleteOnHit"     "0"
    
      "ApplyModifier"
      {
        "ModifierName"    "modifier_wave_of_silence_debuff_datadriven"
        "Target"      "TARGET"
      }
      
      "RunScript"
      {
        "ScriptFile"    "hero/hero_drow_ranger.lua"
        "Function"      "modifier_wave_of_silence_knockback"
        "height"      "%knockback_height"
        "duration"      "%knockback_duration"
        "distance"      "%knockback_distance_max"
        "range"       "%wave_range_tooltip"
      }
    }
    
    "Modifiers"
    {
      "modifier_wave_of_silence_debuff_datadriven"
      {
        "Duration"      "%silence_duration"
        
        "EffectName"      "particles/generic_gameplay/generic_silence.vpcf"
        "EffectAttachType"    "follow_overhead"
        
        "States"
        {
          "MODIFIER_STATE_SILENCED" "MODIFIER_STATE_VALUE_ENABLED"
        }
      }
    }
  }

  //=================================================================================================================
  // Jakiro's Fire Breath
  //=================================================================================================================
  "imba_jakiro_fire_breath"
  {
    // General
    //-------------------------------------------------------------------------------------------------------------
    "BaseClass"                   "ability_datadriven"
    "AbilityBehavior"             "DOTA_ABILITY_BEHAVIOR_POINT | DOTA_ABILITY_BEHAVIOR_UNIT_TARGET"
    "AbilityUnitTargetTeam"       "DOTA_UNIT_TARGET_TEAM_ENEMY"
    "AbilityUnitTargetType"       "DOTA_UNIT_TARGET_HERO | DOTA_UNIT_TARGET_BASIC | DOTA_UNIT_TARGET_MECHANICAL"
    "AbilityUnitDamageType"       "DAMAGE_TYPE_MAGICAL"
    "SpellImmunityType"           "SPELL_IMMUNITY_ENEMIES_NO"
    "FightRecapLevel"             "1"
    "AbilityTextureName"          "jakiro_fire_breath"  

    // Casting
    //-------------------------------------------------------------------------------------------------------------
    "AbilityCastRange"          "0"
    "AbilityCastPoint"          "0.15"
    "AbilityCastAnimation"        "ACT_DOTA_CAST_ABILITY_3"

    // Time   
    //-------------------------------------------------------------------------------------------------------------
    "AbilityCooldown"         "12.0"
    
    // Cost
    //-------------------------------------------------------------------------------------------------------------
    "AbilityManaCost"         "100 110 120 130"

    // Precache
    //-------------------------------------------------------------------------------------------------------------
    "precache"
    {
      "soundfile"           "soundevents/game_sounds_heroes/game_sounds_jakiro.vsndevts"
      "particle"            "particles/units/heroes/hero_jakiro/jakiro_dual_breath_fire.vpcf"
    }
    
    // Special  
    //-------------------------------------------------------------------------------------------------------------
    "AbilitySpecial"
    {
      "01"
      {
        "var_type"          "FIELD_INTEGER"
        "path_radius"       "450"
      }
      "02"
      {
        "var_type"          "FIELD_INTEGER"
        "spill_radius"        "525"
      }
      "03"
      {
        "var_type"          "FIELD_INTEGER"
        "speed"           "575 650 725 800"
      }
      "04"
      {
        "var_type"          "FIELD_INTEGER"
        "damage"          "30 40 50 60"
      }
      "05"
      {
        "var_type"          "FIELD_FLOAT"
        "damage_interval"     "0.5"
      }
      "06"
      {
        "var_type"          "FIELD_INTEGER"
        "turn_slow"         "-70"
      }
      "07"
      {
        "var_type"          "FIELD_INTEGER"
        "attack_slow"       "-30 -40 -50 -60"
      }
      "08"
      {
        "var_type"          "FIELD_INTEGER"
        "duration"          "5"
      }
      "09"
      {
        "var_type"          "FIELD_INTEGER"
        "range"           "1200 1300 1400 1500"
      }
    }

    "OnUpgrade"
    {
      "RunScript"
      {
        "ScriptFile"        "hero/hero_jakiro.lua"
        "Function"          "DualBreathUpgrade"

        "ability_other"       "imba_jakiro_ice_breath"
      }
    }
    
    "OnSpellStart"
    {
      "FireSound"
      {
        "EffectName"        "Hero_Jakiro.DualBreath"
        "Target"          "CASTER"
      }

      "ApplyModifier"
      {
        "ModifierName"        "modifier_imba_fire_breath_caster"
        "Target"          "CASTER"
      }
      
      "RunScript"
      {
        "ScriptFile"        "hero/hero_jakiro.lua"
        "Function"          "DualBreath"
        "Target"          "POINT"
        
        "ability_just_used"     "imba_jakiro_fire_breath"
        "ability_to_switch"     "imba_jakiro_ice_breath"
        "particle_breath"     "particles/units/heroes/hero_jakiro/jakiro_dual_breath_fire.vpcf"
        "modifier_caster"     "modifier_imba_fire_breath_caster"
        "modifier_breath"     "modifier_imba_fire_breath"
      }
    }
    
    "Modifiers"
    {
      "modifier_imba_fire_breath"
      {
        "IsHidden"          "0"
        "IsDebuff"          "1"
        "IsPurgable"        "1"

        "Duration"          "%duration"

        "ThinkInterval"       "%damage_interval"

        "OnIntervalThink"
        {
          "RunScript"
          {
            "ScriptFile"      "hero/hero_jakiro.lua"
            "Function"        "DualBreathDamage"

            "modifier_breath"   "modifier_imba_fire_breath"
            "modifier_macropyre"  "modifier_imba_macropyre"
            "modifier_macropyre_2"  "modifier_imba_macropyre_scepter"
          }
        }
        
        "Properties"
        {
          "MODIFIER_PROPERTY_TURN_RATE_PERCENTAGE"    "%turn_slow"
          "MODIFIER_PROPERTY_ATTACKSPEED_BONUS_CONSTANT"  "%attack_slow"
        }
      }

      "modifier_imba_fire_breath_caster"
      {
        "IsHidden"          "1"
        "IsBuff"          "1"
        "Passive"         "0"
        "IsPurgable"        "0"

        "States"
        {
          "MODIFIER_STATE_ROOTED"     "MODIFIER_STATE_VALUE_ENABLED"
        }
      }
    }
  }

  //=================================================================================================================
  // Jakiro's Ice Breath
  //=================================================================================================================
  "imba_jakiro_ice_breath"
  {
    // General
    //-------------------------------------------------------------------------------------------------------------
    "BaseClass"             "ability_datadriven"
    "AbilityBehavior"         "DOTA_ABILITY_BEHAVIOR_POINT | DOTA_ABILITY_BEHAVIOR_UNIT_TARGET | DOTA_ABILITY_BEHAVIOR_HIDDEN"
    "AbilityUnitTargetTeam"       "DOTA_UNIT_TARGET_TEAM_ENEMY"
    "AbilityUnitTargetType"       "DOTA_UNIT_TARGET_HERO | DOTA_UNIT_TARGET_BASIC | DOTA_UNIT_TARGET_MECHANICAL"
    "AbilityUnitDamageType"       "DAMAGE_TYPE_MAGICAL"
    "SpellImmunityType"         "SPELL_IMMUNITY_ENEMIES_NO"
    "FightRecapLevel"         "1"
    "AbilityTextureName"        "jakiro_ice_breath" 

    // Casting
    //-------------------------------------------------------------------------------------------------------------
    "AbilityCastRange"          "0"
    "AbilityCastPoint"          "0.15"
    "AbilityCastAnimation"        "ACT_DOTA_CAST_ABILITY_3"

    // Time   
    //-------------------------------------------------------------------------------------------------------------
    "AbilityCooldown"         "12.0"
    
    // Cost
    //-------------------------------------------------------------------------------------------------------------
    "AbilityManaCost"         "50"

    // Precache
    //-------------------------------------------------------------------------------------------------------------
    "precache"
    {
      "soundfile"           "soundevents/game_sounds_heroes/game_sounds_jakiro.vsndevts"
      "particle"            "particles/units/heroes/hero_jakiro/jakiro_dual_breath_ice.vpcf"
    }
    
    // Special  
    //-------------------------------------------------------------------------------------------------------------
    "AbilitySpecial"
    {
      "01"
      {
        "var_type"          "FIELD_INTEGER"
        "path_radius"       "450"
      }
      "02"
      {
        "var_type"          "FIELD_INTEGER"
        "spill_radius"        "525"
      }
      "03"
      {
        "var_type"          "FIELD_INTEGER"
        "speed"           "575 650 725 800"
      }
      "04"
      {
        "var_type"          "FIELD_INTEGER"
        "damage"          "20 30 40 50"
      }
      "05"
      {
        "var_type"          "FIELD_FLOAT"
        "damage_interval"     "0.5"
      }
      "06"
      {
        "var_type"          "FIELD_INTEGER"
        "move_slow"         "-25 -30 -35 -40"
      }
      "07"
      {
        "var_type"          "FIELD_INTEGER"
        "attack_slow"       "-20 -30 -40 -50"
      }
      "08"
      {
        "var_type"          "FIELD_INTEGER"
        "duration"          "5"
      }
      "09"
      {
        "var_type"          "FIELD_INTEGER"
        "range"           "1200 1300 1400 1500"
      }
    }

    "OnUpgrade"
    {
      "RunScript"
      {
        "ScriptFile"        "hero/hero_jakiro.lua"
        "Function"          "DualBreathUpgrade"

        "ability_other"       "imba_jakiro_fire_breath"
      }
    }
    
    "OnSpellStart"
    {
      "FireSound"
      {
        "EffectName"        "Hero_Jakiro.DualBreath"
        "Target"          "CASTER"
      }

      "ApplyModifier"
      {
        "ModifierName"        "modifier_imba_ice_breath_caster"
        "Target"          "CASTER"
      }
      
      "RunScript"
      {
        "ScriptFile"        "hero/hero_jakiro.lua"
        "Function"          "DualBreath"
        "Target"          "POINT"
        
        "ability_just_used"     "imba_jakiro_ice_breath"
        "ability_to_switch"     "imba_jakiro_fire_breath"
        "particle_breath"     "particles/units/heroes/hero_jakiro/jakiro_dual_breath_ice.vpcf"
        "modifier_caster"     "modifier_imba_ice_breath_caster"
        "modifier_breath"     "modifier_imba_ice_breath"
      }
    }
    
    "Modifiers"
    {
      "modifier_imba_ice_breath"
      {
        "IsHidden"          "0"
        "IsDebuff"          "1"
        "IsPurgable"        "1"

        "Duration"          "%duration"

        "ThinkInterval"       "%damage_interval"

        "OnIntervalThink"
        {
          "RunScript"
          {
            "ScriptFile"      "hero/hero_jakiro.lua"
            "Function"        "DualBreathDamage"

            "modifier_breath"   "modifier_imba_ice_breath"
            "modifier_macropyre"  "modifier_imba_macropyre"
            "modifier_macropyre_2"  "modifier_imba_macropyre_scepter"
          }
        }
        
        "Properties"
        {
          "MODIFIER_PROPERTY_MOVESPEED_BONUS_PERCENTAGE"    "%move_slow"
          "MODIFIER_PROPERTY_ATTACKSPEED_BONUS_CONSTANT"    "%attack_slow"
        }
      }

      "modifier_imba_ice_breath_caster"
      {
        "IsHidden"          "1"
        "IsBuff"          "1"
        "Passive"         "0"
        "IsPurgable"        "0"

        "States"
        {
          "MODIFIER_STATE_ROOTED"     "MODIFIER_STATE_VALUE_ENABLED"
        }
      }
    }
  }

  //=================================================================================================================
  // Jakiro's Liquid Fire
  //=================================================================================================================
  "imba_jakiro_liquid_fire"
  {
    // General
    //-------------------------------------------------------------------------------------------------------------
    "BaseClass"             "ability_datadriven"
    "AbilityBehavior"         "DOTA_ABILITY_BEHAVIOR_UNIT_TARGET"
    "AbilityUnitDamageType"       "DAMAGE_TYPE_MAGICAL"
    "AbilityUnitTargetTeam"       "DOTA_UNIT_TARGET_TEAM_ENEMY"
    "AbilityUnitTargetType"       "DOTA_UNIT_TARGET_HERO | DOTA_UNIT_TARGET_BASIC | DOTA_UNIT_TARGET_MECHANICAL | DOTA_UNIT_TARGET_BUILDING"
    "AbilityUnitTargetFlags"      "DOTA_UNIT_TARGET_FLAG_MAGIC_IMMUNE_ENEMIES"
    "SpellImmunityType"         "SPELL_IMMUNITY_ENEMIES_YES"
    "AbilityTextureName"        "jakiro_liquid_fire"  

    // Stats
    //-------------------------------------------------------------------------------------------------------------
    "AbilityCooldown"         "16 12 8 4"
    "AbilityCastRange"          "700 800 900 1000"
    "AbilityCastPoint"          "0.25"
    "AbilityCastAnimation"        "ACT_DOTA_ATTACK2"

    // Precache
    //-------------------------------------------------------------------------------------------------------------
    "precache"
    {
      "soundfile"           "soundevents/game_sounds_heroes/game_sounds_jakiro.vsndevts"
      "particle"            "particles/units/heroes/hero_jakiro/jakiro_base_attack_fire.vpcf"
      "particle"            "particles/units/heroes/hero_jakiro/jakiro_liquid_fire_ready.vpcf"
      "particle"            "particles/units/heroes/hero_jakiro/jakiro_liquid_fire_explosion.vpcf"
      "particle"            "particles/units/heroes/hero_jakiro/jakiro_liquid_fire_debuff.vpcf"
    }
      
    // Special
    //-------------------------------------------------------------------------------------------------------------
    "AbilitySpecial"
    {
      "01"
      {
        "var_type"          "FIELD_INTEGER"
        "attack_slow"         "-50"
      }
      "02"
      {
        "var_type"          "FIELD_INTEGER"
        "radius"          "325 350 375 400"
      }
      "03"
      {
        "var_type"          "FIELD_INTEGER"
        "damage"          "16 24 32 40"
      }
      "04"
      {
        "var_type"          "FIELD_FLOAT"
        "duration"          "5.0"
      }
      "05"
      {
        "var_type"          "FIELD_FLOAT"
        "damage_interval"     "0.5"
      }
      "06"
      {
        "var_type"          "FIELD_INTEGER"
        "speed"           "1100"
      }
    }

    "OnSpellStart"
    {
      "FireSound"
      {
        "EffectName"        "Hero_Jakiro.Attack"
        "Target"          "CASTER"
      }

      "TrackingProjectile"
      {
        "Target"
        {
          "Center"        "TARGET"
          "Teams"         "DOTA_UNIT_TARGET_TEAM_ENEMY"
          "Types"         "DOTA_UNIT_TARGET_HERO | DOTA_UNIT_TARGET_BASIC | DOTA_UNIT_TARGET_MECHANICAL | DOTA_UNIT_TARGET_BUILDING"
          "Flags"         "DOTA_UNIT_TARGET_FLAG_MAGIC_IMMUNE_ENEMIES"
        }
        "EffectName"        "particles/units/heroes/hero_jakiro/jakiro_base_attack_fire.vpcf"
        "Dodgeable"         "1"
        "ProvidesVision"      "0"
        "VisionRadius"        "0"
        "MoveSpeed"         "%speed"
        "SourceAttachment"      "DOTA_PROJECTILE_ATTACHMENT_ATTACK_1"
      }
    }

    "OnProjectileHitUnit"
    {
      "DeleteOnHit"         "1"

      "RunScript"
      {
        "ScriptFile"        "hero/hero_jakiro.lua"
        "Function"          "LiquidFire"

        "sound_liquid_fire"     "Hero_Jakiro.LiquidFire"
        "particle_liquid_fire"    "particles/units/heroes/hero_jakiro/jakiro_liquid_fire_explosion.vpcf"
        "modifier_liquid_fire"    "modifier_imba_liquid_fire"
      }
    }
    
    "Modifiers"
    {
      "modifier_imba_liquid_fire"
      {
        "Passive"         "0"
        "IsDebuff"          "1"
        "IsHidden"          "0"
        "IsPurgable"        "1"

        "Duration"          "%duration"

        "EffectName"        "particles/units/heroes/hero_jakiro/jakiro_liquid_fire_debuff.vpcf"
        "EffectAttachType"      "follow_origin" 

        "ThinkInterval"       "%damage_interval"  

        "OnIntervalThink"
        {
          "RunScript"
          {
            "ScriptFile"      "hero/hero_jakiro.lua"
            "Function"        "LiquidFireDamage"

            "modifier_liquid_fire"  "modifier_imba_liquid_fire"
            "modifier_macropyre"  "modifier_imba_macropyre"
            "modifier_macropyre_2"  "modifier_imba_macropyre_scepter"
          }
        } 

        "Properties"
        {
          "MODIFIER_PROPERTY_ATTACKSPEED_BONUS_CONSTANT"    "%attack_slow"
        }
      }
    }
  }

  //=================================================================================================================
  // Jakiro's Macropyre
  //=================================================================================================================
  "imba_jakiro_macropyre"
  {
    // General
    //-------------------------------------------------------------------------------------------------------------
    "BaseClass"           "ability_datadriven"
    "AbilityType"         "DOTA_ABILITY_TYPE_ULTIMATE"
    "AbilityBehavior"       "DOTA_ABILITY_BEHAVIOR_POINT | DOTA_ABILITY_BEHAVIOR_UNIT_TARGET"
    "AbilityUnitTargetTeam"     "DOTA_UNIT_TARGET_TEAM_ENEMY"
    "AbilityUnitTargetType"     "DOTA_UNIT_TARGET_HERO | DOTA_UNIT_TARGET_BASIC | DOTA_UNIT_TARGET_MECHANICAL"
    "AbilityUnitDamageType"     "DAMAGE_TYPE_MAGICAL"
    "SpellImmunityType"       "SPELL_IMMUNITY_ENEMIES_NO"
    "FightRecapLevel"       "2"
    "AbilityTextureName"      "jakiro_macropyre"  

    // Casting
    //-------------------------------------------------------------------------------------------------------------
    "AbilityCastRange"        "1200 1650 2100"
    "AbilityCastPoint"        "0.5" 

    // Time   
    //-------------------------------------------------------------------------------------------------------------
    "AbilityCooldown"       "60"  

    // Cost
    //-------------------------------------------------------------------------------------------------------------
    "AbilityManaCost"       "220 330 440"

    // Precache
    //-------------------------------------------------------------------------------------------------------------
    "precache"
    {
      "soundfile"           "soundevents/game_sounds_heroes/game_sounds_jakiro.vsndevts"
      "particle"            "particles/hero/jakiro/jakiro_macropyre.vpcf"
      "particle"            "particles/hero/jakiro/jakiro_macropyre_blue.vpcf"
      "particle"            "particles/generic_gameplay/generic_slowed_cold.vpcf"
    }

    // Special
    //-------------------------------------------------------------------------------------------------------------
    "AbilitySpecial"
    {
      "01"
      {
        "var_type"          "FIELD_FLOAT"
        "duration"          "10.0 15.0 20.0"
      }
      "02"
      {
        "var_type"          "FIELD_FLOAT"
        "stun_time_scepter"     "1.0"
      }
      "03"
      {
        "var_type"          "FIELD_INTEGER"
        "move_slow_scepter"     "-30"
      }
      "04"
      {
        "var_type"          "FIELD_INTEGER"
        "damage"          "50 75 100"
      }
      "05"
      {
        "var_type"          "FIELD_INTEGER"
        "damage_scepter"      "75 100 125"
      }
      "06"
      {
        "var_type"          "FIELD_INTEGER"
        "range"           "1200 1650 2100"          
      }   
      "07"
      {
        "var_type"          "FIELD_INTEGER"
        "path_radius"       "280"
      }
      "08"
      {
        "var_type"          "FIELD_FLOAT"
        "burn_interval"       "0.5"
      }
      "09"
      {
        "var_type"          "FIELD_INTEGER"
        "tooltip_damage"      "100 150 200"
      }
      "10"
      {
        "var_type"          "FIELD_INTEGER"
        "tooltip_damage_scepter"  "150 200 250"
      }
      "11"
      {
        "var_type"          "FIELD_FLOAT"
        "trail_angle"       "10 9 8"
      }
      "12"
      {
        "var_type"          "FIELD_INTEGER"
        "trail_amount"        "7 7 7"
      }
      "13"
      {
        "var_type"          "FIELD_FLOAT"
        "stickyness"        "1.0"
      }
    }
    
    "OnSpellStart"
    {
      "RunScript"
      {
        "ScriptFile"        "hero/hero_jakiro.lua"
        "Function"          "Macropyre"
        
        "fire_particle"       "particles/hero/jakiro/jakiro_macropyre.vpcf"
        "ice_particle"        "particles/hero/jakiro/jakiro_macropyre_blue.vpcf"
        "modifier"          "modifier_imba_macropyre"
        "modifier_scepter"      "modifier_imba_macropyre_scepter"
        "modifier_aura"       "modifier_imba_macropyre_aura"
        "modifier_aura_scepter"   "modifier_imba_macropyre_aura_scepter"
        "modifier_dummy"      "modifier_imba_macropyre_dummy"
        "sound_fire"        "Hero_Jakiro.Macropyre.Cast"
        "sound_ice"         "Hero_Jakiro.IcePath.Cast"
        "sound_fire_loop"     "hero_jakiro.macropyre.scepter"
      }
    }
    
    "Modifiers"
    {
      "modifier_imba_macropyre"
      {
        "IsDebuff"          "1"
        "IsHidden"          "0"
        "IsPurgable"        "0"

        "Duration"          "%stickyness"

        "OnCreated"
        {
          "Damage"
          {
            "Target"      "TARGET"
            "Type"        "DAMAGE_TYPE_MAGICAL"
            "Damage"      "%damage"
          }
        }

        "ThinkInterval"       "%burn_interval"
        
        "OnIntervalThink"
        {
          "Damage"
          {
            "Target"      "TARGET"
            "Type"        "DAMAGE_TYPE_MAGICAL"
            "Damage"      "%damage"
          }
        }
      }

      "modifier_imba_macropyre_scepter"
      {
        "IsDebuff"          "1"
        "IsHidden"          "0"
        "IsPurgable"        "0"

        "Duration"          "%stickyness"

        "EffectName"        "particles/generic_gameplay/generic_slowed_cold.vpcf"

        "OnCreated"
        {
          "Damage"
          {
            "Target"      "TARGET"
            "Type"        "DAMAGE_TYPE_MAGICAL"
            "Damage"      "%damage_scepter"
          }

          "Stun"
          {
            "Duration"      "%stun_time_scepter"
            "Target"      "TARGET"
          }

          "ApplyModifier"
          {
            "ModifierName"    "modifier_imba_macropyre_scepter_stun"
            "Target"      "TARGET"
            "Duration"      "%stun_time_scepter"
          }
        }

        "ThinkInterval"       "%burn_interval"
        
        "OnIntervalThink"
        {
          "Damage"
          {
            "Target"      "TARGET"
            "Type"        "DAMAGE_TYPE_MAGICAL"
            "Damage"      "%damage_scepter"
          }
        }

        "Properties"
        {
            "MODIFIER_PROPERTY_MOVESPEED_BONUS_PERCENTAGE" "%move_slow_scepter" 
        }
      }

      "modifier_imba_macropyre_scepter_stun"
      {
        "IsHidden"          "1"
        "IsDebuff"          "1"
        "IsPurgable"        "0"

        "Duration"          "%stun_time_scepter"

        "EffectName"        "particles/units/heroes/hero_crystalmaiden/maiden_frostbite_buff.vpcf"
      }
    }
  }

  //=================================================================================================================
  // Lich's Frost Nova
  //=================================================================================================================
  "imba_lich_frost_nova"
  {
    // General
    //-------------------------------------------------------------------------------------------------------------
    "BaseClass"           "ability_datadriven"
    "AbilityBehavior"       "DOTA_ABILITY_BEHAVIOR_UNIT_TARGET | DOTA_ABILITY_BEHAVIOR_AOE"
    "AbilityUnitTargetTeam"     "DOTA_UNIT_TARGET_TEAM_ENEMY"
    "AbilityUnitTargetType"     "DOTA_UNIT_TARGET_HERO | DOTA_UNIT_TARGET_BASIC"
    "AbilityUnitDamageType"     "DAMAGE_TYPE_MAGICAL" 
    "SpellImmunityType"       "SPELL_IMMUNITY_ENEMIES_NO"
    "FightRecapLevel"       "1"
    "AbilityTextureName"      "lich_frost_nova"
    
    // Casting
    //-------------------------------------------------------------------------------------------------------------
    "AbilityCastRange"        "700"
    "AbilityCastPoint"        "0.3" 
    "AoERadius"           "250" 

    // Time   
    //-------------------------------------------------------------------------------------------------------------
    "AbilityCooldown"       "8.0"
    "AbilityDuration"       "4.0" 

    // Cost
    //-------------------------------------------------------------------------------------------------------------
    "AbilityManaCost"       "125 140 155 170" 

    // Special
    //-------------------------------------------------------------------------------------------------------------
    "AbilitySpecial"
    {     
      "01"
      {
        "var_type"        "FIELD_INTEGER"
        "radius"        "250"
      }
      "02"
      {
        "var_type"        "FIELD_INTEGER"
        "slow_movement_speed" "-30"
      }
      "03"
      {
        "var_type"        "FIELD_INTEGER"
        "slow_attack_speed"   "-20"
      }
      "04"
      {
        "var_type"        "FIELD_INTEGER"
        "aoe_damage"      "150"
      }
      "05"
      {
        "var_type"        "FIELD_FLOAT"
        "stack_interval"    "1.0"
      }
      "06"
      {
        "var_type"        "FIELD_INTEGER"
        "slow_per_stack"    "-3"
      }
      "07"
      {
        "var_type"        "FIELD_INTEGER"
        "proc_chance"     "5 7 9 11"
      }
      "08"
      {
        "var_type"        "FIELD_INTEGER"
        "aura_aoe"        "700"
      }
      "09"
      {
        "var_type"        "FIELD_INTEGER"
        "target_damage"     "0 70 140 210"
      }
      "10"
      {
        "var_type"        "FIELD_FLOAT"
        "aura_stickyness"   "2.0"
      }
      "11"
      {
        "var_type"        "FIELD_INTEGER"
        "base_slow"       "-7"
      }
      "12"
      {
        "var_type"        "FIELD_INTEGER"
        "tooltip_base_slow"   "-10"
      }
    } 

    "precache"
    {
      "particle"          "particles/units/heroes/hero_lich/lich_frost_nova.vpcf"
      "particle"          "particles/status_fx/status_effect_frost_lich.vpcf"
      "particle"          "particles/units/heroes/hero_tusk/tusk_frozen_sigil_status.vpcf"
      "soundfile"         "soundevents/game_sounds_heroes/game_sounds_lich.vsndevts"
    }

    "OnSpellStart"
    { 
      "FireEffect"
      {
        "EffectName"      "particles/units/heroes/hero_lich/lich_frost_nova.vpcf"
        "EffectAttachType"    "follow_origin"
        "Target"        "TARGET"
      }

      "FireSound"
      {
        "EffectName"      "Ability.FrostNova"
        "Target"        "TARGET"
      }

      "Damage"
      {
        "Type"          "DAMAGE_TYPE_MAGICAL"
        "Target"        "TARGET"
        "Damage"        "%target_damage"
      }

      "ActOnTargets"
      {
        "Target"
        {
          "Center"      "TARGET"
          "Radius"      "%radius"
          "Teams"       "DOTA_UNIT_TARGET_TEAM_ENEMY"
          "Types"       "DOTA_UNIT_TARGET_BASIC | DOTA_UNIT_TARGET_HERO"
        }

        "Action"
        {
          "ApplyModifier"
          {
            "ModifierName"  "modifier_imba_frost_nova"
            "Target"    "TARGET"
            "Duration"    "%AbilityDuration"
          }

          "Damage"
          {
            "Type"      "DAMAGE_TYPE_MAGICAL"
            "Target"    "TARGET"
            "Damage"    "%aoe_damage"
          }
        }
      }
    }

    "Modifiers"
    {
      "modifier_imba_frost_nova"
      {
        "IsDebuff"        "1"
        "IsPurgable"      "1"

        "StatusEffectName"    "particles/status_fx/status_effect_frost_lich.vpcf"
        "StatusEffectPriority"  "10"  

        "Properties"
        {
          "MODIFIER_PROPERTY_MOVESPEED_BONUS_PERCENTAGE"  "%slow_movement_speed"
          "MODIFIER_PROPERTY_ATTACKSPEED_BONUS_CONSTANT"  "%slow_attack_speed"
        }
      }

      "modifier_imba_frost_nova_aura"
      {
        "IsBuff"        "1"
        "IsHidden"        "1"
        "Passive"       "1"
        "IsPurgable"      "0"

        "Aura"          "modifier_imba_frost_nova_aura_debuff"
        "Aura_Radius"     "%aura_aoe"
        "Aura_Teams"      "DOTA_UNIT_TARGET_TEAM_ENEMY"
        "Aura_Types"      "DOTA_UNIT_TARGET_HERO | DOTA_UNIT_TARGET_BASIC"
        "Aura_ApplyToCaster"  "0"

        "OnCreated"
        {
          "RunScript"
          {
            "ScriptFile"  "internal/util.lua"
            "Function"    "IllusionPassiveRemover"

            "modifier"    "modifier_imba_frost_nova_aura"
          }
        }
      }

      "modifier_imba_frost_nova_aura_debuff"
      {
        "IsDebuff"        "1"
        "IsHidden"        "1"
        "IsPurgable"      "0"

        "OnCreated"
        {
          "RunScript"
          {
            "ScriptFile"  "hero/hero_lich.lua"
            "Function"    "FrostNova"

            "modifier"    "modifier_imba_frost_nova_stacks"
            "modifier_slow" "modifier_imba_frost_nova"
            "particle"    "particles/units/heroes/hero_lich/lich_frost_nova.vpcf"
            "sound"     "Ability.FrostNova"
          }
        }

        "ThinkInterval"     "%stack_interval"

        "OnIntervalThink"
        {
          "RunScript"
          {
            "ScriptFile"  "hero/hero_lich.lua"
            "Function"    "FrostNova"

            "modifier"    "modifier_imba_frost_nova_stacks"
            "modifier_slow" "modifier_imba_frost_nova"
            "particle"    "particles/units/heroes/hero_lich/lich_frost_nova.vpcf"
            "sound"     "Ability.FrostNova"
          }
        }

        "Properties"
        { 
          "MODIFIER_PROPERTY_ATTACKSPEED_BONUS_CONSTANT"  "%base_slow"
            "MODIFIER_PROPERTY_MOVESPEED_BONUS_PERCENTAGE"  "%base_slow" 
        }
      }

      "modifier_imba_frost_nova_stacks"
      {
        "IsDebuff"        "1"
        "IsHidden"        "0"
        "IsPurgable"      "0"

        "Duration"        "%aura_stickyness"

        "EffectName"      "particles/units/heroes/hero_tusk/tusk_frozen_sigil_status.vpcf"

        "Properties"
        {
          "MODIFIER_PROPERTY_ATTACKSPEED_BONUS_CONSTANT"  "%slow_per_stack"
            "MODIFIER_PROPERTY_MOVESPEED_BONUS_PERCENTAGE"  "%slow_per_stack" 
        }
      }
    }
  }

  //=================================================================================================================
  // Lich's Ice Armor
  //=================================================================================================================
  "imba_lich_frost_armor"
  {
    // General
    //-------------------------------------------------------------------------------------------------------------
    "BaseClass"           "ability_datadriven"
    "AbilityBehavior"       "DOTA_ABILITY_BEHAVIOR_UNIT_TARGET | DOTA_ABILITY_BEHAVIOR_DONT_RESUME_ATTACK"
    "AbilityUnitTargetTeam"     "DOTA_UNIT_TARGET_TEAM_FRIENDLY"
    "AbilityUnitTargetType"     "DOTA_UNIT_TARGET_HERO | DOTA_UNIT_TARGET_BASIC | DOTA_UNIT_TARGET_MECHANICAL | DOTA_UNIT_TARGET_BUILDING"
    "SpellImmunityType"       "SPELL_IMMUNITY_ALLIES_YES"
    "AbilityTextureName"      "lich_frost_armor"
    
    // Casting
    //-------------------------------------------------------------------------------------------------------------
    "AbilityCastRange"        "1200"
    "AbilityCastPoint"        "0.3" 

    // Time   
    //-------------------------------------------------------------------------------------------------------------
    "AbilityCooldown"       "3.0"
    "AbilityDuration"       "90.0"  

    // Cost
    //-------------------------------------------------------------------------------------------------------------
    "AbilityManaCost"       "25"  

    // Stats
    //-------------------------------------------------------------------------------------------------------------
    "AbilityModifierSupportValue" "0.3" // Easy to spam   

    // Special
    //-------------------------------------------------------------------------------------------------------------
    "AbilitySpecial"
    {
      "01"
      {
        "var_type"        "FIELD_INTEGER"
        "armor_bonus"     "4 6 8 10"
      }
      "02"
      {
        "var_type"        "FIELD_FLOAT"
        "slow_duration"     "2.0"
      }
      "03"
      {
        "var_type"        "FIELD_INTEGER"
        "slow_movement_speed" "-30"
      }
      "04"
      {
        "var_type"        "FIELD_INTEGER"
        "slow_attack_speed"   "-20 -30 -40 -50"
      }
      "05"
      {
        "var_type"        "FIELD_INTEGER"
        "tooltip_duration"    "90"
      }
    } 

    "precache"
    {
      "particle"          "particles/units/heroes/hero_lich/lich_frost_armor.vpcf"
      "particle"          "particles/status_fx/status_effect_frost_armor.vpcf"
      "particle"          "particles/status_fx/status_effect_frost.vpcf"
      "soundfile"         "soundevents/game_sounds_heroes/game_sounds_lich.vsndevts"
    } 

    "OnSpellStart"
    {
      "FireSound"
      {
        "EffectName"      "Hero_Lich.FrostArmor"
        "Target"        "TARGET"
      } 

      "ApplyModifier"
      {
        "ModifierName"      "modifier_imba_frost_armor"
        "Target"        "TARGET"
        "Duration"        "%AbilityDuration"
      }
    } 

    "Modifiers"
    {
      "modifier_imba_frost_armor"
      {
        "Properties"
        {
          "MODIFIER_PROPERTY_PHYSICAL_ARMOR_BONUS"  "%armor_bonus"
        } 

        "OnCreated"
        {
          "RunScript"
          {
            "ScriptFile"    "hero/hero_lich.lua"
                "Function"      "FrostArmorParticle"  

                "particle"    "particles/units/heroes/hero_lich/lich_frost_armor.vpcf"
            }
        } 

        "OnDestroy"
        {
          "RunScript"
          {
            "ScriptFile"    "hero/hero_lich.lua"
                "Function"      "EndFrostArmorParticle" 
            }
        } 

        "StatusEffectName"    "particles/status_fx/status_effect_frost_armor.vpcf"
        "StatusEffectPriority"  "10"  

        "OnTakeDamage"
        {
          "ApplyModifier"
          {
            "ModifierName"  "modifier_imba_frost_armor_slow"

            "Target"
            {
              "Center"    "ATTACKER"
              "Teams"   "DOTA_UNIT_TARGET_TEAM_ENEMY"
              "Types"   "DOTA_UNIT_TARGET_HERO | DOTA_UNIT_TARGET_BASIC | DOTA_UNIT_TARGET_MECHANICAL"
            }
            
            "Duration"    "%slow_duration"
          } 

          "FireSound"
          {
            "EffectName"  "Hero_Lich.FrostArmorDamage"
            "Target"    "TARGET"
          }
        }
      } 

      "modifier_imba_frost_armor_slow"
      {
        "IsDebuff"        "1"
        "IsPurgable"      "1"

        "StatusEffectName"    "particles/status_fx/status_effect_frost.vpcf"
        "StatusEffectPriority"  "10"  

        "Properties"
        {
          "MODIFIER_PROPERTY_ATTACKSPEED_BONUS_CONSTANT"  "%slow_attack_speed"
          "MODIFIER_PROPERTY_MOVESPEED_BONUS_PERCENTAGE"  "%slow_movement_speed"
        }
      } 
    }
  }

  //=================================================================================================================
  // Lich's Sacrifice
  //=================================================================================================================
  "imba_lich_dark_ritual"
  {
    // General
    //-------------------------------------------------------------------------------------------------------------
    "BaseClass"           "ability_datadriven"
    "AbilityBehavior"       "DOTA_ABILITY_BEHAVIOR_UNIT_TARGET | DOTA_ABILITY_BEHAVIOR_DONT_RESUME_ATTACK"
    "AbilityUnitTargetTeam"     "DOTA_UNIT_TARGET_TEAM_BOTH"
    "AbilityUnitTargetType"     "DOTA_UNIT_TARGET_BASIC"
    "AbilityUnitTargetFlags"    "DOTA_UNIT_TARGET_FLAG_NOT_CREEP_HERO | DOTA_UNIT_TARGET_FLAG_NOT_ANCIENTS"
    "AbilityTextureName"      "lich_dark_ritual"
    
    // Casting
    //-------------------------------------------------------------------------------------------------------------
    "AbilityCastRange"        "600"
    "AbilityCastPoint"        "0.3" 

    // Time   
    //-------------------------------------------------------------------------------------------------------------
    "AbilityCooldown"       "35 30 25 20" 

    // Cost
    //-------------------------------------------------------------------------------------------------------------
    "AbilityManaCost"       "0" 

    // Special
    //-------------------------------------------------------------------------------------------------------------
    "AbilitySpecial"
    {
      "01"
      {
        "var_type"        "FIELD_INTEGER"
        "health_conversion"   "40 60 80 100"
      } 
      "02"
      {
        "var_type"        "FIELD_INTEGER"
        "xp_radius"       "1300"
      }
    } 

    "precache"
    {
      "particle"          "particles/units/heroes/hero_lich/lich_dark_ritual.vpcf"
      "soundfile"         "soundevents/game_sounds_heroes/game_sounds_lich.vsndevts"
    } 

    "OnSpellStart"
    {
      "FireSound"
      {
        "EffectName"      "Ability.DarkRitual"
        "Target"        "CASTER"
      } 

      "FireEffect"
      {
        "EffectName"      "particles/units/heroes/hero_lich/lich_dark_ritual.vpcf"
        "EffectAttachType"    "follow_origin"
        "Target"        "TARGET"
        "ControlPointEntities"
        {
          "TARGET"      "attach_hitloc"
          "CASTER"      "attach_hitloc"
        }
      } 

      "RunScript"
        {
            "ScriptFile"      "hero/hero_lich.lua"
            "Function"        "DarkRitual"

            "Target"        "TARGET"
        }
    }
  }

  //=================================================================================================================
  // Lich's Chain Frost
  //=================================================================================================================
  "imba_lich_chain_frost"
  {
    // General
    //-------------------------------------------------------------------------------------------------------------
    "BaseClass"           "ability_datadriven"
    "AbilityType"         "DOTA_ABILITY_TYPE_ULTIMATE"
    "AbilityBehavior"       "DOTA_ABILITY_BEHAVIOR_UNIT_TARGET"
    "AbilityUnitTargetTeam"     "DOTA_UNIT_TARGET_TEAM_ENEMY"
    "AbilityUnitTargetType"     "DOTA_UNIT_TARGET_HERO | DOTA_UNIT_TARGET_BASIC"
    "AbilityUnitTargetFlags"    "DOTA_UNIT_TARGET_FLAG_MAGIC_IMMUNE_ENEMIES"
    "SpellImmunityType"       "SPELL_IMMUNITY_ENEMIES_NO"
    "AbilityUnitDamageType"     "DAMAGE_TYPE_MAGICAL" 
    "FightRecapLevel"       "2"
    "AbilityTextureName"      "lich_chain_frost"
    
    // Casting
    //-------------------------------------------------------------------------------------------------------------
    "AbilityCastRange"        "850"
    "AbilityCastPoint"        "0.3" 

    // Time   
    //-------------------------------------------------------------------------------------------------------------
    "AbilityCooldown"       "145.0 115.0 60.0"  

    // Cost
    //-------------------------------------------------------------------------------------------------------------
    "AbilityManaCost"       "200 325 450" 

    // Special
    //-------------------------------------------------------------------------------------------------------------
    "AbilitySpecial"
    {
      "01"
      {
        "var_type"          "FIELD_FLOAT"
        "slow_duration"       "4.0"
      }
      "02"
      {
        "var_type"          "FIELD_INTEGER"
        "slow_movement_speed"   "-30"
      }
      "03"
      {
        "var_type"          "FIELD_INTEGER"
        "slow_attack_speed"     "-20"
      }
      "04"
      {
        "var_type"          "FIELD_INTEGER"
        "jump_range"        "600 700 800"
      }
      "05"
      {
        "var_type"          "FIELD_INTEGER"
        "jump_range_scepter"    "900 1200 1500"
      }
      "06"
      {
        "var_type"          "FIELD_INTEGER"
        "projectile_speed"      "750"
      }
      "07"
      {
        "var_type"          "FIELD_INTEGER"
        "projectile_speed_scepter"  "800 900 1000"
      }
      "08"
      { 
        "var_type"          "FIELD_INTEGER"
        "vision_radius"       "1000"
      }
      "09"
      {
        "var_type"          "FIELD_INTEGER"
        "damage"          "280 370 460"
      }
      "10"
      {
        "var_type"          "FIELD_INTEGER"
        "damage_scepter"      "370 460 550"
      }
      "11"
      {
        "var_type"          "FIELD_FLOAT"
        "mini_stun"         "0.1"
      }   
    } 

    "precache"
    {
      "particle"          "particles/units/heroes/hero_lich/lich_chain_frost.vpcf"
      "particle"          "particles/units/heroes/hero_lich/lich_slowed_cold.vpcf"
      "soundfile"         "soundevents/game_sounds_heroes/game_sounds_lich.vsndevts"
    } 

    "OnSpellStart"
    {
      "FireSound"
      {
        "EffectName"      "Hero_Lich.ChainFrost"
        "Target"
        {
          "Center"      "TARGET"
          "Teams"       "DOTA_UNIT_TARGET_TEAM_ENEMY"
          "Types"       "DOTA_UNIT_TARGET_HERO | DOTA_UNIT_TARGET_BASIC"
          "Flags"       "DOTA_UNIT_TARGET_FLAG_MAGIC_IMMUNE_ENEMIES"
        }
      } 

      "Stun"
      {
        "Target"
        {
          "Center"    "TARGET"
          "Teams"   "DOTA_UNIT_TARGET_TEAM_ENEMY"
          "Types"   "DOTA_UNIT_TARGET_HERO | DOTA_UNIT_TARGET_BASIC"
          "Flags"     "DOTA_UNIT_TARGET_FLAG_MAGIC_IMMUNE_ENEMIES"
        }

        "Duration"        "%mini_stun"
      } 

      "TrackingProjectile"
      {
        "Target"
        {
          "Center"    "TARGET"
          "Teams"   "DOTA_UNIT_TARGET_TEAM_ENEMY"
          "Types"   "DOTA_UNIT_TARGET_HERO | DOTA_UNIT_TARGET_BASIC"
          "Flags"     "DOTA_UNIT_TARGET_FLAG_MAGIC_IMMUNE_ENEMIES"
        }

        "EffectName"      "particles/units/heroes/hero_lich/lich_chain_frost.vpcf"
        "Dodgeable"       "0"
        "ProvidesVision"    "1"
        "VisionRadius"      "%vision_radius"
        "MoveSpeed"       "%projectile_speed"
        "SourceAttachment"    "DOTA_PROJECTILE_ATTACHMENT_ATTACK_1"
      }
    } 

    "OnProjectileHitUnit"
    {
      "DeleteOnHit"       "1" 

      "Damage"
      {
        "Target"        "TARGET"
        "Type"          "DAMAGE_TYPE_MAGICAL"
        "Damage"        "%damage"
      } 

      "ApplyModifier"
      {
        "ModifierName"      "modifier_imba_chain_frost"
        "Target"        "TARGET"
      } 

      "RunScript"
      {
        "ScriptFile"      "hero/hero_lich.lua"
        "Function"        "ChainFrost"

        "particle_name"     "particles/units/heroes/hero_lich/lich_chain_frost.vpcf"
      }
    } 

    "Modifiers"
    {
      "modifier_imba_chain_frost"
      {
        "Passive"       "0"
        "IsHidden"        "0"
        "IsDebuff"        "1"
        "IsPurgable"      "1"
    
        "Duration"        "%slow_duration"
    
        "StatusEffectName"    "particles/status_fx/status_effect_frost_lich.vpcf"
        "StatusEffectPriority"  "10"  

        "Properties"
        {
          "MODIFIER_PROPERTY_ATTACKSPEED_BONUS_CONSTANT" "%slow_movement_speed"
            "MODIFIER_PROPERTY_MOVESPEED_BONUS_PERCENTAGE" "%slow_attack_speed" 
        }
      }
    }
  }

  //=================================================================================================================
  // Lina's Dragon Slave
  //=================================================================================================================
  "imba_lina_dragon_slave"
  {
    // General
    //-------------------------------------------------------------------------------------------------------------
    "BaseClass"                 "ability_datadriven"
    "AbilityBehavior"           "DOTA_ABILITY_BEHAVIOR_POINT | DOTA_ABILITY_BEHAVIOR_UNIT_TARGET"
    "AbilityUnitTargetTeam"     "DOTA_UNIT_TARGET_TEAM_ENEMY"
    "AbilityUnitTargetType"     "DOTA_UNIT_TARGET_HERO | DOTA_UNIT_TARGET_BASIC | DOTA_UNIT_TARGET_MECHANICAL"
    "AbilityUnitDamageType"     "DAMAGE_TYPE_MAGICAL" 
    "SpellImmunityType"         "SPELL_IMMUNITY_ENEMIES_NO"
    "FightRecapLevel"           "1"
    "AbilityTextureName"        "lina_dragon_slave" 

    // Precache
    //-------------------------------------------------------------------------------------------------------------
    "precache"
    {
      "soundfile"         "soundevents/game_sounds_heroes/game_sounds_lina.vsndevts"
      "particle"          "particles/units/heroes/hero_lina/lina_spell_dragon_slave.vpcf"
    }
    
    // Casting
    //-------------------------------------------------------------------------------------------------------------
    "AbilityCastRange"        "1000"
    "AbilityCastPoint"        "0.35"  

    // Time   
    //-------------------------------------------------------------------------------------------------------------
    "AbilityCooldown"       "7.0"

    // Damage
    //-------------------------------------------------------------------------------------------------------------
    "AbilityDamage"         "110 180 250 320" 

    // Cost
    //-------------------------------------------------------------------------------------------------------------
    "AbilityManaCost"       "100 115 130 145" 

    // Special
    //-------------------------------------------------------------------------------------------------------------
    "AbilitySpecial"
    {
      "01"
      {
        "var_type"            "FIELD_INTEGER"
        "dragon_slave_speed"      "1400"
      }
      "02"
      {
        "var_type"            "FIELD_INTEGER"
        "dragon_slave_width_initial"  "275"
      }
      "03"
      {
        "var_type"            "FIELD_INTEGER"
        "dragon_slave_width_end"    "250"
      }
      "04"
      {
        "var_type"            "FIELD_INTEGER"
        "dragon_slave_distance"     "1150"
      }
      "05"
      {
        "var_type"            "FIELD_INTEGER"
        "secondary_damage"        "40 60 80 100"
      }
    } 

    "OnUpgrade"
    {
      "RunScript"
      {
        "ScriptFile"      "hero/hero_lina.lua"
        "Function"        "DragonSlaveLevel"

        "ability_name"      "imba_lina_dragon_slave_aux"
      }
    }

    "OnSpellStart"
    {
      "LinearProjectile"
      {
          "Target"        "POINT"
          "EffectName"      "particles/units/heroes/hero_lina/lina_spell_dragon_slave.vpcf"
          "MoveSpeed"       "%dragon_slave_speed"
          "StartRadius"     "%dragon_slave_width_initial"
          "StartPosition"     "attach_origin"
          "EndRadius"       "%dragon_slave_width_end"
          "FixedDistance"     "%dragon_slave_distance"
          "TargetTeams"     "DOTA_UNIT_TARGET_TEAM_ENEMY"
          "TargetTypes"     "DOTA_UNIT_TARGET_BASIC | DOTA_UNIT_TARGET_HERO | DOTA_UNIT_TARGET_MECHANICAL"
          "TargetFlags"     "DOTA_UNIT_TARGET_FLAG_NONE"
          "HasFrontalCone"    "1"
          "ProvidesVision"    "0"
      } 

      "FireSound"
      {
        "EffectName"      "Hero_Lina.DragonSlave"
        "Target"          "CASTER"
      }

      "RunScript"
      {
        "ScriptFile"      "hero/hero_lina.lua"
        "Function"        "DragonSlave"
        "Target"          "POINT"

        "ability_name"      "imba_lina_dragon_slave_aux"
        "particle_name"     "particles/units/heroes/hero_lina/lina_spell_dragon_slave.vpcf"
        "sound"             "Hero_Lina.DragonSlave"
      }

      "RunScript"
      {
        "ScriptFile"      "hero/hero_lina.lua"
        "Function"        "FierySoul"
      }
    } 

    "OnProjectileHitUnit"
    {
      "DeleteOnHit"       "0"
      "Damage"
      {
        "Target"        "TARGET"
        "Type"          "DAMAGE_TYPE_MAGICAL"
        "Damage"        "%AbilityDamage"
      }
    }
  }

  //=================================================================================================================
  // Lina's Dragon Slave (Blazing Soul mode)
  //=================================================================================================================
  "imba_lina_dragon_slave_fiery"
  {
    // General
    //-------------------------------------------------------------------------------------------------------------
    "BaseClass"           "ability_datadriven"
    "AbilityBehavior"       "DOTA_ABILITY_BEHAVIOR_POINT | DOTA_ABILITY_BEHAVIOR_UNIT_TARGET"
    "AbilityUnitTargetTeam"     "DOTA_UNIT_TARGET_TEAM_ENEMY"
    "AbilityUnitTargetType"     "DOTA_UNIT_TARGET_HERO | DOTA_UNIT_TARGET_BASIC | DOTA_UNIT_TARGET_MECHANICAL"
    "AbilityUnitDamageType"     "DAMAGE_TYPE_MAGICAL" 
    "SpellImmunityType"       "SPELL_IMMUNITY_ENEMIES_NO"
    "FightRecapLevel"       "1"
    "AbilityTextureName"      "lina_dragon_slave_fiery" 

    // Precache
    //-------------------------------------------------------------------------------------------------------------
    "precache"
    {
      "soundfile"         "soundevents/game_sounds_heroes/game_sounds_lina.vsndevts"
      "particle"          "particles/units/heroes/hero_lina/lina_spell_dragon_slave.vpcf"
    }
    
    // Casting
    //-------------------------------------------------------------------------------------------------------------
    "AbilityCastRange"        "1000"
    "AbilityCastPoint"        "0.25"  

    // Time   
    //-------------------------------------------------------------------------------------------------------------
    "AbilityCooldown"       "2.0"

    // Damage
    //-------------------------------------------------------------------------------------------------------------
    "AbilityDamage"         "110 180 250 320" 

    // Cost
    //-------------------------------------------------------------------------------------------------------------
    "AbilityManaCost"       "250 285 325 360" 

    // Special
    //-------------------------------------------------------------------------------------------------------------
    "AbilitySpecial"
    {
      "01"
      {
        "var_type"            "FIELD_INTEGER"
        "dragon_slave_speed"      "1600"
      }
      "02"
      {
        "var_type"            "FIELD_INTEGER"
        "dragon_slave_width_initial"  "300"
      }
      "03"
      {
        "var_type"            "FIELD_INTEGER"
        "dragon_slave_width_end"    "275"
      }
      "04"
      {
        "var_type"            "FIELD_INTEGER"
        "dragon_slave_distance"     "1200"
      }
      "05"
      {
        "var_type"            "FIELD_INTEGER"
        "secondary_damage"        "40 60 80 100"
      }
    } 

    "OnUpgrade"
    {
      "RunScript"
      {
        "ScriptFile"      "hero/hero_lina.lua"
        "Function"        "DragonSlaveLevel"

        "ability_name"      "imba_lina_dragon_slave_aux_fiery"
      }
    }

    "OnSpellStart"
    {
      "LinearProjectile"
      {
        "Target"        "POINT"
          "EffectName"      "particles/units/heroes/hero_lina/lina_spell_dragon_slave.vpcf"
          "MoveSpeed"       "%dragon_slave_speed"
          "StartRadius"     "%dragon_slave_width_initial"
          "StartPosition"     "attach_origin"
          "EndRadius"       "%dragon_slave_width_end"
          "FixedDistance"     "%dragon_slave_distance"
          "TargetTeams"     "DOTA_UNIT_TARGET_TEAM_ENEMY"
          "TargetTypes"     "DOTA_UNIT_TARGET_BASIC | DOTA_UNIT_TARGET_HERO | DOTA_UNIT_TARGET_MECHANICAL"
          "TargetFlags"     "DOTA_UNIT_TARGET_FLAG_NONE"
          "HasFrontalCone"    "1"
          "ProvidesVision"    "0"
      } 

      "FireSound"
      {
        "EffectName"      "Hero_Lina.DragonSlave"
        "Target"        "CASTER"
      }

      "RunScript"
      {
        "ScriptFile"      "hero/hero_lina.lua"
        "Function"        "DragonSlave"
        "Target"        "POINT"

        "ability_name"      "imba_lina_dragon_slave_aux_fiery"
        "particle_name"     "particles/units/heroes/hero_lina/lina_spell_dragon_slave.vpcf"
        "sound"         "Hero_Lina.DragonSlave"
      }
    } 

    "OnProjectileHitUnit"
    {
      "DeleteOnHit"       "0"
      "Damage"
      {
        "Target"        "TARGET"
        "Type"          "DAMAGE_TYPE_MAGICAL"
        "Damage"        "%AbilityDamage"
      }
    }
  }

  //=================================================================================================================
  // Lina's Dragon Slave secondary projectiles
  //=================================================================================================================
  "imba_lina_dragon_slave_aux"
  {
    // General
    //-------------------------------------------------------------------------------------------------------------
    "BaseClass"           "ability_datadriven"
    "AbilityBehavior"       "DOTA_ABILITY_BEHAVIOR_NOT_LEARNABLE | DOTA_ABILITY_BEHAVIOR_NO_TARGET | DOTA_ABILITY_BEHAVIOR_IMMEDIATE | DOTA_ABILITY_BEHAVIOR_HIDDEN"
    "AbilityTextureName"      "lina_dragon_slave"

    // Casting
    //-------------------------------------------------------------------------------------------------------------
    "AbilityCastPoint"        "0"

    // Damage
    //-------------------------------------------------------------------------------------------------------------
    "AbilityDamage"         "40 60 80 100"  
    
    // Time   
    //-------------------------------------------------------------------------------------------------------------
    "AbilityCooldown"       "0" 

    // Cost
    //-------------------------------------------------------------------------------------------------------------
    "AbilityManaCost"       "0" 

    "AbilitySpecial"
    {
      "01"
      {
        "var_type"            "FIELD_INTEGER"
        "dragon_slave_speed"      "1200"
      }
      "02"
      {
        "var_type"            "FIELD_INTEGER"
        "dragon_slave_width_initial"  "125"
      }
      "03"
      {
        "var_type"            "FIELD_INTEGER"
        "dragon_slave_width_end"    "250"
      }
      "04"
      {
        "var_type"            "FIELD_INTEGER"
        "dragon_slave_distance"     "600"
      }
    }

    "OnProjectileHitUnit"
    {
      "DeleteOnHit"           "0"

      "Damage"
      {
        "Target"            "TARGET"
        "Type"              "DAMAGE_TYPE_MAGICAL"
        "Damage"            "%AbilityDamage"
      }
    }
  }

  //=================================================================================================================
  // Lina's Dragon Slave secondary projectiles (Blazing Soul mode)
  //=================================================================================================================
  "imba_lina_dragon_slave_aux_fiery"
  {
    // General
    //-------------------------------------------------------------------------------------------------------------
    "BaseClass"           "ability_datadriven"
    "AbilityBehavior"       "DOTA_ABILITY_BEHAVIOR_NOT_LEARNABLE | DOTA_ABILITY_BEHAVIOR_NO_TARGET | DOTA_ABILITY_BEHAVIOR_IMMEDIATE | DOTA_ABILITY_BEHAVIOR_HIDDEN"
    "AbilityTextureName"      "lina_dragon_slave"

    // Casting
    //-------------------------------------------------------------------------------------------------------------
    "AbilityCastPoint"        "0"

    // Damage
    //-------------------------------------------------------------------------------------------------------------
    "AbilityDamage"         "40 60 80 100"  
    
    // Time   
    //-------------------------------------------------------------------------------------------------------------
    "AbilityCooldown"       "0" 

    // Cost
    //-------------------------------------------------------------------------------------------------------------
    "AbilityManaCost"       "0" 

    "AbilitySpecial"
    {
      "01"
      {
        "var_type"            "FIELD_INTEGER"
        "dragon_slave_speed"      "1400"
      }
      "02"
      {
        "var_type"            "FIELD_INTEGER"
        "dragon_slave_width_initial"  "150"
      }
      "03"
      {
        "var_type"            "FIELD_INTEGER"
        "dragon_slave_width_end"    "275"
      }
      "04"
      {
        "var_type"            "FIELD_INTEGER"
        "dragon_slave_distance"     "1000"
      }
    }

    "OnProjectileHitUnit"
    {
      "DeleteOnHit"           "0"

      "Damage"
      {
        "Target"            "TARGET"
        "Type"              "DAMAGE_TYPE_MAGICAL"
        "Damage"            "%AbilityDamage"
      }
    }
  }

  //=================================================================================================================
  // Lina's Light Strike Array
  //=================================================================================================================
  "imba_lina_light_strike_array"
  {
    // General
    //-------------------------------------------------------------------------------------------------------------
    "BaseClass"           "ability_datadriven"
    "AbilityBehavior"       "DOTA_ABILITY_BEHAVIOR_POINT | DOTA_ABILITY_BEHAVIOR_AOE"
    "AbilityUnitTargetTeam"     "DOTA_UNIT_TARGET_TEAM_ENEMY"
    "AbilityUnitTargetType"     "DOTA_UNIT_TARGET_HERO | DOTA_UNIT_TARGET_BASIC"
    "AbilityUnitDamageType"     "DAMAGE_TYPE_MAGICAL" 
    "SpellImmunityType"       "SPELL_IMMUNITY_ENEMIES_NO"
    "FightRecapLevel"       "1"
    "AbilityTextureName"      "lina_light_strike_array"
    
    // Casting
    //-------------------------------------------------------------------------------------------------------------
    "AbilityCastRange"        "625"
    "AbilityCastPoint"        "0.35"
    "AOERadius"           "%light_strike_array_aoe" 

    // Precache
    //-------------------------------------------------------------------------------------------------------------
    "precache"
    {
      "soundfile"         "soundevents/game_sounds_heroes/game_sounds_lina.vsndevts"
      "particle"          "particles/units/heroes/hero_lina/lina_spell_light_strike_array.vpcf"
      "particle"          "particles/units/heroes/hero_lina/lina_spell_light_strike_array_ray_team.vpcf"
      "particle"          "particles/generic_gameplay/generic_stunned.vpcf"
    }
    
    // Time   
    //-------------------------------------------------------------------------------------------------------------
    "AbilityCooldown"       "7.0"
    "AbilityDuration"       "1.6 1.9 2.2 2.5" 

    // Damage.
    //-------------------------------------------------------------------------------------------------------------
    "AbilityDamage"         "120 160 200 240" 

    // Cost
    //-------------------------------------------------------------------------------------------------------------
    "AbilityManaCost"       "90 100 110 120"  

    // Special
    //-------------------------------------------------------------------------------------------------------------
    "AbilitySpecial"
    {
      "01"
      {
        "var_type"              "FIELD_INTEGER"
        "light_strike_array_aoe"      "250"
      }
      "02"
      {
        "var_type"              "FIELD_FLOAT"
        "light_strike_array_delay_time"   "0.5"
      }   
      "03"
      {
        "var_type"              "FIELD_FLOAT"
        "light_strike_array_stun_duration"  "1.6 1.9 2.2 2.5"
      }
      "04"
      {
        "var_type"              "FIELD_INTEGER"
        "light_strike_array_damage"     "120 160 200 240"
      }
      "05"
      {
        "var_type"              "FIELD_FLOAT"
        "secondary_delay"         "0.3 0.24 0.18 0.12"
      }
      "06"
      {
        "var_type"              "FIELD_INTEGER"
        "secondary_amount"          "3 5 7 9"
      }
    }

    "OnSpellStart"
    {
      "RunScript"
      {
        "ScriptFile"        "hero/hero_lina.lua"
        "Function"          "LightStrikeArray"

        "Target"          "POINT"
        "pre_particle"        "particles/units/heroes/hero_lina/lina_spell_light_strike_array_ray_team.vpcf"
        "blast_particle"      "particles/units/heroes/hero_lina/lina_spell_light_strike_array.vpcf"
        "pre_sound"         "Ability.PreLightStrikeArray"
        "blast_sound"       "Ability.LightStrikeArray"
        "hit_modifier"        "modifier_imba_light_strike_array"
      }

      "RunScript"
      {
        "ScriptFile"      "hero/hero_lina.lua"
        "Function"        "FierySoul"
      }
    } 

    "Modifiers"
    {
      "modifier_imba_light_strike_array"
      {
        "IsDebuff"      "1"
        "IsPurgable"    "1"

        "Duration"      "%light_strike_array_stun_duration"
        
        "OnCreated"
        {
          "Damage"
          {
            "Target"  "TARGET"
            "Type"    "DAMAGE_TYPE_MAGICAL"
            "Damage"  "%AbilityDamage"
          }
        }

        "OverrideAnimation" "ACT_DOTA_DISABLED" 

        "EffectName"    "particles/generic_gameplay/generic_stunned.vpcf"
        "EffectAttachType"  "follow_overhead" 

        "States"
        {
          "MODIFIER_STATE_STUNNED"  "MODIFIER_STATE_VALUE_ENABLED"
        }
      }
    }
  }

  //=================================================================================================================
  // Lina's Light Strike Array (Blazing Soul mode)
  //=================================================================================================================
  "imba_lina_light_strike_array_fiery"
  {
    // General
    //-------------------------------------------------------------------------------------------------------------
    "BaseClass"           "ability_datadriven"
    "AbilityBehavior"       "DOTA_ABILITY_BEHAVIOR_POINT | DOTA_ABILITY_BEHAVIOR_AOE"
    "AbilityUnitTargetTeam"     "DOTA_UNIT_TARGET_TEAM_ENEMY"
    "AbilityUnitTargetType"     "DOTA_UNIT_TARGET_HERO | DOTA_UNIT_TARGET_BASIC"
    "AbilityUnitDamageType"     "DAMAGE_TYPE_MAGICAL" 
    "SpellImmunityType"       "SPELL_IMMUNITY_ENEMIES_NO"
    "FightRecapLevel"       "1"
    "AbilityTextureName"      "lina_light_strike_array_fiery"
    
    // Casting
    //-------------------------------------------------------------------------------------------------------------
    "AbilityCastRange"        "625"
    "AbilityCastPoint"        "0.25"
    "AOERadius"           "%light_strike_array_aoe" 

    // Precache
    //-------------------------------------------------------------------------------------------------------------
    "precache"
    {
      "soundfile"         "soundevents/game_sounds_heroes/game_sounds_lina.vsndevts"
      "particle"          "particles/units/heroes/hero_lina/lina_spell_light_strike_array.vpcf"
      "particle"          "particles/units/heroes/hero_lina/lina_spell_light_strike_array_ray_team.vpcf"
      "particle"          "particles/generic_gameplay/generic_stunned.vpcf"
    }
    
    // Time   
    //-------------------------------------------------------------------------------------------------------------
    "AbilityCooldown"       "3.0"
    "AbilityDuration"       "1.6 1.9 2.2 2.5"

    // Damage.
    //-------------------------------------------------------------------------------------------------------------
    "AbilityDamage"         "120 160 200 240"

    // Cost
    //-------------------------------------------------------------------------------------------------------------
    "AbilityManaCost"       "225 250 275 300"

    // Special
    //-------------------------------------------------------------------------------------------------------------
    "AbilitySpecial"
    {
      "01"
      {
        "var_type"              "FIELD_INTEGER"
        "light_strike_array_aoe"      "250"
      }
      "02"
      {
        "var_type"              "FIELD_FLOAT"
        "light_strike_array_delay_time"   "0.5"
      }   
      "03"
      {
        "var_type"              "FIELD_FLOAT"
        "light_strike_array_stun_duration"  "1.6 1.9 2.2 2.5"
      }
      "04"
      {
        "var_type"              "FIELD_INTEGER"
        "light_strike_array_damage"     "120 160 200 240"
      }
      "05"
      {
        "var_type"              "FIELD_FLOAT"
        "secondary_delay"         "0.0"
      }
      "06"
      {
        "var_type"              "FIELD_INTEGER"
        "secondary_amount"          "3 5 7 9"
      }
    }

    "OnSpellStart"
    {
      "RunScript"
      {
        "ScriptFile"        "hero/hero_lina.lua"
        "Function"          "LightStrikeArray"

        "Target"          "POINT"
        "pre_particle"        "particles/units/heroes/hero_lina/lina_spell_light_strike_array_ray_team.vpcf"
        "blast_particle"      "particles/units/heroes/hero_lina/lina_spell_light_strike_array.vpcf"
        "pre_sound"         "Ability.PreLightStrikeArray"
        "blast_sound"       "Ability.LightStrikeArray"
        "hit_modifier"        "modifier_imba_light_strike_array"
      }   
    } 

    "Modifiers"
    {
      "modifier_imba_light_strike_array"
      {
        "IsDebuff"      "1"
        "IsPurgable"    "1"

        "Duration"      "%light_strike_array_stun_duration"
        
        "OnCreated"
        {
          "Damage"
          {
            "Target"  "TARGET"
            "Type"    "DAMAGE_TYPE_MAGICAL"
            "Damage"  "%AbilityDamage"
          }
        }

        "OverrideAnimation" "ACT_DOTA_DISABLED" 

        "EffectName"    "particles/generic_gameplay/generic_stunned.vpcf"
        "EffectAttachType"  "follow_overhead" 

        "States"
        {
          "MODIFIER_STATE_STUNNED"  "MODIFIER_STATE_VALUE_ENABLED"
        }
      }
    }
  }

  //=================================================================================================================
  // Lina's Fiery Soul
  //=================================================================================================================
  "imba_lina_fiery_soul"
  {
    // General
    //-------------------------------------------------------------------------------------------------------------
    "BaseClass"           "ability_datadriven"
    "AbilityBehavior"       "DOTA_ABILITY_BEHAVIOR_NO_TARGET | DOTA_ABILITY_BEHAVIOR_IMMEDIATE"

    "AbilityTextureName"      "lina_fiery_soul"

    // Time   
    //-------------------------------------------------------------------------------------------------------------
    "AbilityCooldown"       "0.0"
    "AbilityCastPoint"        "0.0"
    
    // Cost
    //-------------------------------------------------------------------------------------------------------------
    "AbilityManaCost"       "0"

    // Precache
    //-------------------------------------------------------------------------------------------------------------
    "precache"
    {
      "soundfile"         "soundevents/game_sounds_heroes/game_sounds_clinkz.vsndevts"
    }
    
    // Special
    //-------------------------------------------------------------------------------------------------------------
    "AbilitySpecial"
    {
      "01"
      {
        "var_type"            "FIELD_INTEGER"
        "fiery_soul_attack_speed_bonus" "40 60 80 100"
      }
      "02"
      {
        "var_type"            "FIELD_INTEGER"
        "fiery_soul_move_speed_bonus" "5 6 7 8"
      }
      "03"
      {
        "var_type"            "FIELD_INTEGER"
        "fiery_soul_max_stacks"     "3"
      }
      "04"
      {
        "var_type"            "FIELD_INTEGER"
        "fiery_soul_duration"     "10"
      }
      "05"
      {
        "var_type"            "FIELD_INTEGER"
        "max_attack_speed_bonus"    "120 180 240 300"
      }
      "06"
      {
        "var_type"            "FIELD_INTEGER"
        "max_move_speed_bonus"      "15 18 21 24"
      }
    }

    "OnSpellStart"
    { 
      "RunScript"
      {
        "ScriptFile"          "hero/hero_lina.lua"
        "Function"            "FierySoulActivate"

        "activate_sound"        "Hero_Clinkz.Strafe"
        "dragon_slave"          "imba_lina_dragon_slave"
        "dragon_slave_fiery"      "imba_lina_dragon_slave_fiery"
        "light_strike_array"      "imba_lina_light_strike_array"
        "light_strike_array_fiery"    "imba_lina_light_strike_array_fiery"
        "fiery_soul"          "imba_lina_fiery_soul"
        "blazing_soul"          "imba_lina_blazing_soul"
        "laguna_blade"          "imba_lina_laguna_blade"
        "laguna_blade_fiery"      "imba_lina_laguna_blade_fiery"
      }
    }
  
    "Modifiers"
    {
      "modifier_imba_fiery_soul"
      {
        "IsHidden"            "0"
        "IsPurgable"          "0"
        "Duration"            "%fiery_soul_duration"

        "Properties"
        {
          "MODIFIER_PROPERTY_ATTACKSPEED_BONUS_CONSTANT"  "%fiery_soul_attack_speed_bonus"
          "MODIFIER_PROPERTY_MOVESPEED_BONUS_PERCENTAGE"  "%fiery_soul_move_speed_bonus"
        }
      }

      "modifier_imba_fiery_soul_active"
      {
        "IsHidden"            "0"
        "IsPurgable"          "0"
        "Duration"            "%fiery_soul_duration"
        "TextureName"         "lina_fiery_soul_fiery"

        "OnDestroy"
        {
          "RunScript"
          {
            "ScriptFile"          "hero/hero_lina.lua"
            "Function"            "FierySoulEnd"

            "dragon_slave"          "imba_lina_dragon_slave"
            "dragon_slave_fiery"      "imba_lina_dragon_slave_fiery"
            "light_strike_array"      "imba_lina_light_strike_array"
            "light_strike_array_fiery"    "imba_lina_light_strike_array_fiery"
            "fiery_soul"          "imba_lina_fiery_soul"
            "blazing_soul"          "imba_lina_blazing_soul"
            "laguna_blade"          "imba_lina_laguna_blade"
            "laguna_blade_fiery"      "imba_lina_laguna_blade_fiery"
          }
        }

        "Properties"
        {
          "MODIFIER_PROPERTY_ATTACKSPEED_BONUS_CONSTANT"  "%max_attack_speed_bonus"
          "MODIFIER_PROPERTY_MOVESPEED_BONUS_PERCENTAGE"  "%max_move_speed_bonus"
        }
      }
    }
  }

  //=================================================================================================================
  // Lina's Blazing Soul
  //=================================================================================================================
  "imba_lina_blazing_soul"
  {
    // General
    //-------------------------------------------------------------------------------------------------------------
    "BaseClass"           "ability_datadriven"
    "AbilityBehavior"       "DOTA_ABILITY_BEHAVIOR_PASSIVE"

    "AbilityTextureName"      "lina_fiery_soul_fiery"

    // Precache
    //-------------------------------------------------------------------------------------------------------------
    "precache"
    {
      "soundfile"         "soundevents/game_sounds_heroes/game_sounds_clinkz.vsndevts"
    }
    
    // Special
    //-------------------------------------------------------------------------------------------------------------
    "AbilitySpecial"
    {
      "01"
      {
        "var_type"            "FIELD_INTEGER"
        "fiery_soul_attack_speed_bonus" "40 60 80 100"
      }
      "02"
      {
        "var_type"            "FIELD_INTEGER"
        "fiery_soul_move_speed_bonus" "5 6 7 8"
      }
      "03"
      {
        "var_type"            "FIELD_INTEGER"
        "fiery_soul_max_stacks"     "3"
      }
      "04"
      {
        "var_type"            "FIELD_INTEGER"
        "fiery_soul_duration"     "10"
      }
      "05"
      {
        "var_type"            "FIELD_INTEGER"
        "max_attack_speed_bonus"    "120 180 240 300"
      }
      "06"
      {
        "var_type"            "FIELD_INTEGER"
        "max_move_speed_bonus"      "15 18 21 24"
      }
    }

    "OnSpellStart"
    {
      "RunScript"
      {
        "ScriptFile"          "hero/hero_lina.lua"
        "Function"            "FierySoulActivate"

        "activate_sound"        "Hero_Clinkz.Strafe"
        "dragon_slave"          "imba_lina_dragon_slave"
        "dragon_slave_fiery"      "imba_lina_dragon_slave_fiery"
        "light_strike_array"      "imba_lina_light_strike_array"
        "light_strike_array_fiery"    "imba_lina_light_strike_array_fiery"
        "fiery_soul"          "imba_lina_fiery_soul"
        "blazing_soul"          "imba_lina_blazing_soul"
        "laguna_blade"          "imba_lina_laguna_blade"
        "laguna_blade_fiery"      "imba_lina_laguna_blade_fiery"
      }
    }
  
    "Modifiers"
    {
      "modifier_imba_fiery_soul"
      {
        "IsHidden"            "0"
        "IsPurgable"          "0"
        "Duration"            "%fiery_soul_duration"

        "Properties"
        {
          "MODIFIER_PROPERTY_ATTACKSPEED_BONUS_CONSTANT"  "%fiery_soul_attack_speed_bonus"
          "MODIFIER_PROPERTY_MOVESPEED_BONUS_PERCENTAGE"  "%fiery_soul_move_speed_bonus"
        }
      }

      "modifier_imba_fiery_soul_active"
      {
        "IsHidden"            "0"
        "IsPurgable"          "0"
        "Duration"            "%fiery_soul_duration"
        "TextureName"         "lina_fiery_soul_fiery"

        "OnDestroy"
        {
          "RunScript"
          {
            "ScriptFile"          "hero/hero_lina.lua"
            "Function"            "FierySoulEnd"

            "dragon_slave"          "imba_lina_dragon_slave"
            "dragon_slave_fiery"      "imba_lina_dragon_slave_fiery"
            "light_strike_array"      "imba_lina_light_strike_array"
            "light_strike_array_fiery"    "imba_lina_light_strike_array_fiery"
            "fiery_soul"          "imba_lina_fiery_soul"
            "blazing_soul"          "imba_lina_blazing_soul"
            "laguna_blade"          "imba_lina_laguna_blade"
            "laguna_blade_fiery"      "imba_lina_laguna_blade_fiery"
          }
        }

        "Properties"
        {
          "MODIFIER_PROPERTY_ATTACKSPEED_BONUS_CONSTANT"  "%max_attack_speed_bonus"
          "MODIFIER_PROPERTY_MOVESPEED_BONUS_PERCENTAGE"  "%max_move_speed_bonus"
        }
      }
    }
  }

  //=================================================================================================================
  // Lina's Laguna Blade
  //=================================================================================================================
  "imba_lina_laguna_blade"
  {
    // General
    //-------------------------------------------------------------------------------------------------------------
    "BaseClass"           "ability_datadriven"
    "AbilityType"         "DOTA_ABILITY_TYPE_ULTIMATE"
    "AbilityBehavior"       "DOTA_ABILITY_BEHAVIOR_UNIT_TARGET"
    "AbilityUnitTargetTeam"     "DOTA_UNIT_TARGET_TEAM_ENEMY"
    "AbilityUnitTargetType"     "DOTA_UNIT_TARGET_HERO | DOTA_UNIT_TARGET_BASIC"
    "AbilityUnitTargetFlags"    "DOTA_UNIT_TARGET_FLAG_MAGIC_IMMUNE_ENEMIES"
    "SpellImmunityType"       "SPELL_IMMUNITY_ENEMIES_NO" 
    "AbilityUnitDamageType"     "DAMAGE_TYPE_MAGICAL"
    "FightRecapLevel"       "2"
    "AbilityTextureName"      "lina_laguna_blade"

    // Precache
    //-------------------------------------------------------------------------------------------------------------
    "precache"
    {
      "soundfile"         "soundevents/game_sounds_heroes/game_sounds_lina.vsndevts"
      "particle"          "particles/units/heroes/hero_lina/lina_spell_laguna_blade.vpcf"
    }
    
    // Casting
    //-------------------------------------------------------------------------------------------------------------
    "AbilityCastRange"        "700 850 1000"
    "AbilityCastPoint"        "0.35"  

    // Time   
    //-------------------------------------------------------------------------------------------------------------
    "AbilityCooldown"       "70.0 60.0 50.0"  

    // Cost
    //-------------------------------------------------------------------------------------------------------------
    "AbilityManaCost"       "280 420 560"

    // Special
    //-------------------------------------------------------------------------------------------------------------
    "AbilitySpecial"
    {
      "01"
      {
        "var_type"          "FIELD_INTEGER"
        "damage"          "450 700 950"
      }
      "02"
      {
        "var_type"          "FIELD_INTEGER"
        "cast_range"        "700 850 1000"
      }
      "03"
      {
        "var_type"          "FIELD_INTEGER"
        "cast_range_scepter"    "1100"
      }
      "04"
      {
        "var_type"          "FIELD_FLOAT"
        "int_multiplier_scepter"  "2.0"
      }
      "05"
      {
        "var_type"          "FIELD_INTEGER"
        "projectile_speed"      "2800"
      }
      "06"
      {
        "var_type"          "FIELD_INTEGER"
        "start_width"       "100"
      }
      "07"
      {
        "var_type"          "FIELD_INTEGER"
        "end_width"         "175"
      }
    }

    "OnSpellStart"
    {
      "FireSound"
      {
        "EffectName"      "Ability.LagunaBlade"
        "Target"        "CASTER"
      }

      "RunScript"
      {
        "ScriptFile"      "hero/hero_lina.lua"
        "Function"        "LagunaBladeProjectile"

        "Target"        "TARGET"
      }

      "RunScript"
      {
        "ScriptFile"      "hero/hero_lina.lua"
        "Function"        "FierySoul"
      }
    }

    "OnProjectileHitUnit"
    {
      "DeleteOnHit"     "0"
      
      "FireSound"
      {
        "EffectName"    "Ability.LagunaBladeImpact"
        "Target"      "TARGET"
      }

      "FireEffect"
      {
        "EffectName"    "particles/units/heroes/hero_lina/lina_spell_laguna_blade.vpcf"
        "EffectAttachType"  "start_at_customorigin"

        "ControlPointEntities"
        {
          "CASTER"    "attach_attack1"
          "TARGET"    "attach_hitloc"
        }
      }

      "RunScript"
      {
        "ScriptFile"    "hero/hero_lina.lua"
        "Function"      "LagunaBladeDamage"
        "Target"      "TARGET"
      }
    }
  }

  //=================================================================================================================
  // Lina's Laguna Blade (Blazing Soul mode)
  //=================================================================================================================
  "imba_lina_laguna_blade_fiery"
  {
    // General
    //-------------------------------------------------------------------------------------------------------------
    "BaseClass"           "ability_datadriven"
    "AbilityType"         "DOTA_ABILITY_TYPE_ULTIMATE"
    "AbilityBehavior"       "DOTA_ABILITY_BEHAVIOR_UNIT_TARGET"
    "AbilityUnitTargetTeam"     "DOTA_UNIT_TARGET_TEAM_ENEMY"
    "AbilityUnitTargetType"     "DOTA_UNIT_TARGET_HERO | DOTA_UNIT_TARGET_BASIC"
    "AbilityUnitTargetFlags"    "DOTA_UNIT_TARGET_FLAG_MAGIC_IMMUNE_ENEMIES"
    "SpellImmunityType"       "SPELL_IMMUNITY_ENEMIES_NO" 
    "AbilityUnitDamageType"     "DAMAGE_TYPE_MAGICAL"
    "FightRecapLevel"       "2"
    "AbilityTextureName"      "lina_laguna_blade_fiery"

    // Precache
    //-------------------------------------------------------------------------------------------------------------
    "precache"
    {
      "soundfile"         "soundevents/game_sounds_heroes/game_sounds_lina.vsndevts"
      "particle"          "particles/units/heroes/hero_lina/lina_spell_laguna_blade.vpcf"
    }
    
    // Casting
    //-------------------------------------------------------------------------------------------------------------
    "AbilityCastRange"        "700 850 1000"
    "AbilityCastPoint"        "0.25"  

    // Time   
    //-------------------------------------------------------------------------------------------------------------
    "AbilityCooldown"       "3.0 2.0 1.0" 

    // Cost
    //-------------------------------------------------------------------------------------------------------------
    "AbilityManaCost"       "700 1050 1400"

    // Special
    //-------------------------------------------------------------------------------------------------------------
    "AbilitySpecial"
    {
      "01"
      {
        "var_type"          "FIELD_INTEGER"
        "damage"          "450 700 950"
      }
      "02"
      {
        "var_type"          "FIELD_INTEGER"
        "cast_range"        "700 850 1000"
      }
      "03"
      {
        "var_type"          "FIELD_INTEGER"
        "cast_range_scepter"    "1100"
      }
      "04"
      {
        "var_type"          "FIELD_FLOAT"
        "int_multiplier_scepter"  "2.0"
      }
      "05"
      {
        "var_type"          "FIELD_INTEGER"
        "projectile_speed"      "2800"
      }
      "06"
      {
        "var_type"          "FIELD_INTEGER"
        "start_width"       "100"
      }
      "07"
      {
        "var_type"          "FIELD_INTEGER"
        "end_width"         "175"
      }
    }

    "OnSpellStart"
    {
      "FireSound"
      {
        "EffectName"      "Ability.LagunaBlade"
        "Target"        "CASTER"
      }

      "RunScript"
      {
        "ScriptFile"      "hero/hero_lina.lua"
        "Function"        "LagunaBladeProjectile"

        "Target"        "TARGET"
      }
    }

    "OnProjectileHitUnit"
    {
      "DeleteOnHit"     "0"
      
      "FireSound"
      {
        "EffectName"    "Ability.LagunaBladeImpact"
        "Target"      "TARGET"
      }

      "FireEffect"
      {
        "EffectName"    "particles/units/heroes/hero_lina/lina_spell_laguna_blade.vpcf"
        "EffectAttachType"  "start_at_customorigin"

        "ControlPointEntities"
        {
          "CASTER"    "attach_attack1"
          "TARGET"    "attach_hitloc"
        }
      }

      "RunScript"
      {
        "ScriptFile"    "hero/hero_lina.lua"
        "Function"      "LagunaBladeDamage"
        "Target"      "TARGET"
      }
    }
  }

  //=================================================================================================================
  // Mirana's Starfall
  //=================================================================================================================
  "imba_mirana_starfall"
  {
    // General
    //-------------------------------------------------------------------------------------------------------------
    "BaseClass"           "ability_datadriven"
    "AbilityBehavior"       "DOTA_ABILITY_BEHAVIOR_NO_TARGET | DOTA_ABILITY_BEHAVIOR_IGNORE_BACKSWING"
    "AbilityUnitTargetTeam"     "DOTA_UNIT_TARGET_TEAM_ENEMY"
    "AbilityUnitTargetType"     "DOTA_UNIT_TARGET_HERO | DOTA_UNIT_TARGET_BASIC"
    "AbilityUnitDamageType"     "DAMAGE_TYPE_MAGICAL" 
    "SpellImmunityType"       "SPELL_IMMUNITY_ENEMIES_NO"
    "FightRecapLevel"       "1"
    "AbilityTextureName"      "mirana_starfall" 

    // Precache
    //-------------------------------------------------------------------------------------------------------------
    "precache"
    {
      "soundfile"         "soundevents/game_sounds_heroes/game_sounds_mirana.vsndevts"
      "particle"          "particles/units/heroes/hero_mirana/mirana_starfall_attack.vpcf"
      "particle"          "particles/units/heroes/hero_mirana/mirana_starfall_circle.vpcf"
    }
    
    // Casting
    //-------------------------------------------------------------------------------------------------------------
    "AbilityCastPoint"        "0.4"
    "AbilityCastRange"        "700 800 900 1000"

    // Time   
    //-------------------------------------------------------------------------------------------------------------
    "AbilityCooldown"       "12.0"

    // Cost
    //-------------------------------------------------------------------------------------------------------------
    "AbilityManaCost"       "100 120 140 160" 

    // Special
    //-------------------------------------------------------------------------------------------------------------
    "AbilitySpecial"
    {
      "01"
      {
        "var_type"        "FIELD_INTEGER"
        "radius"        "1000 1200 400 1600"    
      }
      "02"
      {
        "var_type"        "FIELD_FLOAT"
        "hit_delay"       "0.40"
      }
      "03"
      {
        "var_type"        "FIELD_INTEGER"
        "damage"        "150 200 250 300"
      }
      "04"
      {
        "var_type"        "FIELD_INTEGER"
        "secondary_damage"    "75 100 125 150"
      }
      "05"
      {
        "var_type"        "FIELD_INTEGER"
        "secondary_count"   "5 6 7 8"
      }
      "06"
      {
        "var_type"        "FIELD_FLOAT"
        "secondary_delay"   "0.4"
      }
    } 

    "OnSpellStart"
    {
      "FireSound"
      {
        "EffectName"      "Ability.Starfall"
        "Target"        "CASTER"
      } 

      "FireEffect"
      {
        "EffectName"      "particles/units/heroes/hero_mirana/mirana_starfall_circle.vpcf"
        "EffectAttachType"    "attach_origin"
        "Target"        "CASTER"
      }

      "ActOnTargets"
      {
        "Target"
              {
                  "Center"      "CASTER"
                  "Radius"      "%radius"
                  "Teams"       "DOTA_UNIT_TARGET_TEAM_ENEMY" 
                  "Types"       "DOTA_UNIT_TARGET_HERO | DOTA_UNIT_TARGET_BASIC"
              } 

              "Action"
              {
                "FireEffect"
                {
                  "EffectName"      "particles/units/heroes/hero_mirana/mirana_starfall_attack.vpcf"
                  "EffectAttachType"    "follow_origin"
                  "Target"        "TARGET"
                } 

                "DelayedAction"
                {
                  "Delay"     "%hit_delay"  

                  "Action"
                  { 
                    "FireSound"
                    {
                      "EffectName"  "Ability.StarfallImpact"
                      "Target"    "TARGET"
                    } 

                    "Damage"
                    {
                      "Target"    "TARGET"
                      "Type"      "DAMAGE_TYPE_MAGICAL"
                      "Damage"    "%damage"
                    }
                  }
                }
              }
      } 

      "RunScript"
      {
        "ScriptFile"    "hero/hero_mirana.lua"
        "Function"      "Starfall"

        "ambient_sound"   "Ability.Starfall"
        "hit_sound"     "Ability.StarfallImpact"
        "ambient_particle"  "particles/units/heroes/hero_mirana/mirana_starfall_circle.vpcf"
        "hit_particle"    "particles/units/heroes/hero_mirana/mirana_starfall_attack.vpcf"
      }
    }
  }

  //=================================================================================================================
  // Mirana's Sacred Arrow
  //=================================================================================================================
  "imba_mirana_arrow" 
  {
    // General
    //-------------------------------------------------------------------------------------------------------------
    "BaseClass"           "ability_datadriven"
    "AbilityBehavior"       "DOTA_ABILITY_BEHAVIOR_POINT | DOTA_ABILITY_BEHAVIOR_IGNORE_BACKSWING"
    "AbilityUnitTargetTeam"     "DOTA_UNIT_TARGET_TEAM_ENEMY"
    "AbilityUnitTargetType"     "DOTA_UNIT_TARGET_HERO | DOTA_UNIT_TARGET_BASIC"
    "AbilityUnitDamageType"     "DAMAGE_TYPE_MAGICAL" 
    "SpellImmunityType"       "SPELL_IMMUNITY_ENEMIES_NO"
    "FightRecapLevel"       "1"
    "AbilityTextureName"      "mirana_arrow"  

    // Precache
    //-------------------------------------------------------------------------------------------------------------
    "precache"
    {
      "soundfile"         "soundevents/game_sounds_heroes/game_sounds_mirana.vsndevts"
      "particle"          "particles/units/heroes/hero_mirana/mirana_spell_arrow.vpcf"
    }
    
    // Casting
    //-------------------------------------------------------------------------------------------------------------
    "AbilityCastRange"        "25000"
    "AbilityCastPoint"        "0.4" 

    // Time   
    //-------------------------------------------------------------------------------------------------------------
    "AbilityCooldown"       "17.0"

    // Cost
    //-------------------------------------------------------------------------------------------------------------
    "AbilityManaCost"       "100" 

    // Special
    //-------------------------------------------------------------------------------------------------------------
    "AbilitySpecial"
    {
      "01"
      {
        "var_type"        "FIELD_FLOAT"
        "arrow_speed"     "1500.0"
      }
      "02"
      {
        "var_type"        "FIELD_INTEGER"
        "arrow_width"     "115"
      }
      "03"
      {
        "var_type"        "FIELD_INTEGER"
        "arrow_max_stunrange" "3000"
      }
      "04"
      {
        "var_type"        "FIELD_FLOAT"
        "arrow_min_stun"    "1 1.5 2 2.5"
      }
      "05"
      {
        "var_type"        "FIELD_FLOAT"
        "arrow_max_stun"    "10.0"
      }
      "06"
      {
        "var_type"        "FIELD_INTEGER"
        "arrow_bonus_damage"  "70 90 110 130"
      }
      "07"
      {
        "var_type"        "FIELD_INTEGER"
        "arrow_vision"      "750"
      }
      "08"
      {
        "var_type"        "FIELD_FLOAT"
        "vision_duration"   "3.0"
      }
      "09"
      {
        "var_type"        "FIELD_INTEGER"
        "base_damage"     "50 140 230 320"
      }
    }

    "OnSpellStart"
    {
      "RunScript"
      {
        "ScriptFile"      "hero/hero_mirana.lua"
        "Function"        "LaunchArrow"
        "Target"          "POINT"
        "particle"        "particles/units/heroes/hero_mirana/mirana_spell_arrow.vpcf"

        "sound_arrow"     "Hero_Mirana.ArrowImpact"
      } 

      "FireSound"
      {
        "EffectName"      "Hero_Mirana.ArrowCast"
        "Target"        "CASTER"
      }
    }

    "OnProjectileHitUnit"
    {
      "Stun"
      {
        "Duration" "%arrow_min_stun"
        "Target"   "TARGET"
      }

      "Damage"
      {
        "Target"    "TARGET"
        "Type"      "DAMAGE_TYPE_MAGICAL"
        "Damage"    "%base_damage"
      }
    }
  }
  
  
  //=================================================================================================================
  // Mirana's Leap
  //=================================================================================================================
  "imba_mirana_leap"
  {
    // General
    //-------------------------------------------------------------------------------------------------------------
    "BaseClass"           "ability_datadriven"
    "AbilityBehavior"       "DOTA_ABILITY_BEHAVIOR_POINT | DOTA_ABILITY_BEHAVIOR_IGNORE_BACKSWING"
    "AbilityUnitTargetTeam"     "DOTA_UNIT_TARGET_TEAM_FRIENDLY"
    "AbilityUnitTargetType"     "DOTA_UNIT_TARGET_HERO | DOTA_UNIT_TARGET_BASIC"
    "AbilityTextureName"      "mirana_leap" 

    // Precache
    //-------------------------------------------------------------------------------------------------------------
    "precache"
    {
      "soundfile"         "soundevents/game_sounds_heroes/game_sounds_mirana.vsndevts"
    }
    
    // Casting
    //-------------------------------------------------------------------------------------------------------------
    "AbilityCastRange"        "25000"

    // Time   
    //-------------------------------------------------------------------------------------------------------------
    "AbilityCooldown"       "18.0 16.0 14.0 12.0" 

    // Cost
    //-------------------------------------------------------------------------------------------------------------
    "AbilityManaCost"       "0" 

    // Special
    //-------------------------------------------------------------------------------------------------------------
    "AbilitySpecial"
    {
      "01"
      {
        "var_type"        "FIELD_INTEGER"
        "leap_distance"     "1600 1800 2000 2200"
      }
      "02"
      {
        "var_type"        "FIELD_FLOAT"
        "leap_speed"      "1900.0"
      }
      "03"
      {
        "var_type"        "FIELD_FLOAT"
        "leap_acceleration"   "7000.0"
      }
      "04"
      {
        "var_type"        "FIELD_INTEGER"
        "leap_radius"     "1500"
      }
      "05"
      {
        "var_type"        "FIELD_INTEGER"
        "leap_speedbonus"   "25 50 75 100"
      }
      "06"
      {
        "var_type"        "FIELD_INTEGER"
        "leap_speedbonus_as"  "20 30 40 50"
      }
      "07"
      {
        "var_type"        "FIELD_FLOAT"
        "leap_duration"     "10.0"
      }
      "08"
      {
        "var_type"        "FIELD_FLOAT"
        "leap_time"       "0.5"
      }
    } 

    "OnSpellStart"
    {
      "FireSound"
      {
        "EffectName"      "Ability.Leap"
        "Target"        "CASTER"
      }
      
      "RunScript"
      {
        "ScriptFile"      "hero/hero_mirana.lua"
        "Function"        "Leap"

        "Target"        "POINT"
        "root_modifier"     "modifier_imba_leap_self_root"
      }

      "ActOnTargets"
      {
        "Target"
              {
                  "Center"      "CASTER"
                  "Radius"      "%leap_radius"
                  "Teams"       "DOTA_UNIT_TARGET_TEAM_FRIENDLY" 
                  "Types"       "DOTA_UNIT_TARGET_HERO | DOTA_UNIT_TARGET_BASIC"
              } 

              "Action"
              {
                "ApplyModifier"
                {
                  "ModifierName"  "modifier_imba_leap"
                  "Target"    "TARGET"
                }
              }
      } 

      "DelayedAction"
      {
        "Delay"         "%leap_time"  

        "Action"
        {
          "ActOnTargets"
          {
            "Target"
                  {
                      "Center"  "CASTER"
                      "Radius"  "%leap_radius"
                      "Teams"   "DOTA_UNIT_TARGET_TEAM_FRIENDLY" 
                      "Types"   "DOTA_UNIT_TARGET_HERO | DOTA_UNIT_TARGET_BASIC"
                  } 

                  "Action"
                  {
                    "ApplyModifier"
                    {
                      "ModifierName"  "modifier_imba_leap"
                      "Target"    "TARGET"
                    }
                  }
          }
        }
      }
    } 

    "Modifiers"
    {
      "modifier_imba_leap"
      {
        "Duration"        "%leap_duration"  

        "Properties"
        {
          "MODIFIER_PROPERTY_ATTACKSPEED_BONUS_CONSTANT"  "%leap_speedbonus_as"
          "MODIFIER_PROPERTY_MOVESPEED_BONUS_PERCENTAGE"  "%leap_speedbonus"
        }
      }

      "modifier_imba_leap_self_root"
      {
        "IsHidden"        "1"
        "IsPurgable"      "0"
        "IsDebuff"        "1"

        "States"
        {
          "MODIFIER_STATE_ROOTED"   "MODIFIER_STATE_VALUE_ENABLED"
        }
      }
    }
  }

  //=================================================================================================================
  // Mirana's Moonlight Shadow
  //=================================================================================================================
  "imba_mirana_invis"
  {
    // General
    //-------------------------------------------------------------------------------------------------------------
    "BaseClass"           "ability_datadriven"
    "AbilityType"         "DOTA_ABILITY_TYPE_ULTIMATE"
    "AbilityBehavior"       "DOTA_ABILITY_BEHAVIOR_NO_TARGET | DOTA_ABILITY_BEHAVIOR_DONT_RESUME_ATTACK | DOTA_ABILITY_BEHAVIOR_IGNORE_BACKSWING"
    "AbilityUnitTargetTeam"     "DOTA_UNIT_TARGET_TEAM_FRIENDLY"
    "AbilityUnitTargetType"     "DOTA_UNIT_TARGET_HERO"
    "FightRecapLevel"       "2"
    "AbilityTextureName"      "mirana_invis"  

    // Precache
    //-------------------------------------------------------------------------------------------------------------
    "precache"
    {
      "soundfile"         "soundevents/game_sounds_heroes/game_sounds_mirana.vsndevts"
      "particle"          "particles/units/heroes/hero_mirana/mirana_moonlight_cast.vpcf"
      "particle"          "particles/units/heroes/hero_mirana/mirana_moonlight_owner.vpcf"
      "particle"          "particles/units/heroes/hero_mirana/mirana_moonlight_ray.vpcf"
    }
    
    // Casting
    //-------------------------------------------------------------------------------------------------------------
    "AbilityCastPoint"        "0.4" 

    // Time   
    //-------------------------------------------------------------------------------------------------------------
    "AbilityCooldown"       "140.0 120.0 100.0" 

    // Cost
    //-------------------------------------------------------------------------------------------------------------
    "AbilityManaCost"       "75"  

    // Special
    //-------------------------------------------------------------------------------------------------------------
    "AbilitySpecial"
    {
      "01"
      {
        "var_type"        "FIELD_FLOAT"
        "fade_delay"      "1.2 1.0 0.8"
      }
      "02"
      {
        "var_type"        "FIELD_FLOAT"
        "duration"        "15.0"
      }
      "03"
      {
        "var_type"        "FIELD_INTEGER"
        "global_radius"     "25000"
      }
    } 

    "OnAbilityPhaseStart"
    {
      "FireEffect"
      {
        "EffectName"      "particles/units/heroes/hero_mirana/mirana_moonlight_cast.vpcf"
        "EffectAttachType"    "follow_origin"
        "Target"        "CASTER"
      }
    } 

    "OnSpellStart"
    {
      "ActOnTargets"
      {
        "Target"
              {
                  "Center"      "CASTER"
                  "Radius"      "%global_radius"
                  "Teams"       "DOTA_UNIT_TARGET_TEAM_FRIENDLY" 
                  "Types"       "DOTA_UNIT_TARGET_HERO"
              } 

              "Action"
              {
                "ApplyModifier"
                {
                  "ModifierName"  "modifier_imba_moonlight_duration"
                  "Target"    "TARGET"
                  "Duration"    "%duration"
                }

                "ApplyModifier"
                {
                  "ModifierName"  "modifier_imba_moonlight_fade"
                  "Target"    "TARGET"
                } 

                "FireEffect"
                {
                  "EffectName"    "particles/units/heroes/hero_mirana/mirana_moonlight_ray.vpcf"
                  "EffectAttachType"  "follow_origin"
                  "Target"      "TARGET"
                }
              }
          } 

          "ApplyModifier"
          {
            "ModifierName"      "modifier_imba_moonlight_cast"
            "Target"        "CASTER"
            "Duration"        "%duration"
          }

          "FireSound"
          {
            "EffectName"      "Ability.MoonlightShadow"
            "Target"        "CASTER"
          }
    } 
  

    "Modifiers"
    {
      "modifier_imba_moonlight_duration"
      {
        "IsHidden"        "0"
        "IsPurgable"      "0"
        "IsBuff"        "1"
        "Passive"       "0"

        "EffectName"      "particles/units/heroes/hero_mirana/mirana_moonlight_owner.vpcf"
        "EffectAttachType"    "follow_overhead"
        
        "OnAttack"
        {
          "ApplyModifier"
          {
            "ModifierName"  "modifier_imba_moonlight_fade"
            "Target"    "ATTACKER"
          }
        } 

        "OnAbilityExecuted"
        {
          "ApplyModifier"
          {
            "ModifierName"  "modifier_imba_moonlight_fade"
            "Target"    "UNIT"
          }
        } 

        "OnDestroy"
        {
          "RemoveModifier"
          {
            "ModifierName"  "modifier_imba_moonlight_fade"
            "Target"
            {
              "Center"  "TARGET"
              "Flags"   "DOTA_UNIT_TARGET_FLAG_DEAD"
            }
          } 

          "RemoveModifier"
          {
            "ModifierName"  "modifier_imba_moonlight_invis"
            "Target"
            {
              "Center"  "TARGET"
              "Flags"   "DOTA_UNIT_TARGET_FLAG_DEAD"
            }
          }
        }
      } 

      "modifier_imba_moonlight_fade"
      {
        "IsHidden"        "1"
        "IsPurgable"      "0"
        "IsBuff"        "1"
        "Passive"       "0"

        "Duration"        "%fade_delay"

        "OnCreated"
        {
          "RemoveModifier"
          {
            "ModifierName"  "modifier_imba_moonlight_invis"
            "Target"    "TARGET"
          }
        }

        "OnDestroy"
        {
          "ApplyModifier"
          {
            "ModifierName"  "modifier_imba_moonlight_invis"
            "Target"    "TARGET"
          }
        }
      } 

      "modifier_imba_moonlight_invis"
      {
        "IsHidden"        "1"

        "OnCreated"
        {
          "ApplyModifier"
          {
            "ModifierName"  "modifier_invisible"
            "Target"    "TARGET"
          }
        } 

        "OnDestroy"
        {
          "RemoveModifier"
          {
            "ModifierName"  "modifier_invisible"
            "Target"
            {
              "Center"  "TARGET"
              "Flags"   "DOTA_UNIT_TARGET_FLAG_DEAD"
            }
          }
        } 

        "States"
        {
          "MODIFIER_STATE_INVISIBLE"  "MODIFIER_STATE_VALUE_ENABLED"
          "MODIFIER_STATE_FLYING"     "MODIFIER_STATE_VALUE_ENABLED"
        }
      }

      "modifier_imba_moonlight_scepter_aura"
      {
        "IsHidden"        "1"
        "Passive"       "1"
        "IsBuff"        "1"
        "IsPurgable"      "0"

        "Aura"              "modifier_imba_moonlight_scepter"
        "Aura_Radius"       "%global_radius"
        "Aura_Teams"        "DOTA_UNIT_TARGET_TEAM_FRIENDLY"
        "Aura_Types"        "DOTA_UNIT_TARGET_HERO"
        "Aura_ApplyToCaster"  "1"

        "OnCreated"
        {
          "RunScript"
          {
            "ScriptFile"  "internal/util.lua"
            "Function"    "IllusionPassiveRemover"

            "modifier"    "modifier_imba_moonlight_scepter_aura"
          }
        }
      }

      "modifier_imba_moonlight_scepter"
      {
        "IsHidden"        "1"
        "Passive"       "0"
        "IsBuff"        "1"
        "IsPurgable"      "0"

        "ThinkInterval"     "1.0"

        "OnIntervalThink"
        {
          "RunScript"
          {
            "ScriptFile"  "hero/hero_mirana.lua"
            "Function"    "MoonlightScepter"

            "Target"    "TARGET"
            "modifier"    "modifier_imba_moonlight_duration"
            "fade_modifier" "modifier_imba_moonlight_fade"
            "cast_modifier" "modifier_imba_moonlight_cast"
          }
        }
      }

      "modifier_imba_moonlight_cast"
      {
        "IsHidden"        "1"
        "Passive"       "0"
        "IsBuff"        "1"
        "IsPurgable"      "0"
      }
    }
  }

  //=================================================================================================================
  // Necrolyte's Death Pulse
  //=================================================================================================================
  "imba_necrolyte_death_pulse"
  {
    // General
    //-------------------------------------------------------------------------------------------------------------
    "BaseClass"           "ability_datadriven"
    "AbilityBehavior"       "DOTA_ABILITY_BEHAVIOR_TOGGLE | DOTA_ABILITY_BEHAVIOR_IGNORE_BACKSWING"
    "AbilityUnitTargetTeam"     "DOTA_UNIT_TARGET_TEAM_BOTH"
    "AbilityUnitTargetType"     "DOTA_UNIT_TARGET_HERO | DOTA_UNIT_TARGET_BASIC"
    "AbilityUnitDamageType"     "DAMAGE_TYPE_MAGICAL" 
    "SpellImmunityType"       "SPELL_IMMUNITY_ENEMIES_NO"
    "FightRecapLevel"       "1"
    "AbilityTextureName"      "necrolyte_death_pulse"

    // Precache
    //-------------------------------------------------------------------------------------------------------------
    "precache"
    {
      "soundfile"         "soundevents/game_sounds_heroes/game_sounds_necrolyte.vsndevts"
      "soundfile"         "soundevents/imba_soundevents.vsndevts"
      "particle"          "particles/units/heroes/hero_necrolyte/necrolyte_pulse_enemy.vpcf"
      "particle"          "particles/units/heroes/hero_necrolyte/necrolyte_pulse_friend.vpcf"
    }
    
    // Casting
    //-------------------------------------------------------------------------------------------------------------
    "AbilityCastRange"        "550"
    "AbilityCastPoint"        "0.0"

    // Time   
    //-------------------------------------------------------------------------------------------------------------
    "AbilityCooldown"       "1.0"

    // Cost
    //-------------------------------------------------------------------------------------------------------------
    "AbilityManaCost"       "20 30 40 50"

    // Special
    //-------------------------------------------------------------------------------------------------------------
    "AbilitySpecial"
    {
      "01"
      {
        "var_type"        "FIELD_INTEGER"
        "area_of_effect"    "550"
      }
      "02"
      {
        "var_type"        "FIELD_INTEGER"
        "damage"        "30 45 60 75"
      }
      "03"
      {
        "var_type"        "FIELD_INTEGER"
        "heal"          "30 35 40 45"
      }
      "04"
      {
        "var_type"        "FIELD_INTEGER"
        "stack_power"     "10"
      }
      "05"
      {
        "var_type"        "FIELD_INTEGER"
        "amp_power"       "-10"
      }
      "06"
      {
        "var_type"        "FIELD_FLOAT"
        "stack_duration"    "3.5"
      }
      "07"
      {
        "var_type"        "FIELD_INTEGER"
        "projectile_speed"    "600"
      }
      "08"
      {
        "var_type"        "FIELD_INTEGER"
        "stack_cap"       "5 10 15 20"
      }
      "09"
      {
        "var_type"        "FIELD_FLOAT"
        "cast_cooldown"     "1.0"
      }
      "10"
      {
        "var_type"        "FIELD_INTEGER"
        "cast_mana_cost"    "20 30 40 50"
      }
    }

    "OnToggleOn"
    {
      "RunScript"
      {
        "ScriptFile"      "hero/hero_necrolyte.lua"
        "Function"        "DeathPulse"

        "sound_cast"      "Hero_Necrolyte.DeathPulse"
        "particle_ally"     "particles/units/heroes/hero_necrolyte/necrolyte_pulse_friend.vpcf"
        "particle_enemy"    "particles/units/heroes/hero_necrolyte/necrolyte_pulse_enemy.vpcf"
        "modifier_caster"   "modifier_imba_death_pulse_caster"
        "mana_cost"       "0"
      }
    }

    "OnToggleOff"
    {
      "RunScript"
      {
        "ScriptFile"      "hero/hero_necrolyte.lua"
        "Function"        "DeathPulseEnd"

        "modifier_caster"   "modifier_imba_death_pulse_caster"
      }
    }

    "OnProjectileHitUnit"
    {
      "RunScript"
      {
        "ScriptFile"      "hero/hero_necrolyte.lua"
        "Function"        "DeathPulseHit"

        "stack_buff"      "modifier_imba_death_pulse_buff_stack"
        "stack_debuff"      "modifier_imba_death_pulse_debuff_stack"
      }
    }

    "Modifiers"
    {
      "modifier_imba_death_pulse_caster"
      {
        "Passive"     "0"
        "IsHidden"      "1"
        "IsBuff"      "1"
        "IsPurgable"    "0"

        "ThinkInterval"   "%cast_cooldown"

        "OnIntervalThink"
        {
          "RunScript"
          {
            "ScriptFile"      "hero/hero_necrolyte.lua"
            "Function"        "DeathPulse"

            "sound_cast"      "Imba.NecroDeathPulseRepeat"
            "particle_ally"     "particles/units/heroes/hero_necrolyte/necrolyte_pulse_friend.vpcf"
            "particle_enemy"    "particles/units/heroes/hero_necrolyte/necrolyte_pulse_enemy.vpcf"
            "modifier_caster"   "modifier_imba_death_pulse_caster"
            "mana_cost"       "%cast_mana_cost"
          }
        }
      }

      "modifier_imba_death_pulse_buff_stack"
      {
        "Passive"     "0"
        "IsHidden"      "0"
        "IsBuff"      "1"
        "IsPurgable"    "0"

        "Duration"      "%stack_duration"
      }

      "modifier_imba_death_pulse_debuff_stack"
      {
        "Passive"     "0"
        "IsHidden"      "0"
        "IsDebuff"      "1"
        "IsPurgable"    "0"

        "Duration"      "%stack_duration"

        "Properties"
        {
          "MODIFIER_PROPERTY_MAGICAL_RESISTANCE_BONUS"  "%amp_power"
        }
      }
    }
  }

  //=================================================================================================================
  // Necrolyte's Heartstopper Aura
  //=================================================================================================================
  "imba_necrolyte_heartstopper_aura"
  {
    // General
    //-------------------------------------------------------------------------------------------------------------
    "BaseClass"             "ability_datadriven"
    "AbilityBehavior"         "DOTA_ABILITY_BEHAVIOR_PASSIVE | DOTA_ABILITY_BEHAVIOR_AURA"
    "AbilityUnitTargetTeam"       "DOTA_UNIT_TARGET_TEAM_ENEMY"
    "AbilityUnitTargetType"       "DOTA_UNIT_TARGET_HERO | DOTA_UNIT_TARGET_BASIC"
    "AbilityUnitDamageType"       "DAMAGE_TYPE_HP_REMOVAL"
    "SpellImmunityType"         "SPELL_IMMUNITY_ENEMIES_YES"
    "AbilityTextureName"        "necrolyte_heartstopper_aura"
    
    // Casting
    //-------------------------------------------------------------------------------------------------------------
    "AbilityCastRange"          "750 900 1050 1200"

    // Special
    //-------------------------------------------------------------------------------------------------------------
    "AbilitySpecial"
    {
      "01"
      {
        "var_type"          "FIELD_INTEGER"
        "aura_radius"       "750 900 1050 1200"
      }
      "02"
      {
        "var_type"          "FIELD_FLOAT"
        "aura_damage"       "-0.6 -0.9 -1.2 -1.5" 
      }
      "03"
      {
        "var_type"          "FIELD_INTEGER"
        "stack_power"       "20"
      }
      "04"
      {
        "var_type"          "FIELD_FLOAT"
        "stack_damage"        "-0.12 -0.18 -0.24 -0.30"
      }
      "05"
      {
        "var_type"          "FIELD_INTEGER"
        "max_creep_stacks"      "5"
      }
    }

    "OnUpgrade"
    {
      "RunScript"
      {
        "ScriptFile"        "hero/hero_necrolyte.lua"
        "Function"          "HeartstopperUpdate"

        "modifier_aura"       "modifier_imba_heartstopper_aura"
      }
    }

    "Modifiers"
    {
      "modifier_imba_heartstopper_aura"
      {
        "Passive"           "1"
        "IsBuff"            "1"
        "IsHidden"          "1"
        "IsPurgable"        "0"

        "Aura"              "modifier_imba_heartstopper"
        "Aura_Radius"       "%aura_radius"
        "Aura_Teams"        "DOTA_UNIT_TARGET_TEAM_ENEMY"
        "Aura_Types"        "DOTA_UNIT_TARGET_HERO | DOTA_UNIT_TARGET_BASIC"
        "Aura_Flags"        "DOTA_UNIT_TARGET_FLAG_MAGIC_IMMUNE_ENEMIES | DOTA_UNIT_TARGET_FLAG_NOT_ANCIENTS"
      }

      "modifier_imba_heartstopper"
      {
        "IsDebuff"      "1"
        "IsHidden"      "1"
        "IsPurgable"    "0"
        "Passive"     "0"

        "Properties"
        {
          "MODIFIER_PROPERTY_HEALTH_REGEN_PERCENTAGE"   "%aura_damage"
        }

        "ThinkInterval"       "1.0"

        "OnIntervalThink"
        {
          "RunScript"
          {
            "ScriptFile"    "hero/hero_necrolyte.lua"
            "Function"      "Heartstopper"

            "stack_modifier"  "modifier_imba_heartstopper_stack"
            "visible_modifier"  "modifier_imba_heartstopper_visibility_dummy"
          }
        }

        "OnDestroy"
        {
          "RunScript"
          {
            "ScriptFile"    "hero/hero_necrolyte.lua"
            "Function"      "HeartstopperEnd"

            "stack_modifier"  "modifier_imba_heartstopper_stack"
            "visible_modifier"  "modifier_imba_heartstopper_visibility_dummy"
          }
        }
      }

      "modifier_imba_heartstopper_stack"
      {
        "IsDebuff"      "1"
        "IsHidden"      "1"
        "IsPurgable"    "0"
        "Passive"     "0"

        "Properties"
        {
          "MODIFIER_PROPERTY_HEALTH_REGEN_PERCENTAGE"   "%stack_damage"
        }
      }

      "modifier_imba_heartstopper_visibility_dummy"
      {
        "IsDebuff"      "1"
        "IsHidden"      "0"
        "IsPurgable"    "0"
        "Passive"     "0"
      }
    }
  }

  //=================================================================================================================
  // Necrolyte's Sadist
  //=================================================================================================================
  "imba_necrolyte_sadist"
  {
    // General
    //-------------------------------------------------------------------------------------------------------------
    "BaseClass"           "ability_datadriven"
    "AbilityBehavior"       "DOTA_ABILITY_BEHAVIOR_PASSIVE"
    "AbilityTextureName"      "necrolyte_sadist"
    
    // Casting
    //-------------------------------------------------------------------------------------------------------------
    "AbilityCastRange"        "1200"

    // Special
    //-------------------------------------------------------------------------------------------------------------
    "AbilitySpecial"
    {
      "01"
      {
        "var_type"      "FIELD_INTEGER"
        "mana_regen"    "2 3 4 6"
      }
      "02"
      {
        "var_type"      "FIELD_INTEGER"
        "hero_multiplier" "10"
      }
      "03"
      {
        "var_type"      "FIELD_INTEGER"
        "health_regen"    "1 2 3 4"
      }
      "04"
      {
        "var_type"      "FIELD_FLOAT"
        "regen_duration"  "6.0"
      }
      "04"
      {
        "var_type"      "FIELD_INTEGER"
        "death_radius"    "1200"
      }

    }

    "Modifiers"
    {
      "modifier_imba_sadist_aura"
      {
        "Passive"     "1"
        "IsHidden"      "1"
        "IsBuff"      "1"
        "IsPurgable"    "0"

        "Aura"              "modifier_imba_sadist_debuff"
        "Aura_Radius"       "%death_radius"
        "Aura_Teams"        "DOTA_UNIT_TARGET_TEAM_BOTH"
        "Aura_Types"        "DOTA_UNIT_TARGET_HERO | DOTA_UNIT_TARGET_BASIC | DOTA_UNIT_TARGET_MECHANICAL | DOTA_UNIT_TARGET_BUILDING"
        "Aura_Flags"        "DOTA_UNIT_TARGET_FLAG_MAGIC_IMMUNE_ENEMIES"
        "Aura_ApplyToCaster"  "0"

        "OnCreated"
        {
          "RunScript"
          {
            "ScriptFile"  "internal/util.lua"
            "Function"    "IllusionPassiveRemover"

            "modifier"    "modifier_imba_sadist_aura"
          }
        }
      }

      "modifier_imba_sadist_debuff"
      {
        "Passive"     "0"
        "IsHidden"      "1"
        "IsBuff"      "0"
        "IsPurgable"    "0"

        "OnDeath"
        {
          "RunScript"
          {
            "ScriptFile"    "hero/hero_necrolyte.lua"
            "Function"      "Sadist"

            "regen_modifier"  "modifier_imba_sadist_regen"
          }
        }
      }

      "modifier_imba_sadist_stack"
      {
        "Passive"     "0"
        "IsHidden"      "0"
        "IsBuff"      "1"
        "IsPurgable"    "0"

        "Duration"      "%regen_duration"
      }

      "modifier_imba_sadist_regen"
      {
        "Passive"     "0"
        "IsHidden"      "1"
        "IsBuff"      "1"
        "IsPurgable"    "0"

        "Duration"      "%regen_duration"

        "Attributes"    "MODIFIER_ATTRIBUTE_MULTIPLE"

        "OnCreated"
        {
          "RunScript"
          {
            "ScriptFile"    "hero/hero_necrolyte.lua"
            "Function"      "ApplySadist"

            "stack_modifier"  "modifier_imba_sadist_stack"
          }
        }

        "OnDestroy"
        {
          "RunScript"
          {
            "ScriptFile"    "hero/hero_necrolyte.lua"
            "Function"      "RemoveSadist"

            "stack_modifier"  "modifier_imba_sadist_stack"
          }
        }

        "Properties"
        {
          "MODIFIER_PROPERTY_MANA_REGEN_CONSTANT"   "%mana_regen"
          "MODIFIER_PROPERTY_HEALTH_REGEN_CONSTANT" "%health_regen"
        }
      }
    }
  }

  //=================================================================================================================
  // Necrolyte's Reaper's Scythe
  //=================================================================================================================
  "imba_necrolyte_reapers_scythe"
  {
    // General
    //-------------------------------------------------------------------------------------------------------------
    "BaseClass"           "ability_datadriven"
    "AbilityType"         "DOTA_ABILITY_TYPE_ULTIMATE"
    "AbilityBehavior"       "DOTA_ABILITY_BEHAVIOR_UNIT_TARGET"   
    "AbilityUnitTargetTeam"     "DOTA_UNIT_TARGET_TEAM_ENEMY"
    "AbilityUnitTargetType"     "DOTA_UNIT_TARGET_HERO"
    "AbilityUnitTargetFlags"    "DOTA_UNIT_TARGET_FLAG_MAGIC_IMMUNE_ENEMIES"
    "SpellImmunityType"       "SPELL_IMMUNITY_ENEMIES_YES"
    "AbilityUnitDamageType"     "DAMAGE_TYPE_MAGICAL" 
    "FightRecapLevel"       "2"
    "AbilityTextureName"      "necrolyte_reapers_scythe"

    // Precache
    //-------------------------------------------------------------------------------------------------------------
    "precache"
    {
      "soundfile"         "soundevents/game_sounds_heroes/game_sounds_necrolyte.vsndevts"
      "particle"          "particles/units/heroes/hero_necrolyte/necrolyte_scythe.vpcf"
      "particle"          "particles/units/heroes/hero_necrolyte/necrolyte_scythe_model.vpcf"
      "particle"          "particles/units/heroes/hero_necrolyte/necrolyte_scythe_orig.vpcf"
      "particle"          "particles/generic_gameplay/generic_stunned.vpcf"
    }

    // Casting
    //-------------------------------------------------------------------------------------------------------------
    "AbilityCastPoint"        "0.4"

    // Time   
    //-------------------------------------------------------------------------------------------------------------
    "AbilityCooldown"       "100 85 70"

    // Cost
    //-------------------------------------------------------------------------------------------------------------
    "AbilityManaCost"       "170 340 500"   
    
    // Cast Range
    //-------------------------------------------------------------------------------------------------------------
    "AbilityCastRange"        "600"
    
    // Special
    //-------------------------------------------------------------------------------------------------------------
    "AbilitySpecial"
    {
      "01"
      {
        "var_type"          "FIELD_INTEGER"
        "damage"          "20 30 40"
      }
      "02"
      {
        "var_type"          "FIELD_INTEGER"
        "damage_scepter"      "30 40 50"
      }
      "03"
      {
        "var_type"          "FIELD_FLOAT"
        "stun_duration"       "1.5"
      }
      "04"
      {
        "var_type"          "FIELD_FLOAT"
        "animation_delay"     "0.8"   //stun duration -0.7 seconds
      }
      "05"
      {
        "var_type"          "FIELD_INTEGER"
        "respawn_base"        "20"
      }
      "06"
      {
        "var_type"          "FIELD_INTEGER"
        "respawn_stack"       "3"
      }
    }

    "OnSpellStart"
    {
      "ApplyModifier"
      {
        "ModifierName"        "modifier_imba_reapers_scythe"
        "Target"
        {
          "Center"          "TARGET"
          "Teams"         "DOTA_UNIT_TARGET_TEAM_ENEMY"
          "Types"         "DOTA_UNIT_TARGET_HERO"
          "Flags"           "DOTA_UNIT_TARGET_FLAG_MAGIC_IMMUNE_ENEMIES"
        }
      }

      "FireSound"
      {
        "EffectName"        "Hero_Necrolyte.ReapersScythe.Cast"
        "Target"          "CASTER"
      }

      "FireSound"
      {
        "EffectName"        "Hero_Necrolyte.ReapersScythe.Target"
        "Target"          "TARGET"
      }

      "RunScript"
      {
        "ScriptFile"        "hero/hero_necrolyte.lua"
        "Function"          "ReapersScythe"

        "reap_particle"       "particles/units/heroes/hero_necrolyte/necrolyte_scythe_orig.vpcf"
        "scythe_particle"     "particles/units/heroes/hero_necrolyte/necrolyte_scythe_model.vpcf"
      }
    }

    "Modifiers"
    {
      "modifier_imba_reapers_scythe"
      {
        "Passive"     "0"
        "IsHidden"      "0"
        "IsDebuff"      "1"
        "IsPurgable"    "0"

        "Duration"          "%stun_duration"

        "OverrideAnimation"     "ACT_DOTA_DISABLED"

        "EffectName"        "particles/generic_gameplay/generic_stunned.vpcf"
        "EffectAttachType"      "follow_overhead"

        "OnCreated"
        {
          "AttachEffect"
          {
            "EffectName"        "particles/units/heroes/hero_necrolyte/necrolyte_scythe.vpcf"
            "EffectAttachType"      "follow_origin"
            "Target"          "TARGET"
          }
        }

        "Properties"
        {
          "MODIFIER_PROPERTY_MIN_HEALTH"          "1"
            "MODIFIER_PROPERTY_DISABLE_HEALING"       "1" 
        }

        "States"
        {
          "MODIFIER_STATE_STUNNED"    "MODIFIER_STATE_VALUE_ENABLED"
        }
      }
    }
  }

  //=================================================================================================================
  // Night Stalker's Void
  //=================================================================================================================
  "imba_night_stalker_void"
  {
    // General
    //-------------------------------------------------------------------------------------------------------------
    "BaseClass"           "ability_datadriven"
    "AbilityBehavior"       "DOTA_ABILITY_BEHAVIOR_UNIT_TARGET"
    
    // Unit Targeting
    //-------------------------------------------------------------------------------------------------------------
    "AbilityUnitTargetTeam"     "DOTA_UNIT_TARGET_TEAM_ENEMY"
    "AbilityUnitTargetType"     "DOTA_UNIT_TARGET_HERO | DOTA_UNIT_TARGET_BASIC"
    "AbilityUnitDamageType"     "DAMAGE_TYPE_MAGICAL"
    "SpellImmunityType"       "SPELL_IMMUNITY_ENEMIES_NO"
    "FightRecapLevel"       "1"
    "AbilityTextureName"      "night_stalker_void"
    
    // Stats
    //-------------------------------------------------------------------------------------------------------------
    "AbilityCastRange"        "600"
    "AbilityCastPoint"        "0.2"
    "AbilityCooldown"       "8"
    "AbilityManaCost"       "80 90 100 110"
    "AbilityDamage"         "120 200 280 360"

    // Precache
    //-------------------------------------------------------------------------------------------------------------
    "precache"
    {
      "soundfile"         "soundevents/game_sounds_heroes/game_sounds_nightstalker.vsndevts"
      "particle"          "particles/units/heroes/hero_night_stalker/nightstalker_void.vpcf"
      "particle"          "particles/generic_gameplay/generic_stunned.vpcf"
    }

    // Special
    //-------------------------------------------------------------------------------------------------------------
    "AbilitySpecial"
    {
      "01"
      {
        "var_type"        "FIELD_FLOAT"
        "duration_day"      "2.0"
      }
      "02"
      {
        "var_type"        "FIELD_FLOAT"
        "duration_night"    "4.0"
      }
      "03"
      {
        "var_type"        "FIELD_INTEGER"
        "movespeed_slow"    "-60"
      }
      "04"
      {
        "var_type"        "FIELD_INTEGER"
        "attackspeed_slow"    "-60"
      }
      "05"
      {
        "var_type"        "FIELD_FLOAT"
        "mini_stun"       "0.1"
      }
      "06"
      {
        "var_type"        "FIELD_INTEGER"
        "vision_loss"     "-175 -250 -325 -400"
      }
    }

    "OnSpellStart"
    {
      "FireSound"
      {
        "EffectName"      "Hero_Nightstalker.Void"
        "Target"        "TARGET"
      }

      "Stun"
      {
        "Target"        "TARGET"
        "Duration"        "%mini_stun"
      }

      "RunScript"
      {
        "ScriptFile"      "hero/hero_night_stalker.lua"
        "Function"        "Void"
        "modifier"        "modifier_imba_void"
      }

      "Damage"
      {
        "Target"        "TARGET"
        "Type"          "DAMAGE_TYPE_MAGICAL"
        "Damage"        "%AbilityDamage"
      }
    }

    "Modifiers"
    {
      "modifier_imba_void"
      {
        "IsDebuff"        "1"
        "IsPurgable"      "1"

        "EffectName"      "particles/units/heroes/hero_night_stalker/nightstalker_void.vpcf"
        "EffectAttachType"    "follow_origin"

        "Properties"
        {
          "MODIFIER_PROPERTY_MOVESPEED_BONUS_PERCENTAGE"    "%movespeed_slow"
          "MODIFIER_PROPERTY_ATTACKSPEED_BONUS_CONSTANT"    "%attackspeed_slow"
          "MODIFIER_PROPERTY_BONUS_DAY_VISION"        "%vision_loss"
          "MODIFIER_PROPERTY_BONUS_NIGHT_VISION"        "%vision_loss"
        }

        "States"
        {
          "MODIFIER_STATE_PROVIDES_VISION"          "MODIFIER_STATE_VALUE_ENABLED"
        }
      }
    }
  }

  //=================================================================================================================
  // Night Stalker's Crippling Fear
  //=================================================================================================================
  "imba_night_stalker_crippling_fear"
  {
    // General
    //-------------------------------------------------------------------------------------------------------------
    "BaseClass"           "ability_datadriven"
    "AbilityBehavior"       "DOTA_ABILITY_BEHAVIOR_UNIT_TARGET"
    "FightRecapLevel"       "1"
    "AbilityTextureName"      "night_stalker_crippling_fear"
    
    // Unit Targeting
    //-------------------------------------------------------------------------------------------------------------
    "AbilityUnitTargetTeam"     "DOTA_UNIT_TARGET_TEAM_ENEMY"
    "AbilityUnitTargetType"     "DOTA_UNIT_TARGET_HERO"
    "SpellImmunityType"       "SPELL_IMMUNITY_ENEMIES_NO"
    
    // Stats
    //-------------------------------------------------------------------------------------------------------------
    "AbilityCastRange"        "600"
    "AbilityCastPoint"        "0.2"
    "AbilityCooldown"       "12"
    "AbilityManaCost"       "50"

    // Precache
    //-------------------------------------------------------------------------------------------------------------
    "precache"
    {
      "soundfile"         "soundevents/game_sounds_heroes/game_sounds_nightstalker.vsndevts"
      "particle"          "particles/units/heroes/hero_night_stalker/nightstalker_crippling_fear.vpcf"
    }
      
    // Special
    //-------------------------------------------------------------------------------------------------------------
    "AbilitySpecial"
    {
      "01"
      {
        "var_type"        "FIELD_FLOAT"
        "duration_day"      "3.0"
      }
      "02"
      {
        "var_type"        "FIELD_FLOAT"
        "duration_night"    "5.0 6.0 7.0 8.0"
      }
      "03"
      {
        "var_type"        "FIELD_INTEGER"
        "miss_rate_day"     "20"
      }
      "04"
      {
        "var_type"        "FIELD_INTEGER"
        "miss_rate_night"   "60"
      }
    }

    "OnSpellStart"
    {
      "FireSound"
      {
        "EffectName"      "Hero_Nightstalker.Trickling_Fear"
        "Target"        "TARGET"
      }

      "RunScript"
      {
        "ScriptFile"      "hero/hero_night_stalker.lua"
        "Function"        "CripplingFear"

        "modifier_day"      "modifier_imba_crippling_fear_day"
        "modifier_night"    "modifier_imba_crippling_fear_night"
      }
    }

    "Modifiers"
    {
      "modifier_imba_crippling_fear_day"
      {
        "Duration"        "%duration_day"
        "IsDebuff"        "1"
        "IsPurgable"      "1"

        "EffectName"      "particles/units/heroes/hero_night_stalker/nightstalker_crippling_fear.vpcf"
        "EffectAttachType"    "follow_overhead"

        "Properties"
        {
          "MODIFIER_PROPERTY_MISS_PERCENTAGE"   "%miss_rate_day"
        }

        "States"
        {
          "MODIFIER_STATE_SILENCED"       "MODIFIER_STATE_VALUE_ENABLED"
        }
      }

      "modifier_imba_crippling_fear_night"
      {
        "Duration"        "%duration_night"
        "IsDebuff"        "1"
        "IsPurgable"      "1"

        "EffectName"      "particles/units/heroes/hero_night_stalker/nightstalker_crippling_fear.vpcf"
        "EffectAttachType"    "follow_overhead"

        "Properties"
        {
          "MODIFIER_PROPERTY_MISS_PERCENTAGE"   "%miss_rate_night"
        }

        "States"
        {
          "MODIFIER_STATE_SILENCED"       "MODIFIER_STATE_VALUE_ENABLED"
          "MODIFIER_STATE_MUTED"          "MODIFIER_STATE_VALUE_ENABLED"
        }
      }
    }
  }

  //=================================================================================================================
  // Night Stalker's Hunter in the Night
  //=================================================================================================================
  "imba_night_stalker_hunter_in_the_night"
  {
    // General
    //-------------------------------------------------------------------------------------------------------------
    "BaseClass"           "ability_datadriven"
    "AbilityBehavior"       "DOTA_ABILITY_BEHAVIOR_PASSIVE"
    "AbilityTextureName"      "night_stalker_hunter_in_the_night"

    // Precache
    //-------------------------------------------------------------------------------------------------------------
    "precache"
    {
      "particle"          "particles/units/heroes/hero_night_stalker/nightstalker_night_buff.vpcf"
      "particle"          "particles/units/heroes/hero_night_stalker/nightstalker_change.vpcf"
      "model"           "models/heroes/nightstalker/nightstalker_night.vmdl"
    }
      
    // Special
    //-------------------------------------------------------------------------------------------------------------
    "AbilitySpecial"
    {
      "01"
      {
        "var_type"              "FIELD_INTEGER"
        "bonus_movement_speed_pct_night"  "20 25 30 35"
      }
      "02"
      {
        "var_type"              "FIELD_INTEGER"
        "bonus_attack_speed_night"      "45 60 75 90"
      }
      "03"
      {
        "var_type"              "FIELD_INTEGER"
        "stacking_move_speed"       "2"
      }
      "04"
      {
        "var_type"              "FIELD_INTEGER"
        "stacking_attack_speed"       "20"
      }
    }

    "Modifiers"
    {
      "modifier_imba_hunter_in_the_night"
      {
        "Passive"         "1"
        "IsHidden"          "1"

        "AllowIllusionDuplicate"  "1"

        "ThinkInterval"       "0.1"

        "OnIntervalThink"
        {
          "RunScript"
          {
            "ScriptFile"    "hero/hero_night_stalker.lua"
            "Function"      "HunterInTheNight"

            "modifier"      "modifier_imba_hunter_in_the_night_buff"
            "modifier_stack"  "modifier_imba_hunter_in_the_night_stacks"
          }
        }
      }

      "modifier_imba_hunter_in_the_night_buff"
      {
        "IsHidden"          "1"
        "IsPurgable"        "0"

        "EffectName"        "particles/units/heroes/hero_night_stalker/nightstalker_night_buff.vpcf"
        "EffectAttachType"      "follow_origin"

        "OnCreated"
        {
          "FireEffect"
          {
            "EffectName"    "particles/units/heroes/hero_night_stalker/nightstalker_change.vpcf"
            "EffectAttachType"  "follow_origin"
            "Target"      "CASTER"
          }

          "RunScript"
          {
            "ScriptFile"    "hero/hero_night_stalker.lua"
            "Function"      "HunterInTheNightModelChange"

            "night_model"   "models/heroes/nightstalker/nightstalker_night.vmdl"
          }
        }

        "OnDestroy"
        {
          "FireEffect"
          {
            "EffectName"    "particles/units/heroes/hero_night_stalker/nightstalker_change.vpcf"
            "EffectAttachType"  "follow_origin"
            "Target"      "CASTER"
          }

          "RunScript"
          {
            "ScriptFile"    "hero/hero_night_stalker.lua"
            "Function"      "HunterInTheNightModelRevert"
          }
        }

        "Properties"
        {
          "MODIFIER_PROPERTY_MOVESPEED_BONUS_PERCENTAGE"  "%bonus_movement_speed_pct_night"
          "MODIFIER_PROPERTY_ATTACKSPEED_BONUS_CONSTANT"  "%bonus_attack_speed_night"
        }
      }

      "modifier_imba_hunter_in_the_night_stacks"
      {
        "IsHidden"          "0"
        "IsPurgable"        "0"

        "Properties"
        {
          "MODIFIER_PROPERTY_MOVESPEED_BONUS_PERCENTAGE"  "%stacking_move_speed"
          "MODIFIER_PROPERTY_ATTACKSPEED_BONUS_CONSTANT"  "%stacking_attack_speed"
        }
      }
    }
  }

  //=================================================================================================================
  // Night Stalker's Darkness
  //=================================================================================================================
  "imba_night_stalker_darkness"
  {
    // General
    //-------------------------------------------------------------------------------------------------------------
    "BaseClass"           "ability_datadriven"
    "AbilityBehavior"       "DOTA_ABILITY_BEHAVIOR_NO_TARGET"
    "AbilityType"         "DOTA_ABILITY_TYPE_ULTIMATE"
    "AbilityTextureName"      "night_stalker_darkness"

    // Unit Targeting
    //-------------------------------------------------------------------------------------------------------------
    "AbilityUnitTargetTeam"     "DOTA_UNIT_TARGET_TEAM_ENEMY"
    "AbilityUnitTargetType"     "DOTA_UNIT_TARGET_ALL"
    "SpellImmunityType"       "SPELL_IMMUNITY_ENEMIES_YES"
    
    // Stats
    //-------------------------------------------------------------------------------------------------------------
    "AbilityCastPoint"        "0.2"
    "AbilityCooldown"       "160 120 80"
    "AbilityManaCost"       "0"

    // Precache
    //-------------------------------------------------------------------------------------------------------------
    "precache"
    {
      "soundfile"         "soundevents/game_sounds_heroes/game_sounds_nightstalker.vsndevts"
      "particle"          "particles/units/heroes/hero_night_stalker/nightstalker_ulti.vpcf"
    }
      
    // Special
    //-------------------------------------------------------------------------------------------------------------
    "AbilitySpecial"
    {
      "01"
      {
        "var_type"          "FIELD_FLOAT"
        "duration"          "50.0"
      }
      "02"
      {
        "var_type"          "FIELD_INTEGER"
        "vision_radius"       "675"
      }
      "03"
      {
        "var_type"          "FIELD_INTEGER"
        "vision_radius_scepter"   "600"
      }
      "04"
      {
        "var_type"          "FIELD_INTEGER"
        "enemy_vision_duration"   "5 6 7"
      }
      "05"
      {
        "var_type"          "FIELD_INTEGER"
        "bonus_vision"        "200 400 600"
      }
      "06"
      {
        "var_type"          "FIELD_INTEGER"
        "radius"          "25000"
      }
    }

    "OnSpellStart"
    {
      "FireSound"
      {
        "EffectName"        "Hero_Nightstalker.Darkness"
        "Target"          "CASTER"
      }

      "FireEffect"
      {
        "EffectName"        "particles/units/heroes/hero_night_stalker/nightstalker_ulti.vpcf"
        "EffectAttachType"      "follow_origin"
        "Target"          "CASTER"
      }

      "ApplyModifier"
      {
        "ModifierName"        "modifier_imba_darkness_owner_vision"
        "Target"          "CASTER"
      }

      "RunScript"
      {
        "ScriptFile"        "hero/hero_night_stalker.lua"
        "Function"          "Darkness"

        "modifier"          "modifier_imba_darkness_enemy"
        "modifier_enemy_vision"   "modifier_imba_darkness_enemy_vision"
      }
    }

    "Modifiers"
    {
      "modifier_imba_darkness_enemy"
      {
        "IsDebuff"          "1"
        "IsPurgable"        "0"

        "OnCreated"
        {
          "RunScript"
          {
            "ScriptFile"    "hero/hero_night_stalker.lua"
            "Function"      "ReduceVision"
          }
        }

        "OnDestroy"
        {
          "RunScript"
          {
            "ScriptFile"    "hero/hero_night_stalker.lua"
            "Function"      "RevertVision"
          }
        }
      }

      "modifier_imba_darkness_owner_vision"
      {
        "IsBuff"          "1"
        "IsPurgable"        "0"
        "IsHidden"          "1"

        "Duration"          "%duration"

        "Attributes"        "MODIFIER_ATTRIBUTE_PERMANENT"

        "ThinkInterval"       "0.5"

        "OnIntervalThink"
        {
          "RunScript"
          {
            "ScriptFile"    "hero/hero_night_stalker.lua"
            "Function"      "DarknessLimitBreak"
          }
        }

        "OnDestroy"
        {
          "RunScript"
          {
            "ScriptFile"    "hero/hero_night_stalker.lua"
            "Function"      "DarknessLimitBreakEnd"
          }
        }

        "Properties"
        {
          "MODIFIER_PROPERTY_BONUS_NIGHT_VISION"    "%bonus_vision"
        }
      }

      "modifier_imba_darkness_enemy_vision"
      {
        "IsDebuff"          "1"
        "IsPurgable"        "0"
        "IsHidden"          "0"

        "Duration"          "%enemy_vision_duration"

        "States"
        {
          "MODIFIER_STATE_PROVIDES_VISION"  "MODIFIER_STATE_VALUE_ENABLED"
        }
      }
    }
  }

  //=================================================================================================================
  // Nyx Assassin's Impale
  //=================================================================================================================
  "imba_nyx_assassin_impale"
  {
    // General
    //-------------------------------------------------------------------------------------------------------------
    "BaseClass"                 "ability_datadriven"
    "AbilityBehavior"           "DOTA_ABILITY_BEHAVIOR_POINT | DOTA_ABILITY_BEHAVIOR_IGNORE_BACKSWING"
    "AbilityUnitTargetTeam"     "DOTA_UNIT_TARGET_TEAM_ENEMY"
    "AbilityUnitTargetType"     "DOTA_UNIT_TARGET_HERO | DOTA_UNIT_TARGET_BASIC"
    "AbilityUnitDamageType"     "DAMAGE_TYPE_MAGICAL" 
    "SpellImmunityType"         "SPELL_IMMUNITY_ENEMIES_NO"
    "FightRecapLevel"           "1"
    "AbilityTextureName"        "nyx_assassin_impale"

    // Casting
    //-------------------------------------------------------------------------------------------------------------
    "AbilityCastRange"        "900"
    "AbilityCastPoint"        "0.3"
    
    // Time   
    //-------------------------------------------------------------------------------------------------------------
    "AbilityCooldown"       "10.0"

    // Cost
    //-------------------------------------------------------------------------------------------------------------
    "AbilityManaCost"       "95 115 135 155"
    
    // Damage
    //-------------------------------------------------------------------------------------------------------------
    "AbilityDamage"         "80 140 200 260"

    // Precache
    //-------------------------------------------------------------------------------------------------------------
    "precache"
    {
      "soundfile"         "soundevents/game_sounds_heroes/game_sounds_nyx_assassin.vsndevts"
      "particle"          "particles/units/heroes/hero_nyx_assassin/nyx_assassin_impale.vpcf"
    }
    
    // Special
    //-------------------------------------------------------------------------------------------------------------
    "AbilitySpecial"
    {
      "01"
      {
        "var_type"        "FIELD_INTEGER"
        "width"         "180"
      }
      "02"
      { 
        "var_type"        "FIELD_FLOAT"
        "duration"        "1.87 2.17 2.47 2.77"
      }
      "03"
      {
        "var_type"        "FIELD_INTEGER"
        "length"        "900"
      }
      "04"
      {
        "var_type"        "FIELD_INTEGER"
        "speed"         "2000"
      }
      "05"
      {
        "var_type"        "FIELD_FLOAT"
        "air_time"        "0.57"
      }
      "06"
      {
        "var_type"        "FIELD_INTEGER"
        "damage_repeat"     "20 30 40 50"
      }
      "07"
      {
        "var_type"        "FIELD_FLOAT"
        "damage_duration"   "3.0"
      }
      "08"
      {
        "var_type"        "FIELD_INTEGER"
        "damage"        "80 140 200 260"
      }
      "09"
      {
        "var_type"        "FIELD_INTEGER"
        "global_radius"     "25000"
      }
    }
    
    "OnSpellStart"
    {
      "RunScript"
      {
        "ScriptFile"      "hero/hero_nyx_assassin.lua"
        "Function"        "Impale"

        "sound_cast"      "Hero_NyxAssassin.Impale"
        "particle_projectile" "particles/units/heroes/hero_nyx_assassin/nyx_assassin_impale.vpcf"
      }
    }
    
    "OnProjectileHitUnit"
    {
      "DeleteOnHit"       "0"
    
      "FireSound"
      {
        "Target"        "TARGET"
        "EffectName"      "Hero_NyxAssassin.Impale.Target" 
      }
    
      "RemoveModifier"
      {
        "Target"        "TARGET"
        "ModifierName"      "modifier_knockback"
      }
      
      "Knockback"
      {
        "Target"        "TARGET"
        "Center"        "CASTER"
        "Distance"        "0"
        "Duration"        "%air_time"
        "Height"        "200"
        "IsFixedDistance"   "1"
      }
      
      "Stun"
      {
        "Target"        "TARGET"
        "Duration"        "%duration"
      }

      "RunScript"
      {
        "ScriptFile"      "hero/hero_nyx_assassin.lua"
        "Function"        "ImpaleDamage"

        "land_sound"      "Hero_NyxAssassin.Impale.TargetLand"
      }
    }

    "Modifiers"
    {
      "modifier_imba_impale_aura"
      {
        "Passive"       "1"
        "IsHidden"        "1"
        "IsBuff"        "1"
        "IsPurgable"      "0"
    
        "Aura"              "modifier_imba_impale_damage_counter"
        "Aura_Radius"       "%global_radius"
        "Aura_Teams"        "DOTA_UNIT_TARGET_TEAM_ENEMY"
        "Aura_Types"        "DOTA_UNIT_TARGET_HERO"
        "Aura_Flags"        "DOTA_UNIT_TARGET_FLAG_MAGIC_IMMUNE_ENEMIES"
        "Aura_ApplyToCaster"  "0"
      }

      "modifier_imba_impale_damage_counter"
      {
        "Passive"       "0"
        "IsHidden"        "1"
        "IsDebuff"        "1"
        "IsPurgable"      "0"

        "OnTakeDamage"
        {
          "RunScript"
          {
            "ScriptFile"  "hero/hero_nyx_assassin.lua"
            "Function"    "ImpaleDamageCounter"

            "damage"    "%attack_damage"
          }
        }
      }
    }
  }

  //=================================================================================================================
  // Nyx Assassin's Spiked Carapace
  //=================================================================================================================
  "imba_nyx_assassin_spiked_carapace"
  {
    // General
    //-------------------------------------------------------------------------------------------------------------
    "BaseClass"           "ability_datadriven"
    "AbilityBehavior"       "DOTA_ABILITY_BEHAVIOR_NO_TARGET | DOTA_ABILITY_BEHAVIOR_IGNORE_BACKSWING"
    "AbilityUnitTargetTeam"     "DOTA_UNIT_TARGET_TEAM_ENEMY"
    "AbilityUnitTargetType"     "DOTA_UNIT_TARGET_HERO | DOTA_UNIT_TARGET_BASIC"
    "AbilityUnitDamageType"     "DAMAGE_TYPE_PURE"
    "SpellImmunityType"       "SPELL_IMMUNITY_ENEMIES_NO"
    "FightRecapLevel"       "1"
    "AbilityTextureName"      "nyx_assassin_spiked_carapace"

    // Stats    
    //-------------------------------------------------------------------------------------------------------------
    "AbilityCooldown"       "21 18 15 12"
    "AbilityCastPoint"        "0.01"

    // Cost
    //-------------------------------------------------------------------------------------------------------------
    "AbilityManaCost"       "0"
    
    // Special  
    //-------------------------------------------------------------------------------------------------------------
    "AbilitySpecial"
    {
      "01"
      {
        "var_type"          "FIELD_FLOAT"
        "reflect_duration"      "2.25"
      }
      "02"
      {
        "var_type"          "FIELD_FLOAT"
        "stun_duration"       "1.0 1.5 2.0 2.5"
      }
      "03"
      {
        "var_type"          "FIELD_INTEGER"
        "burrow_stun_range"     "425"
      }
    }
    
    // Data driven
    //-------------------------------------------------------------------------------------------------------------
    "precache"
    {
      "particle"            "particles/generic_gameplay/generic_stunned.vpcf"
      "particle"            "particles/units/heroes/hero_nyx_assassin/nyx_assassin_spiked_carapace.vpcf"
      "particle"            "particles/units/heroes/hero_nyx_assassin/nyx_assassin_spiked_carapace_hit.vpcf"
      "soundfile"           "soundevents/game_sounds_heroes/game_sounds_nyx_assassin.vsndevts"
    }
    
    "OnSpellStart"
    {
      "ApplyModifier"
      {
        "Target"          "CASTER"
        "ModifierName"        "modifier_imba_spiked_carapace"
      }

      "FireSound"
      {
        "EffectName"        "Hero_NyxAssassin.SpikedCarapace"
        "Target"          "CASTER"
      }

      "RunScript"
      {
        "ScriptFile"        "hero/hero_nyx_assassin.lua"
        "Function"          "SpikedCarapace"

        "modifier_stun"       "modifier_imba_spiked_carapaced_stun"
      }
    }
    
    "Modifiers"
    {
      "modifier_imba_spiked_carapace"
      {
        "IsBuff"          "1"
        "IsPurgable"        "0"
        "IsHidden"          "1"
      
        "Duration"          "%reflect_duration"
        
        "EffectName"        "particles/units/heroes/hero_nyx_assassin/nyx_assassin_spiked_carapace.vpcf"
        
        "OnTakeDamage"
        {
          "RunScript"
          {
            "ScriptFile"    "hero/hero_nyx_assassin.lua"
            "Function"      "SpikedCarapaceReflect"

            "damage_taken"    "%attack_damage"
            "stun_modifier"   "modifier_imba_spiked_carapaced_stun"
          }
        }

        "Properties"
        {
          "MODIFIER_PROPERTY_MIN_HEALTH"    "1" 
        }
      }
      
      "modifier_imba_spiked_carapaced_stun"
      {
        "IsDebuff"        "1"
        "IsPurgable"      "0"
      
        "Duration"        "%stun_duration"
        
        "OverrideAnimation"   "ACT_DOTA_DISABLED"
        
        "OnCreated"
        {
          "AttachEffect"
          {
            "Target"      "TARGET"
            "EffectName"    "particles/units/heroes/hero_nyx_assassin/nyx_assassin_spiked_carapace_hit.vpcf"
            "EffectAttachType"  "follow_origin"
            "ControlPoints"
            {
              "02"      "%stun_duration %stun_duration %stun_duration"
            }
          }
        
          "AttachEffect"
          {
            "Target"      "TARGET"
            "EffectName"    "particles/generic_gameplay/generic_stunned.vpcf"
            "EffectAttachType"  "follow_overhead"
          }

          "FireSound"
          {
            "EffectName"    "Hero_NyxAssassin.SpikedCarapace.Stun"
            "Target"      "TARGET"
          }
        }
        
        "States"
        {
          "MODIFIER_STATE_STUNNED"  "MODIFIER_STATE_VALUE_ENABLED"
        }
      }
    }
  }

  //=================================================================================================================
  // Nyx Assassin's Vendetta
  //=================================================================================================================
  "imba_nyx_assassin_vendetta"
  {
    // General
    //-------------------------------------------------------------------------------------------------------------
    "BaseClass"           "ability_datadriven"
    "AbilityBehavior"       "DOTA_ABILITY_BEHAVIOR_IMMEDIATE | DOTA_ABILITY_BEHAVIOR_NO_TARGET | DOTA_ABILITY_BEHAVIOR_IGNORE_CHANNEL"
    "AbilityType"         "DOTA_ABILITY_TYPE_ULTIMATE"
    "AbilityUnitDamageType"     "DAMAGE_TYPE_PHYSICAL"
    "SpellImmunityType"       "SPELL_IMMUNITY_ENEMIES_YES"
    "FightRecapLevel"       "2"
    "AbilityTextureName"      "nyx_assassin_vendetta"

    // Stats    
    //-------------------------------------------------------------------------------------------------------------
    "AbilityCooldown"       "70.0 55.0 40.0"

    // Cost
    //-------------------------------------------------------------------------------------------------------------
    "AbilityManaCost"       "160 210 260"
    
    // Special  
    //-------------------------------------------------------------------------------------------------------------
    "AbilitySpecial"
    {
      "01"
      {
        "var_type"        "FIELD_FLOAT"
        "duration"        "30.0 40.0 50.0"
      }
      "02"
      {
        "var_type"        "FIELD_INTEGER"
        "movement_speed"    "20"
      }
      "03"
      {
        "var_type"        "FIELD_INTEGER"
        "bonus_damage"      "250 400 550"
      }
      "04"
      {
        "var_type"        "FIELD_INTEGER"
        "damage_storage"    "300 500 700"
      }
    }
    
    // Data driven
    //-------------------------------------------------------------------------------------------------------------
    "precache"
    {
      "soundfile"           "soundevents/game_sounds_heroes/game_sounds_nyx_assassin.vsndevts"
      "particle"            "particles/status_fx/status_effect_base.vpcf"
      "particle"            "particles/units/heroes/hero_nyx_assassin/nyx_assassin_vendetta_start.vpcf"
    }
    
    "OnSpellStart"
    {
      "RunScript"
      {
        "ScriptFile"        "hero/hero_nyx_assassin.lua"
        "Function"          "Vendetta"

        "sound_cast"        "Hero_NyxAssassin.Vendetta"
        "modifier_vendetta"     "modifier_imba_vendetta"
      }
    }
    
    "Modifiers"
    {
      "modifier_imba_vendetta"
      {
        "Duration"          "%duration"
      
        "OnCreated"
        {
          "AttachEffect"
          {
            "Target"      "TARGET"
            "EffectName"    "particles/units/heroes/hero_nyx_assassin/nyx_assassin_vendetta_start.vpcf"
            "EffectAttachType"  "start_at_origin"
          }
        }
      
        "OnAttack"
        {
          "RunScript"
          {
            "ScriptFile"    "hero/hero_nyx_assassin.lua"
            "Function"      "VendettaStrike"

            "modifier"      "modifier_imba_vendetta"
            "stack_modifier"  "modifier_imba_vendetta_damage_stacks"
            "particle_name"   "particles/units/heroes/hero_nyx_assassin/nyx_assassin_vendetta.vpcf"
            "attack_sound"    "Hero_NyxAssassin.Vendetta.Crit"
          }
        }

        "OnAbilityExecuted"
        { 
          "RunScript"
          {
            "ScriptFile"    "hero/hero_nyx_assassin.lua"
            "Function"      "VendettaCast"

            "modifier_vendetta" "modifier_imba_vendetta"
            "ability_carapace"  "imba_nyx_assassin_spiked_carapace"
          }
        }
      
        "Properties"
        {
          "MODIFIER_PROPERTY_MOVESPEED_BONUS_PERCENTAGE"  "%movement_speed"
        }
      
        "States"
        {
          "MODIFIER_STATE_NO_UNIT_COLLISION"        "MODIFIER_STATE_VALUE_ENABLED"
          "MODIFIER_STATE_CANNOT_MISS"          "MODIFIER_STATE_VALUE_ENABLED"
        }
      }

      "modifier_imba_vendetta_damage_counter"
      {
        "Passive"         "1"
        "IsBuff"          "1"
        "IsHidden"          "1"
        "IsPurgable"        "0"

        "OnTakeDamage"
        {
          "RunScript"
          {
            "ScriptFile"    "hero/hero_nyx_assassin.lua"
            "Function"      "VendettaDamageCount"

            "damage_taken"    "%attack_damage"
            "stack_modifier"  "modifier_imba_vendetta_damage_stacks"
          }
        }
      }

      "modifier_imba_vendetta_damage_stacks"
      {
        "Passive"         "0"
        "IsBuff"          "1"
        "IsHidden"          "0"
        "IsPurgable"        "0"

        "Attributes"        "MODIFIER_ATTRIBUTE_PERMANENT"
      }
    }
  }

  //=================================================================================================================
  // Outhouse Decorator's Arcane Orb
  //=================================================================================================================
  "imba_obsidian_destroyer_arcane_orb"
  {
    // General
    //-------------------------------------------------------------------------------------------------------------
    "BaseClass"             "ability_datadriven"
    "AbilityBehavior"         "DOTA_ABILITY_BEHAVIOR_UNIT_TARGET | DOTA_ABILITY_BEHAVIOR_AUTOCAST | DOTA_ABILITY_BEHAVIOR_ATTACK"
    "AbilityUnitTargetTeam"       "DOTA_UNIT_TARGET_TEAM_ENEMY"
    "AbilityUnitTargetType"       "DOTA_UNIT_TARGET_HERO | DOTA_UNIT_TARGET_BASIC"
    "AbilityUnitDamageType"       "DAMAGE_TYPE_PURE"
    "SpellImmunityType"         "SPELL_IMMUNITY_ENEMIES_NO"
    "AbilityTextureName"        "obsidian_destroyer_arcane_orb"
    "AbilityCastRange"          "600"

    // Precache
    //-------------------------------------------------------------------------------------------------------------
    "precache"
    {
      "soundfile"           "soundevents/game_sounds_heroes/game_sounds_obsidian_destroyer.vsndevts"
      "particle"            "particles/units/heroes/hero_obsidian_destroyer/obsidian_destroyer_arcane_orb.vpcf"
      "particle"            "particles/units/heroes/hero_obsidian_destroyer/obsidian_destroyer_essence_effect.vpcf"
    } 
    // Cost
    //-------------------------------------------------------------------------------------------------------------
    "AbilityManaCost"         "100"

    // Special
    //-------------------------------------------------------------------------------------------------------------
    "AbilitySpecial"
    {
      "01"
      {
        "var_type"          "FIELD_FLOAT"
        "mana_pool_damage_pct"    "7 8 9 10"
      }
      "02"
      {
        "var_type"          "FIELD_INTEGER"
        "illusion_damage"     "1000"
      }
      "03"
      {
        "var_type"          "FIELD_FLOAT"
        "int_steal_pct"       "10"
      }
      "04"
      {
        "var_type"          "FIELD_FLOAT"
        "int_steal_duration"    "10.0"
      }
      "05"
      {
        "var_type"          "FIELD_FLOAT"
        "int_gain"          "2 3 4 5"
      }
    }

    "Modifiers"
    {
      "modifier_imba_arcane_orb"
      {
        "Passive"         "1"
        "IsHidden"          "1"

        "Orb"
        {
          "Priority"        "DOTA_ORB_PRIORITY_ABILITY"
          "ProjectileName"    "particles/units/heroes/hero_obsidian_destroyer/obsidian_destroyer_arcane_orb.vpcf"
          "CastAttack"      "1"
        }

        "OnOrbFire"
        {
          "SpendMana"
          {
            "Mana"        "%AbilityManaCost"
          }

          "FireSound"
          {
            "EffectName"    "Hero_ObsidianDestroyer.ArcaneOrb"
            "Target"      "TARGET"  
          }

          "RunScript"
          {
            "ScriptFile"    "hero/hero_outhouse_decorator.lua"
            "Function"      "ArcaneOrbRestoreMana"
            "Target"      "CASTER"

            "ability_name"    "imba_obsidian_destroyer_essence_aura"
            "particle_name"   "particles/units/heroes/hero_obsidian_destroyer/obsidian_destroyer_essence_effect.vpcf"
            "sound_name"    "Hero_ObsidianDestroyer.EssenceAura"
          }

          "FireEffect"
          {
            "EffectName"    "particles/units/heroes/hero_obsidian_destroyer/obsidian_destroyer_essence_effect.vpcf"
            "EffectAttachType"  "follow_origin"
            "Target"      "CASTER"
          }
        }

        "OnOrbImpact"
        {
          "RunScript"
          {
            "ScriptFile"    "hero/hero_outhouse_decorator.lua"
            "Function"      "ArcaneOrb"
            "Target"      "TARGET"

            "int_gain_modifier" "modifier_imba_obsidian_destroyer_int_gain"
            "int_loss_modifier" "modifier_imba_obsidian_destroyer_int_steal"
            "modifier_dummy"  "modifier_imba_arcane_orb_mana_dummy"
          }
        }
      }

      "modifier_imba_obsidian_destroyer_int_gain"
      {
        "Duration"          "%int_steal_duration"
        "IsPurgable"        "0"
        "IsHidden"          "0"

        "TextureName"       "obsidian_destroyer_int_gain"

        "Attributes"        "MODIFIER_ATTRIBUTE_IGNORE_INVULNERABLE"

        "Properties"
        {
          "MODIFIER_PROPERTY_STATS_INTELLECT_BONUS" "1"
        }
      }

      "modifier_imba_obsidian_destroyer_int_steal"
      {
        "Duration"          "%int_steal_duration"
        "IsPurgable"        "0"
        "IsDebuff"          "1"
        "IsHidden"          "0"

        "TextureName"       "obsidian_destroyer_int_steal"

        "Properties"
        {
          "MODIFIER_PROPERTY_STATS_INTELLECT_BONUS" "-1"
        }
      }
    }
  }

  //=================================================================================================================
  // Outhouse Decorator's Astral Imprisoment
  //=================================================================================================================
  "imba_obsidian_destroyer_astral_imprisonment"
  {
    // General
    //-------------------------------------------------------------------------------------------------------------
    "BaseClass"           "ability_datadriven"
    "AbilityBehavior"       "DOTA_ABILITY_BEHAVIOR_UNIT_TARGET | DOTA_ABILITY_BEHAVIOR_DONT_RESUME_ATTACK"
    "AbilityUnitTargetTeam"     "DOTA_UNIT_TARGET_TEAM_ENEMY | DOTA_UNIT_TARGET_TEAM_FRIENDLY"
    "AbilityUnitTargetType"     "DOTA_UNIT_TARGET_HERO"
    "AbilityUnitTargetFlags"    "DOTA_UNIT_TARGET_FLAG_NOT_CREEP_HERO | DOTA_UNIT_TARGET_FLAG_NOT_MAGIC_IMMUNE_ALLIES"
    "SpellImmunityType"       "SPELL_IMMUNITY_ENEMIES_NO"
    "AbilityTextureName"      "obsidian_destroyer_astral_imprisonment"

    // Precache
    //-------------------------------------------------------------------------------------------------------------
    "precache"
    {
      "soundfile"         "soundevents/game_sounds_heroes/game_sounds_obsidian_destroyer.vsndevts"    
      "particle"          "particles/units/heroes/hero_obsidian_destroyer/obsidian_destroyer_prison.vpcf"
    }

    // Time   
    //-------------------------------------------------------------------------------------------------------------
    "AbilityDuration"       "4.0"
    "AbilityCooldown"       "18.0 16.0 14.0 12.0"

    // Casting
    //-------------------------------------------------------------------------------------------------------------
    "AbilityCastRange"        "600"
    "AbilityCastPoint"        "0.2"

    // Cost
    //-------------------------------------------------------------------------------------------------------------
    "AbilityManaCost"       "120 140 160 180"

    // Special
    //-------------------------------------------------------------------------------------------------------------
    "AbilitySpecial"
    {
      "01"
      {
        "var_type"        "FIELD_INTEGER"
        "int_steal_pct"     "20"
      }
      "02"
      {
        "var_type"        "FIELD_FLOAT"
        "steal_duration"    "20.0"
      }
      "03"
      {
        "var_type"        "FIELD_FLOAT"
        "prison_duration"   "4.0"
      }
      "04"
      {
        "var_type"        "FIELD_INTEGER"
        "int_gain"        "4 7 10 13"
      }
      "05"
      {
        "var_type"        "FIELD_INTEGER"
        "int_gain_duration"   "50.0"
      }
    }

    "OnSpellStart"
    {
      "FireSound"
      {
        "EffectName"      "Hero_ObsidianDestroyer.AstralImprisonment.Cast"
        "Target"        "CASTER"
      }

      "FireSound"
      {
        "EffectName"      "Hero_ObsidianDestroyer.AstralImprisonment"
        "Target"        "TARGET"
      }

      "RunScript"
      {
        "ScriptFile"      "hero/hero_outhouse_decorator.lua"
        "Function"        "AstralImprisonment"

        "ability_name"      "imba_obsidian_destroyer_arcane_orb"
        "int_gain_modifier"   "modifier_imba_obsidian_destroyer_int_gain"
        "int_loss_modifier"   "modifier_imba_obsidian_destroyer_int_steal"        
      } 

      "ApplyModifier"
      {
        "ModifierName"      "modifier_imba_astral_imprisonment"
        "Target"        "TARGET"
      }
    }

    "Modifiers"
    {
      "modifier_imba_astral_imprisonment"
      {
        "Duration"        "%prison_duration"
        "IsDebuff"        "1"
        "IsHidden"        "0"
        "IsPurgable"      "0"

        "EffectName"      "particles/units/heroes/hero_obsidian_destroyer/obsidian_destroyer_prison.vpcf"
        "EffectAttachType"    "attach_origin"

        "States"
        {
          "MODIFIER_STATE_STUNNED"    "MODIFIER_STATE_VALUE_ENABLED"
          "MODIFIER_STATE_OUT_OF_GAME"  "MODIFIER_STATE_VALUE_ENABLED"
          "MODIFIER_STATE_INVULNERABLE" "MODIFIER_STATE_VALUE_ENABLED"
          "MODIFIER_STATE_NO_HEALTH_BAR"  "MODIFIER_STATE_VALUE_ENABLED"
        }

        "OnDestroy"
        {
          "RunScript"
          {
            "ScriptFile"  "hero/hero_outhouse_decorator.lua"
            "Function"    "AstralImprisonmentEnd"

            "sound_name"  "Hero_ObsidianDestroyer.AstralImprisonment"       
          }

          "FireSound"
          {
            "EffectName"  "Hero_ObsidianDestroyer.AstralImprisonment.End"
            "Target"    "TARGET"
          }
        }       
      }
    }
  }

  //=================================================================================================================
  // Outhouse Decorator's Essence Aura
  //=================================================================================================================
  "imba_obsidian_destroyer_essence_aura"
  {
    // General
    //-------------------------------------------------------------------------------------------------------------
    "BaseClass"           "ability_datadriven"
    "AbilityBehavior"       "DOTA_ABILITY_BEHAVIOR_PASSIVE | DOTA_ABILITY_BEHAVIOR_AURA"
    "AbilityUnitTargetTeam"     "DOTA_UNIT_TARGET_TEAM_FRIENDLY"
    "AbilityUnitTargetType"     "DOTA_UNIT_TARGET_HERO"
    "AbilityTextureName"      "obsidian_destroyer_essence_aura"

    // Precache
    //-------------------------------------------------------------------------------------------------------------
    "precache"
    {
      "soundfile"         "soundevents/game_sounds_heroes/game_sounds_obsidian_destroyer.vsndevts"
      "particle"          "particles/units/heroes/hero_obsidian_destroyer/obsidian_destroyer_essence_effect.vpcf"   
    }
    
    // Special
    //-------------------------------------------------------------------------------------------------------------
    "AbilitySpecial"
    {
      "01"
      {
        "var_type"        "FIELD_INTEGER"
        "radius"        "1200"
      }
      "02"
      {
        "var_type"        "FIELD_INTEGER"
        "bonus_mana"      "2 3 4 5"
      }
      "03"
      {
        "var_type"        "FIELD_FLOAT"
        "restore_amount"    "6 8 10 12"
      }
      "04"
      {
        "var_type"        "FIELD_INTEGER"
        "mana_absorb"     "3"
      }
      "05"
      {
        "var_type"        "FIELD_FLOAT"
        "int_duration"      "12.0"
      }
      "06"
      {
        "var_type"        "FIELD_INTEGER"
        "max_int_pct"     "50"
      }
    }

    "Modifiers"
    {
      "modifier_imba_essence_aura"
      {
        "Passive"         "1"
        "IsPurgable"        "0"
        "IsHidden"          "1"

        "Aura"            "modifier_imba_essence_aura_buff"
        "Aura_Radius"       "%radius"
        "Aura_Teams"        "DOTA_UNIT_TARGET_TEAM_FRIENDLY"
        "Aura_Types"        "DOTA_UNIT_TARGET_HERO"
        "Aura_ApplyToCaster"    "1"

        "ThinkInterval"       "0.1"

        "OnIntervalThink"
        {
          "RunScript"
          {
            "ScriptFile"    "hero/hero_outhouse_decorator"
            "Function"      "EssenceAuraUpdate"

            "modifier_mana"   "modifier_imba_essence_aura_mana"
            "modifier_dummy"  "modifier_imba_essence_aura_mana_dummy"
            "modifier_stacks" "modifier_imba_essence_aura_int_gain_stacks"
          }
        }

        "OnCreated"
        {
          "RunScript"
          {
            "ScriptFile"    "internal/util.lua"
            "Function"      "IllusionPassiveRemover"

            "modifier"      "modifier_imba_essence_aura"
          }
        }
      }

      "modifier_imba_essence_aura_buff"
      {
        "IsHidden"          "0"
        
        "OnSpentMana"
        {
          "RunScript"
          {
            "ScriptFile"    "hero/hero_outhouse_decorator.lua"
            "Function"      "RestoreMana"

            "Target"      "UNIT"
            "essence_particle"  "particles/units/heroes/hero_obsidian_destroyer/obsidian_destroyer_essence_effect.vpcf"
            "essence_sound"   "Hero_ObsidianDestroyer.EssenceAura"
            "modifier_int"    "modifier_imba_essence_aura_int_gain"
          }
        }
      }

      "modifier_imba_essence_aura_int_gain"
      {
        "Duration"          "%int_duration"
        "IsPurgable"        "0"
        "IsHidden"          "1"

        "Attributes"        "MODIFIER_ATTRIBUTE_MULTIPLE | MODIFIER_ATTRIBUTE_IGNORE_INVULNERABLE"

        "OnDestroy"
        {
          "RunScript"
          {
            "ScriptFile"    "hero/hero_outhouse_decorator.lua"
            "Function"      "EssenceAuraEnd"
          }
        }

        "Properties"
        {
          "MODIFIER_PROPERTY_STATS_INTELLECT_BONUS" "1"
        }
      }

      "modifier_imba_essence_aura_int_gain_stacks"
      {
        "Duration"          "%int_duration"
        "IsPurgable"        "0"
        "IsHidden"          "0"

        "Attributes"        "MODIFIER_ATTRIBUTE_IGNORE_INVULNERABLE"
      }

      "modifier_imba_essence_aura_mana"
      {
        "Passive"     "1"
        "IsHidden"      "1"

        "Properties"
        {
          "MODIFIER_PROPERTY_MANA_BONUS"  "%bonus_mana"
        }
      }
    }
  }

  //=================================================================================================================
  // Outhouse Decorator's Sanity Eclipse
  //=================================================================================================================
  "imba_obsidian_destroyer_sanity_eclipse"
  {
    // General
    //-------------------------------------------------------------------------------------------------------------
    "BaseClass"           "ability_datadriven"
    "AbilityBehavior"       "DOTA_ABILITY_BEHAVIOR_POINT | DOTA_ABILITY_BEHAVIOR_AOE"
    "AbilityType"         "DOTA_ABILITY_TYPE_ULTIMATE"
    "AbilityUnitTargetTeam"     "DOTA_UNIT_TARGET_TEAM_ENEMY"
    "AbilityUnitTargetType"     "DOTA_UNIT_TARGET_HERO | DOTA_UNIT_TARGET_BASIC"
    "AbilityUnitDamageType"     "DAMAGE_TYPE_PURE"
    "SpellImmunityType"       "SPELL_IMMUNITY_ENEMIES_NO"
    "FightRecapLevel"       "2"
    "AbilityTextureName"      "obsidian_destroyer_sanity_eclipse"

    // Casting
    //-------------------------------------------------------------------------------------------------------------
    "AbilityCastRange"        "700"
    "AbilityCastPoint"        "0.2"
    "AOERadius"           "%radius"

    // Precache
    //-------------------------------------------------------------------------------------------------------------
    "precache"
    {
      "soundfile"         "soundevents/game_sounds_heroes/game_sounds_obsidian_destroyer.vsndevts"    
      "particle"          "particles/units/heroes/hero_obsidian_destroyer/obsidian_destroyer_sanity_eclipse_area.vpcf"
      "particle"          "particles/units/heroes/hero_obsidian_destroyer/obsidian_destroyer_sanity_eclipse_damage.vpcf"
      "particle"          "particles/units/heroes/hero_obsidian_destroyer/obsidian_destroyer_sanity_eclipse_mana_loss.vpcf"
      "particle"          "particles/units/heroes/hero_obsidian_destroyer/obsidian_destroyer_prison.vpcf"
    }
    
    // Time   
    //-------------------------------------------------------------------------------------------------------------
    "AbilityCooldown"           "160.0"

    // Cost
    //-------------------------------------------------------------------------------------------------------------
    "AbilityManaCost"           "200 350 500"

    // Special
    //-------------------------------------------------------------------------------------------------------------
    "AbilitySpecial"
    {
      "01"
      {
        "var_type"            "FIELD_INTEGER"
        "damage_multiplier"       "6 8 10"
      }
      "02"
      {
        "var_type"            "FIELD_INTEGER"
        "radius"            "400 500 600"
      }
      "03"
      {
        "var_type"            "FIELD_INTEGER"
        "cast_range"          "700"
      }
      "04"
      {
        "var_type"            "FIELD_INTEGER"
        "mana_burn_pct"         "75"
      } 
    }

    "OnSpellStart"
    {
      "FireSound"
      {
        "EffectName"          "Hero_ObsidianDestroyer.SanityEclipse.Cast"
        "Target"            "CASTER"
      }

      "FireSound"
      {
        "EffectName"          "Hero_ObsidianDestroyer.SanityEclipse"
        "Target"            "POINT"
      }

      "FireEffect"
      { 
        "EffectName"          "particles/units/heroes/hero_obsidian_destroyer/obsidian_destroyer_sanity_eclipse_area.vpcf"
        "EffectAttachType"        "start_at_customorigin"
        "TargetPoint"         "POINT"

        "ControlPoints"
        {
          "00"            "POINT"
          "01"            "%radius 0 0"
          "02"            "%radius 0 0"
          "03"            "%radius 0 0"       
        }
      }   

      "RunScript"
      {
        "ScriptFile"          "hero/hero_outhouse_decorator.lua"
        "Function"            "SanityEclipse"
        "Target"            "POINT"

        "astral_name"         "imba_obsidian_destroyer_astral_imprisonment"
        "astral_modifier"       "modifier_imba_astral_imprisonment"
        "astral_sound"          "Hero_ObsidianDestroyer.AstralImprisonment"
        "ability_name"          "imba_obsidian_destroyer_arcane_orb"
        "int_gain_modifier"       "modifier_imba_obsidian_destroyer_int_gain"
        "int_loss_modifier"       "modifier_imba_obsidian_destroyer_int_steal"
        "particle_mana_burn"      "particles/units/heroes/hero_obsidian_destroyer/obsidian_destroyer_sanity_eclipse_mana_loss.vpcf"
        "particle_damage"       "particles/units/heroes/hero_obsidian_destroyer/obsidian_destroyer_sanity_eclipse_damage.vpcf"
      }     
    }
  }

  //=================================================================================================================
  // Omniknight's Purification
  //=================================================================================================================
  "imba_omniknight_purification"
  {
    // General
    //-------------------------------------------------------------------------------------------------------------
    "BaseClass"           "ability_datadriven"
    "AbilityBehavior"       "DOTA_ABILITY_BEHAVIOR_UNIT_TARGET"
    "AbilityUnitTargetTeam"     "DOTA_UNIT_TARGET_TEAM_FRIENDLY"
    "AbilityUnitTargetType"     "DOTA_UNIT_TARGET_HERO | DOTA_UNIT_TARGET_BASIC | DOTA_UNIT_TARGET_MECHANICAL | DOTA_UNIT_TARGET_BUILDING"
    "AbilityUnitDamageType"     "DAMAGE_TYPE_PURE"
    "SpellImmunityType"       "SPELL_IMMUNITY_ALLIES_YES"
    "FightRecapLevel"       "1"
    "AbilityTextureName"      "omniknight_purification"

    // Casting
    //-------------------------------------------------------------------------------------------------------------
    "AbilityCastRange"        "700"
    "AbilityCastPoint"        "0.4"
    
    // Time   
    //-------------------------------------------------------------------------------------------------------------
    "AbilityCooldown"       "10.0"
    
    // Cost
    //-------------------------------------------------------------------------------------------------------------
    "AbilityManaCost"       "100 110 120 130"

    // Precache
    //-------------------------------------------------------------------------------------------------------------
    "precache"
    {
      "soundfile"         "soundevents/game_sounds_heroes/game_sounds_omniknight.vsndevts"
      "particle"          "particles/units/heroes/hero_omniknight/omniknight_purification.vpcf"
      "particle"          "particles/units/heroes/hero_omniknight/omniknight_purification_hit.vpcf"
      "particle"          "particles/units/heroes/hero_omniknight/omniknight_purification_cast.vpcf"
    }

    // Special
    //-------------------------------------------------------------------------------------------------------------
    "AbilitySpecial"
    {
      "01"
      {
        "var_type"        "FIELD_INTEGER"
        "heal_min"        "90 180 270 360"
      }
      "02"
      {
        "var_type"        "FIELD_INTEGER"
        "heal_pct"        "10 15 20 25"
      }
      "03"
      {
        "var_type"        "FIELD_INTEGER"
        "damage_tooltip"    "90 180 270 360"
      }
      "04"
      {
        "var_type"        "FIELD_INTEGER"
        "radius"        "375"
      }
      "05"
      {
        "var_type"        "FIELD_FLOAT"
        "passive_cooldown"    "25.0 20.0 15.0 10.0"
      }
    }

    "OnSpellStart"
    {
      "RunScript"
      {
        "ScriptFile"        "hero/hero_omniknight.lua"
        "Function"          "Purification"

        "cast_sound"        "Hero_Omniknight.Purification"
        "aoe_particle"        "particles/units/heroes/hero_omniknight/omniknight_purification.vpcf"
        "target_particle"     "particles/units/heroes/hero_omniknight/omniknight_purification_cast.vpcf"
      }
    }

    "Modifiers"
    {
      "modifier_imba_purification_passive"
      {
        "Passive"         "1"
        "IsHidden"          "0"
        "IsBuff"          "1"
        "IsPurgable"        "0"
    
        "Attributes"        "MODIFIER_ATTRIBUTE_IGNORE_INVULNERABLE"

        "OnCreated"
        {
          "RunScript"
          {
            "ScriptFile"    "internal/util.lua"
            "Function"      "IllusionPassiveRemover"

            "modifier"      "modifier_imba_purification_passive"
          }
        }
    
        "Properties"
        {
          "MODIFIER_PROPERTY_MIN_HEALTH"    "1" 
        }

        "OnTakeDamage"
        {
          "RunScript"
          {
            "ScriptFile"    "hero/hero_omniknight.lua"
            "Function"      "PurificationDeath"

            "damage"      "%attack_damage"
            "cast_sound"    "Hero_Omniknight.Purification"
            "aoe_particle"    "particles/units/heroes/hero_omniknight/omniknight_purification.vpcf"
            "target_particle" "particles/units/heroes/hero_omniknight/omniknight_purification_cast.vpcf"
            "passive_modifier"  "modifier_imba_purification_passive"
            "cooldown_modifier" "modifier_imba_purification_passive_cooldown"
          }
        }
      }

      "modifier_imba_purification_passive_cooldown"
      {
        "Passive"         "0"
        "IsHidden"          "0"
        "IsDebuff"          "1"
        "IsPurgable"        "0"

        "TextureName"       "omnikinight_purification_cooldown"
    
        "Attributes"        "MODIFIER_ATTRIBUTE_IGNORE_INVULNERABLE"

        "Duration"          "%passive_cooldown"
    
        "OnDestroy"
        {
          "ApplyModifier"
          {
            "ModifierName"    "modifier_imba_purification_passive"
            "Target"      "CASTER"
          }
        }
      }
    }
  }

  //=================================================================================================================
  // Omniknight's Repel
  //=================================================================================================================
  "imba_omniknight_repel"
  {
    // General
    //-------------------------------------------------------------------------------------------------------------
    "BaseClass"           "ability_datadriven"
    "AbilityBehavior"       "DOTA_ABILITY_BEHAVIOR_UNIT_TARGET"
    "AbilityUnitTargetTeam"     "DOTA_UNIT_TARGET_TEAM_BOTH"
    "AbilityUnitTargetType"     "DOTA_UNIT_TARGET_HERO | DOTA_UNIT_TARGET_BASIC | DOTA_UNIT_TARGET_MECHANICAL"
    "SpellImmunityType"       "SPELL_IMMUNITY_ALLIES_NO"
    "FightRecapLevel"       "1"
    "AbilityTextureName"      "omniknight_repel"

    // Casting
    //-------------------------------------------------------------------------------------------------------------
    "AbilityCastRange"        "700"
    "AbilityCastPoint"        "0.3"
    
    // Time   
    //-------------------------------------------------------------------------------------------------------------
    "AbilityCooldown"       "14.0"
    
    // Cost
    //-------------------------------------------------------------------------------------------------------------
    "AbilityManaCost"       "50"
    
    // Special
    //-------------------------------------------------------------------------------------------------------------
    "AbilitySpecial"
    {
      "01"
      {
        "var_type"        "FIELD_FLOAT"
        "duration"        "6.0 8.0 10.0 12.0"
      }
    }

    "precache"
    {
      "soundfile"         "soundevents/game_sounds_heroes/game_sounds_omniknight.vsndevts"
      "particle"          "particles/units/heroes/hero_omniknight/omniknight_repel_buff.vpcf"
    }

    "OnSpellStart"
    {
      "FireSound"
      {
        "EffectName"      "Hero_Omniknight.Repel"
        "Target"        "TARGET"
      }

      "FireEffect"
      {
        "EffectName"      "particles/units/heroes/hero_omniknight/omniknight_repel_cast.vpcf"
        "EffectAttachType"    "follow_origin"
        "Target"              "TARGET"
      }

      "ApplyModifier"
      {
        "Target"        "TARGET"
        "ModifierName"      "modifier_omniknight_repel"
        "Duration"        "%duration"
      }

      "FireEffect"
      {
        "EffectName"      "particles/units/heroes/hero_omniknight/omniknight_repel_cast.vpcf"
        "EffectAttachType"    "follow_origin"
        "Target"              "CASTER"
      }

      "ApplyModifier"
      {
        "Target"        "CASTER"
        "ModifierName"      "modifier_omniknight_repel"
        "Duration"        "%duration"
      }

      "RunScript"
      {
        "ScriptFile"      "hero/hero_omniknight.lua"
        "Function"        "Repel"
        "Target"          "TARGET"
      }
    }
  }

  //=================================================================================================================
  // Omniknight's Repel (scepter version)
  //=================================================================================================================
  "imba_omniknight_repel_scepter"
  {
    // General
    //-------------------------------------------------------------------------------------------------------------
    "BaseClass"           "ability_datadriven"
    "AbilityBehavior"       "DOTA_ABILITY_BEHAVIOR_UNIT_TARGET"
    "AbilityUnitTargetTeam"     "DOTA_UNIT_TARGET_TEAM_BOTH"
    "AbilityUnitTargetType"     "DOTA_UNIT_TARGET_HERO | DOTA_UNIT_TARGET_BASIC | DOTA_UNIT_TARGET_MECHANICAL | DOTA_UNIT_TARGET_BUILDING"
    "SpellImmunityType"       "SPELL_IMMUNITY_ALLIES_NO"
    "FightRecapLevel"       "1"
    "AbilityTextureName"      "omniknight_repel"

    // Casting
    //-------------------------------------------------------------------------------------------------------------
    "AbilityCastRange"        "700"
    "AbilityCastPoint"        "0.4"
    
    // Time   
    //-------------------------------------------------------------------------------------------------------------
    "AbilityCooldown"       "14.0"
    
    // Cost
    //-------------------------------------------------------------------------------------------------------------
    "AbilityManaCost"       "50"

    // Special
    //-------------------------------------------------------------------------------------------------------------
    "AbilitySpecial"
    {
      "01"
      {
        "var_type"        "FIELD_FLOAT"
        "duration"        "6.0 8.0 10.0 12.0"
      }
    }

    "precache"
    {
      "soundfile"         "soundevents/game_sounds_heroes/game_sounds_omniknight.vsndevts"
      "particle"          "particles/units/heroes/hero_omniknight/omniknight_repel_buff.vpcf"
    }

    "OnSpellStart"
    {
      "FireSound"
      {
        "EffectName"      "Hero_Omniknight.Repel"
        "Target"        "TARGET"
      }

      "FireEffect"
      {
        "EffectName"      "particles/units/heroes/hero_omniknight/omniknight_repel_cast.vpcf"
        "EffectAttachType"    "follow_origin"
        "Target"              "TARGET"
      }

      "ApplyModifier"
      {
        "Target"        "TARGET"
        "ModifierName"      "modifier_omniknight_repel"
        "Duration"        "%duration"
      }

      "FireEffect"
      {
        "EffectName"      "particles/units/heroes/hero_omniknight/omniknight_repel_cast.vpcf"
        "EffectAttachType"    "follow_origin"
        "Target"              "CASTER"
      }

      "ApplyModifier"
      {
        "Target"        "CASTER"
        "ModifierName"      "modifier_omniknight_repel"
        "Duration"        "%duration"
      }

      "RunScript"
      {
        "ScriptFile"      "hero/hero_omniknight.lua"
        "Function"        "Repel"
        "Target"        "TARGET"
      }
    }
  }

  //=================================================================================================================
  // Omniknight's Degen Aura
  //=================================================================================================================
  "imba_omniknight_degen_aura"
  {
    // General
    //-------------------------------------------------------------------------------------------------------------
    "BaseClass"           "ability_datadriven"
    "AbilityBehavior"       "DOTA_ABILITY_BEHAVIOR_PASSIVE | DOTA_ABILITY_BEHAVIOR_AURA"
    "AbilityUnitTargetTeam"     "DOTA_UNIT_TARGET_TEAM_ENEMY"
    "SpellImmunityType"       "SPELL_IMMUNITY_ENEMIES_YES"
    "AbilityTextureName"      "omniknight_degen_aura"
    
    // Casting
    //-------------------------------------------------------------------------------------------------------------
    "AbilityCastRange"        "350 400 450 500"
    
    // Special
    //-------------------------------------------------------------------------------------------------------------
    "AbilitySpecial"
    {
      "01"
      {
        "var_type"        "FIELD_INTEGER"
        "speed_bonus"     "-20 -25 -30 -35"
      }
      "02"
      {
        "var_type"        "FIELD_INTEGER"
        "attack_bonus_tooltip"  "-20 -25 -30 -35"
      }
      "03"
      {
        "var_type"        "FIELD_INTEGER"
        "radius"        "350 400 450 500"
      }
      "04"
      {
        "var_type"        "FIELD_FLOAT"
        "stack_rate"      "1.0"
      }
      "05"
      {
        "var_type"        "FIELD_FLOAT"
        "sticky_time"     "2.0"
      }
      "06"
      {
        "var_type"        "FIELD_INTEGER"
        "stack_reduction_pct" "5 6 7 8"
      }
    }

    "precache"
    {
      "soundfile"         "soundevents/game_sounds_heroes/game_sounds_omniknight.vsndevts"
      "particle"          "particles/units/heroes/hero_omniknight/omniknight_degen_aura_debuff.vpcf"
    }

    "OnUpgrade"
    {
      "RemoveModifier"
      {
        "ModifierName"      "modifier_imba_degen_aura"
        "Target"        "CASTER"
      }

      "ApplyModifier"
      {
        "ModifierName"      "modifier_imba_degen_aura"
        "Target"        "CASTER"
      }
    }

    "Modifiers"
    {
      "modifier_imba_degen_aura"
      {
        "Passive"         "1"
        "IsHidden"        "1"
        "IsBuff"        "1"
        "IsPurgable"      "0"

        "Aura"          "modifier_imba_degen_aura_effect"
        "Aura_Radius"       "%radius"
        "Aura_Teams"      "DOTA_UNIT_TARGET_TEAM_ENEMY"
        "Aura_Types"      "DOTA_UNIT_TARGET_HERO | DOTA_UNIT_TARGET_BASIC | DOTA_UNIT_TARGET_MECHANICAL"
        "Aura_Flags"        "DOTA_UNIT_TARGET_FLAG_MAGIC_IMMUNE_ENEMIES"

        "OnCreated"
        {
          "RunScript"
          {
            "ScriptFile"          "internal/util.lua"
            "Function"            "IllusionPassiveRemover"

            "modifier"            "modifier_imba_degen_aura"
          }
        }
      }

      "modifier_imba_degen_aura_effect"
      {
        "IsDebuff"        "1"
        "IsPurgable"      "1"
        "IsHidden"        "1"

        "EffectName"      "particles/units/heroes/hero_omniknight/omniknight_degen_aura_debuff.vpcf"
        "EffectAttachType"    "follow_origin"

        "Duration"        "%sticky_time"

        "ThinkInterval"     "%stack_rate"
        
        "OnIntervalThink"
        {
          "RunScript"
          {
            "ScriptFile"    "hero/hero_omniknight.lua"
            "Function"      "DegenAura"

            "modifier"      "modifier_imba_degen_aura_"
            "dummy_modifier"  "modifier_imba_degen_aura_refresh_dummy"
          }
        }

        "Properties"
        {
          "MODIFIER_PROPERTY_MOVESPEED_BONUS_PERCENTAGE"  "%speed_bonus"
          "MODIFIER_PROPERTY_ATTACKSPEED_BONUS_CONSTANT"  "%attack_bonus_tooltip"
        }
      }

      "modifier_imba_degen_aura_str"
      {
        "IsDebuff"        "1"
        "IsHidden"        "0"
        "IsPurgable"      "1"

        "Duration"        "%sticky_time"

        "AllowIllusionDuplicate"                "1"

        "Properties"
        {
          "MODIFIER_PROPERTY_STATS_STRENGTH_BONUS"    "-1"
        }
      }

      "modifier_imba_degen_aura_agi"
      {
        "IsDebuff"        "1"
        "IsHidden"        "0"
        "IsPurgable"      "1"

        "Duration"        "%sticky_time"

        "AllowIllusionDuplicate"                "1"

        "Properties"
        {
          "MODIFIER_PROPERTY_STATS_AGILITY_BONUS"     "-1"
        }
      }

      "modifier_imba_degen_aura_int"
      {
        "IsDebuff"        "1"
        "IsHidden"        "0"
        "IsPurgable"      "1"

        "Duration"        "%sticky_time"

        "AllowIllusionDuplicate"                "1"

        "Properties"
        {
          "MODIFIER_PROPERTY_STATS_INTELLECT_BONUS"     "-1"
        }
      }

      "modifier_imba_degen_aura_refresh_dummy"
      {
        "IsDebuff"        "1"
        "IsHidden"        "1"
        "IsPurgable"      "1"

        "Properties"
        {
          "MODIFIER_PROPERTY_MANA_BONUS"          "1"
          "MODIFIER_PROPERTY_HEALTH_BONUS"        "1"
        }
      }
    }
  }

  //=================================================================================================================
  // Omniknight's Guardian Angel
  //=================================================================================================================
  "imba_omniknight_guardian_angel"
  {
    // General
    //-------------------------------------------------------------------------------------------------------------
    "BaseClass"             "ability_datadriven"
    "AbilityBehavior"         "DOTA_ABILITY_BEHAVIOR_NO_TARGET"
    "AbilityUnitTargetTeam"       "DOTA_UNIT_TARGET_TEAM_FRIENDLY"
    "AbilityUnitTargetType"       "DOTA_UNIT_TARGET_HERO | DOTA_UNIT_TARGET_BASIC | DOTA_UNIT_TARGET_MECHANICAL"
    "AbilityType"           "DOTA_ABILITY_TYPE_ULTIMATE"
    "SpellImmunityType"         "SPELL_IMMUNITY_ALLIES_YES"
    "FightRecapLevel"         "2"
    "AbilityTextureName"        "omniknight_guardian_angel"

    // Time   
    //-------------------------------------------------------------------------------------------------------------
    "AbilityCooldown"         "150.0"
    "AbilityCastPoint"          "0.4"
    
    // Cost
    //-------------------------------------------------------------------------------------------------------------
    "AbilityManaCost"         "125 175 225"
    
    // Special
    //-------------------------------------------------------------------------------------------------------------
    "AbilitySpecial"
    {
      "01"
      {
        "var_type"          "FIELD_FLOAT"
        "duration"          "6.0 8.0 10.0"
      }
      "02"
      {
        "var_type"          "FIELD_INTEGER"
        "hp_regen"          "40 50 60"
      }
      "03"
      {
        "var_type"          "FIELD_INTEGER"
        "radius"          "25000"
      }
    }

    "precache"
    {
      "soundfile"           "soundevents/game_sounds_heroes/game_sounds_omniknight.vsndevts"
      "particle"            "particles/units/heroes/hero_omniknight/omniknight_guardian_angel_halo_buff.vpcf"
      "particle"            "particles/status_fx/status_effect_guardian_angel.vpcf"
      "particle"            "particles/units/heroes/hero_omniknight/omniknight_guardian_angel_ally.vpcf"
    }

    "OnSpellStart"
    {
      "FireSound"
      {
        "EffectName"        "Hero_Omniknight.GuardianAngel.Cast"
        "Target"          "CASTER"
      }

      "ActOnTargets"
      {
        "Target"
        {
          "Center"          "CASTER"
          "Radius"        "%radius"
          "Teams"         "DOTA_UNIT_TARGET_TEAM_FRIENDLY"
          "Types"         "DOTA_UNIT_TARGET_HERO | DOTA_UNIT_TARGET_BASIC | DOTA_UNIT_TARGET_MECHANICAL"
        }

        "Action"
        {
          "ApplyModifier"
          {
            "Target"      "TARGET"
            "ModifierName"    "modifier_imba_guardian_angel"
          }
        }
      }
    }

    "Modifiers"
    {
      "modifier_imba_guardian_angel"
      {
        "IsBuff"          "1"
        "IsPurgable"        "1"

        "Duration"          "%duration"

        "StatusEffectName"        "particles/status_fx/status_effect_guardian_angel.vpcf"
        "StatusEffectPriority"    "10"

        "OnCreated"
        {
          "AttachEffect"
          {
            "EffectName"    "particles/units/heroes/hero_omniknight/omniknight_guardian_angel_halo_buff.vpcf"
            "EffectAttachType"  "follow_overhead"
            "Target"      "CASTER"
          }

          "AttachEffect"
          {
            "Target"      "TARGET"
            "EffectName"    "particles/units/heroes/hero_omniknight/omniknight_guardian_angel_ally.vpcf"
            "EffectAttachType"  "follow_origin"
          }
        }

        "Properties"
        {
          "MODIFIER_PROPERTY_ABSOLUTE_NO_DAMAGE_PHYSICAL"   "1"
          "MODIFIER_PROPERTY_HEALTH_REGEN_CONSTANT"     "%hp_regen"
        }
      }

      "modifier_imba_guardian_angel_scepter_check"
      {
        "Passive"               "1"
        "IsHidden"                "1"
        "IsPurgable"              "0"

        "ThinkInterval"             "0.1"

        "OnIntervalThink"
        {
          "RunScript"
          {
            "ScriptFile"          "hero/hero_omniknight.lua"
            "Function"            "ScepterCheck"

            "modifier"            "modifier_imba_guardian_angel_scepter_check"
            "repel_name"          "imba_omniknight_repel"
            "guardian_angel_name"     "imba_omniknight_guardian_angel"
          }
        }

        "OnCreated"
        {
          "RunScript"
          {
            "ScriptFile"          "internal/util.lua"
            "Function"            "IllusionPassiveRemover"

            "modifier"            "modifier_imba_guardian_angel_scepter_check"
          }
        }
      }
    }
  }

  //=================================================================================================================
  // Omniknight's Guardian Angel (scepter version)
  //=================================================================================================================
  "imba_omniknight_guardian_angel_scepter"
  {
    // General
    //-------------------------------------------------------------------------------------------------------------
    "BaseClass"             "ability_datadriven"
    "AbilityBehavior"         "DOTA_ABILITY_BEHAVIOR_NO_TARGET"
    "AbilityUnitTargetTeam"       "DOTA_UNIT_TARGET_TEAM_FRIENDLY"
    "AbilityUnitTargetType"       "DOTA_UNIT_TARGET_HERO | DOTA_UNIT_TARGET_BASIC | DOTA_UNIT_TARGET_MECHANICAL | DOTA_UNIT_TARGET_BUILDING"
    "AbilityType"           "DOTA_ABILITY_TYPE_ULTIMATE"
    "SpellImmunityType"         "SPELL_IMMUNITY_ALLIES_YES"
    "FightRecapLevel"         "2"
    "AbilityTextureName"        "omniknight_guardian_angel"

    // Time   
    //-------------------------------------------------------------------------------------------------------------
    "AbilityCooldown"         "150.0"
    "AbilityCastPoint"          "0.4"
    
    // Cost
    //-------------------------------------------------------------------------------------------------------------
    "AbilityManaCost"         "125 175 225"
    
    // Special
    //-------------------------------------------------------------------------------------------------------------
    "AbilitySpecial"
    {
      "01"
      {
        "var_type"          "FIELD_FLOAT"
        "duration"          "6.0 8.0 10.0"
      }
      "02"
      {
        "var_type"          "FIELD_INTEGER"
        "hp_regen"          "60"
      }
      "03"
      {
        "var_type"          "FIELD_INTEGER"
        "radius"          "25000"
      }
    }

    "precache"
    {
      "soundfile"           "soundevents/game_sounds_heroes/game_sounds_omniknight.vsndevts"
      "particle"            "particles/units/heroes/hero_omniknight/omniknight_guardian_angel_halo_buff.vpcf"
      "particle"            "particles/status_fx/status_effect_guardian_angel.vpcf"
      "particle"            "particles/units/heroes/hero_omniknight/omniknight_guardian_angel_ally.vpcf"
    }

    "OnSpellStart"
    {
      "FireSound"
      {
        "EffectName"        "Hero_Omniknight.GuardianAngel.Cast"
        "Target"          "CASTER"
      }

      "ActOnTargets"
      {
        "Target"
        {
          "Center"          "CASTER"
          "Radius"        "%radius"
          "Teams"         "DOTA_UNIT_TARGET_TEAM_FRIENDLY"
          "Types"         "DOTA_UNIT_TARGET_HERO | DOTA_UNIT_TARGET_BASIC | DOTA_UNIT_TARGET_MECHANICAL | DOTA_UNIT_TARGET_BUILDING"
        }

        "Action"
        {
          "ApplyModifier"
          {
            "Target"      "TARGET"
            "ModifierName"    "modifier_imba_guardian_angel"
          }
        }
      }
    }

    "Modifiers"
    {
      "modifier_imba_guardian_angel"
      {
        "IsBuff"          "1"
        "IsPurgable"        "1"

        "Duration"          "%duration"

        "StatusEffectName"        "particles/status_fx/status_effect_guardian_angel.vpcf"
        "StatusEffectPriority"    "10"

        "OnCreated"
        {
          "AttachEffect"
          {
            "EffectName"    "particles/units/heroes/hero_omniknight/omniknight_guardian_angel_halo_buff.vpcf"
            "EffectAttachType"  "follow_overhead"
            "Target"      "CASTER"
          }

          "AttachEffect"
          {
            "Target"      "TARGET"
            "EffectName"    "particles/units/heroes/hero_omniknight/omniknight_guardian_angel_ally.vpcf"
            "EffectAttachType"  "follow_origin"
          }
        }

        "Properties"
        {
          "MODIFIER_PROPERTY_ABSOLUTE_NO_DAMAGE_PHYSICAL"   "1"
          "MODIFIER_PROPERTY_HEALTH_REGEN_CONSTANT"     "%hp_regen"
        }
      }

      "modifier_imba_guardian_angel_scepter_check"
      {
        "Passive"               "1"
        "IsHidden"                "1"
        "IsPurgable"              "0"

        "ThinkInterval"             "0.1"

        "OnIntervalThink"
        {
          "RunScript"
          {
            "ScriptFile"          "hero/hero_omniknight.lua"
            "Function"            "ScepterLostCheck"

            "modifier"            "modifier_imba_guardian_angel_scepter_check"
            "repel_name"          "imba_omniknight_repel"
            "guardian_angel_name"     "imba_omniknight_guardian_angel"
          }
        }

        "OnCreated"
        {
          "RunScript"
          {
            "ScriptFile"          "internal/util.lua"
            "Function"            "IllusionPassiveRemover"

            "modifier"            "modifier_imba_guardian_angel_scepter_check"
          }
        }
      }
    }
  }

  //=================================================================================================================
  // Phantom Assassin's Stifling Dagger
  //=================================================================================================================
  "imba_phantom_assassin_stifling_dagger"
  {
    // General
    //-------------------------------------------------------------------------------------------------------------
    "BaseClass"           "ability_datadriven"
    "AbilityBehavior"       "DOTA_ABILITY_BEHAVIOR_NO_TARGET | DOTA_ABILITY_BEHAVIOR_AOE"
    "AbilityUnitTargetTeam"     "DOTA_UNIT_TARGET_TEAM_ENEMY"
    "AbilityUnitTargetType"     "DOTA_UNIT_TARGET_HERO | DOTA_UNIT_TARGET_BASIC"
    "AbilityUnitDamageType"     "DAMAGE_TYPE_PURE"  
    "SpellImmunityType"       "SPELL_IMMUNITY_ENEMIES_NO"
    "AbilityTextureName"      "phantom_assassin_stifling_dagger"

    // Precache
    //-------------------------------------------------------------------------------------------------------------
    "precache"
    {
      "soundfile"         "soundevents/game_sounds_heroes/game_sounds_phantom_assassin.vsndevts"
      "particle"          "particles/units/heroes/hero_phantom_assassin/phantom_assassin_stifling_dagger.vpcf"
      "particle"          "particles/units/heroes/hero_phantom_assassin/phantom_assassin_stifling_dagger_debuff.vpcf"
      "particle"          "particles/units/heroes/hero_silencer/silencer_last_word_disarm.vpcf"
      "particle"          "particles/units/heroes/hero_phantom_assassin/phantom_assassin_crit_impact.vpcf"
    }

    //aoe
    //-------------------------------------------------------------------------------------------------------------
    "AoERadius"              "%radius"

    // Casting
    //-------------------------------------------------------------------------------------------------------------
    "AbilityCastRange"        "1400"
    "AbilityCastPoint"        "0.2"
    
    // Time   
    //-------------------------------------------------------------------------------------------------------------
    "AbilityCooldown"       "6"
    "AbilityDuration"       "4.0"

    // Cost
    //-------------------------------------------------------------------------------------------------------------
    "AbilityManaCost"       "30 25 20 15"
    
    //Damage
    //-------------------------------------------------------------------------------------------------------------
    "AbilityDamage"         "80 120 160 200"
      
    // Special  
    //-------------------------------------------------------------------------------------------------------------
    "AbilitySpecial"
    {
      "01"
      {
        "var_type"        "FIELD_INTEGER"
        "move_slow"       "-20 -30 -40 -50"
      }
      "02"
      {
        "var_type"        "FIELD_INTEGER"
        "dagger_speed"      "1400"
      }
      "03"
      {
        "var_type"        "FIELD_INTEGER"
        "slow_duration"     "4"
      }
      "04"
      {
        "var_type"        "FIELD_FLOAT"
        "disarm_duration"   "1.5"
      }
      "05"
      {
        "var_type"        "FIELD_INTEGER"
        "hero_dmg_pct"      "50"
      }
      "06"
      {
        "var_type"        "FIELD_INTEGER"
        "radius"          "800 1000 1200 1400"
      }
    }

    "OnSpellStart"
    {
      "RunScript"
      {
        "ScriptFile"  "hero/hero_phantom_assassin.lua"
        "Function"    "StifflingDaggerAoe"

        "EffectName"          "particles/units/heroes/hero_phantom_assassin/phantom_assassin_stifling_dagger.vpcf"
      }
    }

    "OnProjectileHitUnit"
    {
      "Damage"
      {
        "Target"
        {
          "Center"      "TARGET"
          "Types"       "DOTA_UNIT_TARGET_HERO"
        }

        "Type"          "DAMAGE_TYPE_PURE"
        "Damage"        "%AbilityDamage * %hero_dmg_pct / 100"
      }

      "Damage"
      {
        "Target"
        {
          "Center"      "TARGET"
          "Types"       "DOTA_UNIT_TARGET_BASIC"
        }
        "Type"          "DAMAGE_TYPE_PURE"
        "Damage"        "%AbilityDamage"
      }

      "FireSound"
      {
        "EffectName"      "Hero_PhantomAssassin.Dagger.Target"
        "Target"        "TARGET"
      }

      "ApplyModifier"
      {
        "ModifierName"      "modifier_imba_stifling_dagger_slow"
        "Target"        "TARGET"
      }

      "RunScript"
      {
        "ScriptFile"      "hero/hero_phantom_assassin.lua"
        "Function"        "StiflingDaggerCrit"
        "Target"        "TARGET"

        "modifier_crit"     "modifier_imba_coup_de_grace_stacks"
        "crit_ability_name"   "imba_phantom_assassin_coup_de_grace"
        "sound_crit"      "Hero_PhantomAssassin.CoupDeGrace"
      }
    }

    "Modifiers"
    {
      "modifier_imba_stifling_dagger_slow"
      {
        "IsDebuff"        "1"
        "IsPurgable"      "1"

        "Duration"        "%slow_duration"

        "EffectName"      "particles/units/heroes/hero_phantom_assassin/phantom_assassin_stifling_dagger_debuff.vpcf"
        "EffectAttachType"    "follow_origin"

        "Properties"
        {
          "MODIFIER_PROPERTY_MOVESPEED_BONUS_PERCENTAGE"    "%move_slow"
          "MODIFIER_PROPERTY_ATTACKSPEED_BONUS_CONSTANT"    "%move_slow"
        }

        "States"
        {
          "MODIFIER_STATE_PROVIDES_VISION"  "MODIFIER_STATE_VALUE_ENABLED"
        }
      }
    }
  }

  //=================================================================================================================
  // Phantom Assassin's Phantom Strike
  //=================================================================================================================
  "imba_phantom_assassin_phantom_strike"
  {
    // General
    //-------------------------------------------------------------------------------------------------------------
    "BaseClass"           "ability_datadriven"
    "AbilityBehavior"       "DOTA_ABILITY_BEHAVIOR_UNIT_TARGET | DOTA_ABILITY_BEHAVIOR_IGNORE_BACKSWING"
    "AbilityUnitTargetTeam"     "DOTA_UNIT_TARGET_TEAM_FRIENDLY | DOTA_UNIT_TARGET_TEAM_ENEMY"
    "AbilityUnitTargetType"     "DOTA_UNIT_TARGET_HERO | DOTA_UNIT_TARGET_BASIC | DOTA_UNIT_TARGET_MECHANICAL | DOTA_UNIT_TARGET_BUILDING"
    "AbilityUnitTargetFlags"    "DOTA_UNIT_TARGET_FLAG_MAGIC_IMMUNE_ENEMIES"
    "SpellImmunityType"       "SPELL_IMMUNITY_ENEMIES_YES"
    "AbilityTextureName"      "phantom_assassin_phantom_strike"

    // Precache
    //-------------------------------------------------------------------------------------------------------------
    "precache"
    {
      "soundfile"         "soundevents/game_sounds_heroes/game_sounds_phantom_assassin.vsndevts"
      "particle"          "particles/units/heroes/hero_phantom_assassin/phantom_assassin_phantom_strike_end.vpcf"
      "particle"          "particles/units/heroes/hero_phantom_assassin/phantom_assassin_crit_impact.vpcf"
    }
    
    // Casting
    //-------------------------------------------------------------------------------------------------------------
    "AbilityCastRange"        "3500"
    "AbilityCastPoint"        "0.2"

    // Time   
    //-------------------------------------------------------------------------------------------------------------
    "AbilityCooldown"       "10 8 6 4"

    // Cost
    //-------------------------------------------------------------------------------------------------------------
    "AbilityManaCost"       "50"
    
    // Special
    //-------------------------------------------------------------------------------------------------------------
    "AbilitySpecial"
    {
      "01"
      {
        "var_type"          "FIELD_INTEGER"
        "bonus_attack_speed"    "130 160 190 220"
      }
      "02"
      {
        "var_type"          "FIELD_INTEGER"
        "tooltip_range"       "3500"
      }
      "03"
      {
        "var_type"          "FIELD_FLOAT"
        "buff_duration"       "3.0"
      }
      "04"
      {
        "var_type"          "FIELD_INTEGER"
        "projectile_speed"      "5000"
      }
      "05"
      {
        "var_type"          "FIELD_INTEGER"
        "projectile_width"      "125"
      }
    }

    "OnSpellStart"
    {
      "RunScript"
      {
        "ScriptFile"        "hero/hero_phantom_assassin.lua"
        "Function"          "PhantomStrike"

        "Target"          "TARGET"
        "modifier_phantom_strike" "modifier_imba_phantom_strike"
        "modifier_stacks"     "modifier_imba_coup_de_grace_stacks"
        "sound_start"       "Hero_PhantomAssassin.Strike.Start"
        "sound_end"         "Hero_PhantomAssassin.Strike.End"
        "particle_end"        "particles/units/heroes/hero_phantom_assassin/phantom_assassin_phantom_strike_end.vpcf"
      }
    }

    "OnProjectileHitUnit"
    {
      "DeleteOnHit"         "0"

      "FireEffect"
      {
        "EffectName"        "particles/units/heroes/hero_phantom_assassin/phantom_assassin_crit_impact.vpcf"
        "EffectAttachType"      "start_at_customorigin"
        
        "ControlPointEntities"
        {
          "TARGET"        "follow_origin"
          "TARGET"        "follow_origin"
        }
      }

      "FireSound"
      {
        "EffectName"        "Hero_PhantomAssassin.Attack"
        "Target"          "TARGET"
      }
      
      "RunScript"
      {
        "ScriptFile"        "hero/hero_phantom_assassin.lua"
        "Function"          "PhantomStrikeHit"

        "ability_crit"        "imba_phantom_assassin_coup_de_grace"
        "modifier_stacks"     "modifier_imba_coup_de_grace_stacks"
        "modifier_crit"       "modifier_imba_coup_de_grace_crit"
        "sound_kill"        "Hero_PhantomAssassin.CoupDeGrace"
      }
    }

    "Modifiers"
    {
      "modifier_imba_phantom_strike"
      {
        "IsBuff"          "1"
        "Duration"          "%buff_duration"

        "Properties"
        {
          "MODIFIER_PROPERTY_ATTACKSPEED_BONUS_CONSTANT"  "%bonus_attack_speed"
        }
      }
    }
  }

  //=================================================================================================================
  // Phantom Assassin's Blur
  //=================================================================================================================
  "imba_phantom_assassin_blur"
  {
    // General
    //-------------------------------------------------------------------------------------------------------------
    "BaseClass"           "ability_datadriven"
    "AbilityBehavior"       "DOTA_ABILITY_BEHAVIOR_PASSIVE"
    "AbilityTextureName"      "phantom_assassin_blur"

    // Precache
    //-------------------------------------------------------------------------------------------------------------
    "precache"
    {
      "particle"          "particles/units/heroes/hero_phantom_assassin/phantom_assassin_blur.vpcf"
      "soundfile"         "soundevents/game_sounds_heroes/game_sounds_puck.vsndevts"
      "particle"          "particles/units/heroes/hero_puck/puck_phase_shift.vpcf"
    }

    // Special
    //-------------------------------------------------------------------------------------------------------------
    "AbilitySpecial"
    {
      "01"
      {
        "var_type"          "FIELD_INTEGER"
        "bonus_evasion"       "20 30 40 50"
      }
      "02"
      {
        "var_type"          "FIELD_FLOAT"
        "transparency_fade"     "0.75"
      }
      "03"
      {
        "var_type"          "FIELD_INTEGER"
        "radius"          "1600"
      }
      "04"
      {
        "var_type"          "FIELD_INTEGER"
        "stack_evasion"       "10"
      }
      "05"
      {
        "var_type"          "FIELD_INTEGER"
        "stack_ms"          "3"
      }
      "06"
      {
        "var_type"          "FIELD_FLOAT"
        "stack_duration"      "2.0"
      }
      "07"
      {
        "var_type"          "FIELD_FLOAT"
        "duration"          "0.75 1.50 2.25 3.25"
      }
    }

    "Modifiers"
    {
      "modifier_imba_blur"
      {
        "Passive"         "1"
        "IsHidden"          "1"

        "ThinkInterval"       "0.5"

        "OnIntervalThink"
        {
          "RunScript"
          {
            "ScriptFile"    "hero/hero_phantom_assassin.lua"
            "Function"      "Blur"

            "modifier_enemy"  "modifier_imba_blur_enemy"
          }
        }

        "Properties"
        {
          "MODIFIER_PROPERTY_EVASION_CONSTANT"      "%bonus_evasion"
        }

        "States"
        {
          "MODIFIER_STATE_NOT_ON_MINIMAP_FOR_ENEMIES"   "MODIFIER_STATE_VALUE_ENABLED"
        }
      }

      "modifier_imba_blur_stacking"
      {
        "Passive"         "1"
        "IsHidden"          "1"

        "OnAttacked"
        {
          "RunScript"
          {
            "ScriptFile"    "hero/hero_phantom_assassin.lua"
            "Function"      "BlurStacks"

            "damage"      "%attack_damage"
            "stack_modifier"  "modifier_imba_blur_stacks"
            "phase_modifier"  "modifier_phase_shift_datadriven"
          }
        }

        "OnCreated"
        {
          "RunScript"
          {
            "ScriptFile"    "internal/util.lua"
            "Function"      "IllusionPassiveRemover"

            "modifier"      "modifier_imba_blur_stacking"
          }
        }
      }


      "modifier_imba_blur_enemy"
      {
        "EffectName"        "particles/units/heroes/hero_phantom_assassin/phantom_assassin_blur.vpcf"
        "EffectAttachType"      "follow_origin"
        
        "States"
        {
          "MODIFIER_STATE_NOT_ON_MINIMAP_FOR_ENEMIES"   "MODIFIER_STATE_VALUE_DISABLED"
        }
      }

      "modifier_imba_blur_stacks"
      {
        "IsBuff"          "1"
        "IsHidden"          "0"
        "Passive"         "0"
        "IsPurgable"        "0"

        "Duration"          "%stack_duration"

        "Properties"
        {
          "MODIFIER_PROPERTY_EVASION_CONSTANT"      "%stack_evasion"
          "MODIFIER_PROPERTY_MOVESPEED_BONUS_PERCENTAGE"  "%stack_ms"

        }
      }

      "modifier_phase_shift_datadriven"
      {
        "Duration"    "%duration"
      
        "EffectName"    "particles/units/heroes/hero_puck/puck_phase_shift.vpcf"
        "EffectAttachType"  "attach_origin"
      
        "OnCreated"
        {
          "FireSound"
          {
            "EffectName"  "Hero_Puck.Phase_Shift"
            "Target"    "TARGET"
          }
        
          "RunScript"
          {
            "ScriptFile"    "hero/hero_phantom_assassin.lua"
            "Function"      "HideCaster"
          }
        }
      
        "OnDestroy"
        {
          "RunScript"
          {
            "ScriptFile"  "heroes/hero_puck/phase_shift.lua"
            "Function"    "StopSound"
            "Target"    "TARGET"
            "sound_name"  "Hero_Puck.Phase_Shift"
          }
        
          "RunScript"
          {
            "ScriptFile"    "hero/hero_phantom_assassin.lua"
            "Function"      "ShowCaster"
          }
        }
      
        "States"
        { 
        //  "MODIFIER_STATE_INVULNERABLE"     "MODIFIER_STATE_VALUE_ENABLED"  // Don't use these state for a channeling ability.
        //  "MODIFIER_STATE_OUT_OF_GAME"      "MODIFIER_STATE_VALUE_ENABLED"
      
          "MODIFIER_STATE_ATTACK_IMMUNE"      "MODIFIER_STATE_VALUE_ENABLED"
          "MODIFIER_STATE_MAGIC_IMMUNE"     "MODIFIER_STATE_VALUE_ENABLED"
          "MODIFIER_STATE_UNSELECTABLE"     "MODIFIER_STATE_VALUE_ENABLED"
          "MODIFIER_STATE_NO_HEALTH_BAR"      "MODIFIER_STATE_VALUE_ENABLED"
        }
      }
    }
  }
  //=================================================================================================================
  // Phantom Assassin's Coup de Grace
  //=================================================================================================================
  "imba_phantom_assassin_coup_de_grace"
  {
    // General
    //-------------------------------------------------------------------------------------------------------------
    "BaseClass"           "ability_datadriven"
    "AbilityBehavior"       "DOTA_ABILITY_BEHAVIOR_PASSIVE"
    "AbilityType"         "DOTA_ABILITY_TYPE_ULTIMATE"
    "SpellImmunityType"       "SPELL_IMMUNITY_ENEMIES_YES"
    "AbilityTextureName"      "phantom_assassin_coup_de_grace"

    // Precache
    //-------------------------------------------------------------------------------------------------------------
    "precache"
    {
      "soundfile"         "soundevents/game_sounds_heroes/game_sounds_phantom_assassin.vsndevts"
      "soundfile"         "soundevents/imba_soundevents.vsndevts"
      "particle"          "particles/units/heroes/hero_phantom_assassin/phantom_assassin_crit_impact.vpcf"
      "particle"          "particles/hero/phantom_assassin/screen_blood_splatter.vpcf"
    }

    // Special
    //-------------------------------------------------------------------------------------------------------------
    "AbilitySpecial"
    {
      "01"
      {
        "var_type"          "FIELD_INTEGER"
        "crit_bonus"        "300 400 500"
      }
      "02"
      {
        "var_type"          "FIELD_INTEGER"
        "crit_chance"       "15"
      }
      "03"
      {
        "var_type"          "FIELD_INTEGER"
        "crit_increase"       "2"
      }
      "04"
      {
        "var_type"          "FIELD_FLOAT"
        "crit_increase_duration"  "3.0"
      }
      "05"
      {
        "var_type"          "FIELD_INTEGER"
        "crit_chance_scepter"   "3"
      }
    }

    "Modifiers"
    {
      "modifier_imba_coup_de_grace"
      {
        "Passive"         "1"
        "IsHidden"          "1"

        "OnAttackStart"
        {
          "RemoveModifier"
          {
            "ModifierName"    "modifier_imba_coup_de_grace_crit"
            "Target"      "CASTER"
          }

          "RemoveModifier"
          {
            "ModifierName"    "modifier_imba_coup_de_grace_kill"
            "Target"      "CASTER"
          }

          "RunScript"
          {
            "ScriptFile"    "hero/hero_phantom_assassin.lua"
            "Function"      "CoupDeGrace"
            "Target"      "TARGET"

            "stack_modifier"  "modifier_imba_coup_de_grace_stacks"
            "crit_modifier"   "modifier_imba_coup_de_grace_crit"
            "kill_modifier"   "modifier_imba_coup_de_grace_kill"
          }
        }
      }

      "modifier_imba_coup_de_grace_crit"
      {
        "IsHidden"          "1"
        "IsPurgable"        "0"

        "Properties"
        {
          "MODIFIER_PROPERTY_PREATTACK_CRITICALSTRIKE"  "%crit_bonus"
        }

        "OnAttackLanded"
        {
          "RemoveModifier"
          {
            "ModifierName"    "modifier_imba_coup_de_grace_crit"
            "Target"      "CASTER"
          }

          "FireEffect"
          {
            "EffectName"    "particles/units/heroes/hero_phantom_assassin/phantom_assassin_crit_impact.vpcf"
            "EffectAttachType"  "start_at_customorigin"
            
            "ControlPointEntities"
            {
              "TARGET"    "follow_origin"
              "TARGET"    "follow_origin"
            }
          }

          "FireSound"
          {
            "EffectName"    "Hero_PhantomAssassin.CoupDeGrace"
            "Target"
            {
              "Center"    "TARGET"
              "Teams"     "DOTA_UNIT_TARGET_TEAM_ENEMY"
              "Types"     "DOTA_UNIT_TARGET_HERO | DOTA_UNIT_TARGET_BASIC | DOTA_UNIT_TARGET_MECHANICAL"
              "Flags"     "DOTA_UNIT_TARGET_FLAG_MAGIC_IMMUNE_ENEMIES"
            }
          }
        }
      }

      "modifier_imba_coup_de_grace_kill"
      {
        "IsHidden"          "1"
        "IsPurgable"        "0"

        "OnCreated"
        {
          "RunScript"
          {
            "ScriptFile"    "internal/util.lua"
            "Function"      "IllusionPassiveRemover"

            "modifier"      "modifier_imba_coup_de_grace_kill"
          }
        }

        "Properties"
        {
          "MODIFIER_PROPERTY_PREATTACK_CRITICALSTRIKE"  "%crit_bonus"
        }

        "OnAttackLanded"
        {
          "RemoveModifier"
          {
            "ModifierName"    "modifier_imba_coup_de_grace_kill"
            "Target"      "CASTER"
          }

          "RunScript"
          {
            "ScriptFile"    "hero/hero_phantom_assassin.lua"
            "Function"      "CoupDeGraceKill"

            "sound_kill"    "Hero_PhantomAssassin.CoupDeGrace"
          }

          "FireEffect"
          {
            "EffectName"    "particles/units/heroes/hero_phantom_assassin/phantom_assassin_crit_impact.vpcf"
            "EffectAttachType"  "start_at_customorigin"
            
            "ControlPointEntities"
            {
              "TARGET"    "follow_origin"
              "TARGET"    "follow_origin"
            }
          }
        }
      }

      "modifier_imba_coup_de_grace_stacks"
      {
        "IsBuff"          "1"
        "IsHidden"          "0"
        "Passive"         "0"
        "IsPurgable"        "0"

        "Duration"          "%crit_increase_duration"
      }
    }
  }

  //=================================================================================================================
  // Pudge's Meat Hook
  //=================================================================================================================
  "imba_pudge_meat_hook"
  {
    // General
    //-------------------------------------------------------------------------------------------------------------
    "BaseClass"           "ability_datadriven"
    "AbilityBehavior"       "DOTA_ABILITY_BEHAVIOR_POINT | DOTA_ABILITY_BEHAVIOR_IGNORE_BACKSWING"
    "AbilityUnitDamageType"     "DAMAGE_TYPE_PURE"  
    "SpellImmunityType"       "SPELL_IMMUNITY_ENEMIES_YES"
    "FightRecapLevel"       "1"
    "AbilityTextureName"      "pudge_meat_hook"

    // Precache
    //-------------------------------------------------------------------------------------------------------------
    "precache"
    {
      "soundfile"         "soundevents/game_sounds_heroes/game_sounds_pudge.vsndevts"
      "soundfile"         "soundevents/game_sounds_heroes/game_sounds_bloodseeker.vsndevts"
      "particle"          "particles/units/heroes/hero_pudge/pudge_meathook_chain.vpcf"
      "particle"          "particles/units/heroes/hero_pudge/pudge_meathook_impact.vpcf"
      "particle"          "particles/units/heroes/hero_pudge/pudge_dismember.vpcf"
    }
    
    // Casting
    //-------------------------------------------------------------------------------------------------------------
    "AbilityCastRange"        "0"
    "AbilityCastPoint"        "0.2"

    // Time   
    //-------------------------------------------------------------------------------------------------------------
    "AbilityCooldown"       "13.0 12.0 11.0 10.0"

    // Cost
    //-------------------------------------------------------------------------------------------------------------
    "AbilityManaCost"       "110"

    // Special
    //-------------------------------------------------------------------------------------------------------------
    "AbilitySpecial"
    {
      "01"
      {
        "var_type"        "FIELD_INTEGER"
        "base_speed"      "1600"
      }
      "02"
      {
        "var_type"        "FIELD_INTEGER"
        "base_range"      "1100 1200 1300 1400"
      }
      "03"
      {
        "var_type"        "FIELD_INTEGER"
        "base_damage"     "90 180 270 360"
      }
      "04"
      {
        "var_type"        "FIELD_INTEGER"
        "hook_width"      "100"
      }
      "05"
      {
        "var_type"        "FIELD_INTEGER"
        "vision_radius"     "550"
      }
      "06"
      {
        "var_type"        "FIELD_INTEGER"
        "vision_duration"   "4"
      }
      "07"
      {
        "var_type"        "FIELD_INTEGER"
        "damage_scepter"    "120"
      }
    }

    "OnAbilityPhaseStart"
    { 
      "ApplyModifier"
      {
        "ModifierName"      "modifier_imba_meat_hook_cast_check"
        "Target"            "CASTER"
      }

      "RunScript"
      {
        "ScriptFile"      "hero/hero_pudge.lua"
        "Function"        "HookCast"
        "Target"          "POINT"

        "modifier_cast_check" "modifier_imba_meat_hook_cast_check"
        "modifier_light"      "modifier_imba_hook_light_stack"
      }
    }

    "OnSpellStart"
    {
      "RunScript"
      {
        "ScriptFile"      "hero/hero_pudge.lua"
        "Function"        "MeatHook"
        "Target"          "POINT"

        "sound_extend"           "Hero_Pudge.AttackHookExtend"
        "sound_hit"              "Hero_Pudge.AttackHookImpact"
        "sound_scepter_hit"      "Hero_Bloodseeker.Rupture"
        "sound_retract"          "Hero_Pudge.AttackHookRetract"
        "sound_retract_stop"     "Hero_Pudge.AttackHookRetractStop"
        "particle_hook"          "particles/units/heroes/hero_pudge/pudge_meathook_chain.vpcf"
        "particle_hit"           "particles/units/heroes/hero_pudge/pudge_meathook_impact.vpcf"
        "particle_hit_scepter"   "particles/units/heroes/hero_pudge/pudge_dismember.vpcf"
        "modifier_caster"        "modifier_imba_hook_caster"
        "modifier_target_enemy"  "modifier_imba_hook_target_enemy"
        "modifier_target_ally"   "modifier_imba_hook_target_ally"
        "modifier_dummy"         "modifier_imba_hook_dummy"
      }
    }

    "OnUpgrade"
    {
      "RunScript"
      {
        "ScriptFile"        "hero/hero_pudge.lua"
        "Function"          "HookUpgrade"

        "ability_sharp"       "imba_pudge_sharp_hook"
        "ability_light"       "imba_pudge_light_hook"
      }
    }

    "Modifiers"
    {
      "modifier_imba_hook_stack_updater"
      {
        "Passive"         "1"
        "IsHidden"          "1"
        "IsBuff"          "1"
        "IsPurgable"        "0"

        "ThinkInterval"       "0.2"
        
        "OnIntervalThink"
        {
          "RunScript"
          {
            "ScriptFile"        "hero/hero_pudge.lua"
            "Function"          "HookStacksUpdater"

            "modifier_sharp"      "modifier_imba_hook_sharp_stack"
            "modifier_light"      "modifier_imba_hook_light_stack"
          }
        }

        "OnCreated"
        {
          "RunScript"
          {
            "ScriptFile"        "internal/util.lua"
            "Function"          "IllusionPassiveRemover"

            "modifier"          "modifier_imba_hook_stack_controller"
          }
        }
      }

      "modifier_imba_hook_sharp_stack"
      {
        "Passive"           "0"
        "IsHidden"          "0"
        "IsBuff"            "1"
        "IsPurgable"        "0"

        "TextureName"       "pudge_sharp_hook"

        "Attributes"        "MODIFIER_ATTRIBUTE_PERMANENT | MODIFIER_ATTRIBUTE_IGNORE_INVULNERABLE"
      }

      "modifier_imba_hook_light_stack"
      {
        "Passive"           "0"
        "IsHidden"          "0"
        "IsBuff"            "1"
        "IsPurgable"        "0"

        "TextureName"       "pudge_light_hook"

        "Attributes"        "MODIFIER_ATTRIBUTE_PERMANENT | MODIFIER_ATTRIBUTE_IGNORE_INVULNERABLE"
      }

      "modifier_imba_hook_caster"
      {
        "Passive"         "0"
        "IsHidden"          "1"
        "IsDebuff"          "1"
        "IsPurgable"        "0"

        "OverrideAnimation"       "ACT_DOTA_OVERRIDE_ABILITY_1"

        "States"
        {
          "MODIFIER_STATE_ROOTED"   "MODIFIER_STATE_VALUE_ENABLED"
        }
      }

      "modifier_imba_hook_target_enemy"
      {
        "Passive"         "0"
        "IsHidden"          "0"
        "IsDebuff"          "1"
        "IsPurgable"        "0"

        "OverrideAnimation"     "ACT_DOTA_FLAIL"

        "States"
        {
          "MODIFIER_STATE_STUNNED"    "MODIFIER_STATE_VALUE_ENABLED"
        }
      }

      "modifier_imba_hook_target_ally"
      {
        "Passive"         "0"
        "IsHidden"          "0"
        "IsBuff"          "1"
        "IsPurgable"        "0"

        "OverrideAnimation"     "ACT_DOTA_FLAIL"

        "States"
        {
          "MODIFIER_STATE_ROOTED"     "MODIFIER_STATE_VALUE_ENABLED"
        }
      }

      "modifier_imba_hook_dummy"
      {
        "States"
        {
          "MODIFIER_STATE_INVULNERABLE" "MODIFIER_STATE_VALUE_ENABLED"
          "MODIFIER_STATE_NO_HEALTH_BAR"  "MODIFIER_STATE_VALUE_ENABLED"        
          "MODIFIER_STATE_NOT_ON_MINIMAP" "MODIFIER_STATE_VALUE_ENABLED"
          "MODIFIER_STATE_UNSELECTABLE" "MODIFIER_STATE_VALUE_ENABLED"
          "MODIFIER_STATE_OUT_OF_GAME"  "MODIFIER_STATE_VALUE_ENABLED"
        }
      }

      "modifier_imba_meat_hook_cast_check"
      {
        "Passive"       "0"
        "IsHidden"        "1"
        "IsPurgable"      "0"

        "Attributes"      "MODIFIER_ATTRIBUTE_IGNORE_INVULNERABLE"

        "OnOrder"
        {
          "RunScript"
          {
            "ScriptFile"  "hero/hero_pudge.lua"
            "Function"    "HookCastCheck"
          }
        }
      }
    }
  }

  //=================================================================================================================
  // Pudge's Rot
  //=================================================================================================================
  "imba_pudge_rot"
  {
    // General
    //-------------------------------------------------------------------------------------------------------------
    "BaseClass"           "ability_datadriven"
    "AbilityBehavior"       "DOTA_ABILITY_BEHAVIOR_NO_TARGET | DOTA_ABILITY_BEHAVIOR_TOGGLE | DOTA_ABILITY_BEHAVIOR_IGNORE_CHANNEL | DOTA_ABILITY_BEHAVIOR_IGNORE_BACKSWING"
    "AbilityUnitDamageType"     "DAMAGE_TYPE_MAGICAL" 
    "SpellImmunityType"       "SPELL_IMMUNITY_ENEMIES_NO"
    "FightRecapLevel"       "1"
    "AbilityTextureName"      "pudge_rot"

    // Precache
    //-------------------------------------------------------------------------------------------------------------
    "precache"
    {
      "soundfile"         "soundevents/game_sounds_heroes/game_sounds_pudge.vsndevts"
      "particle"          "particles/units/heroes/hero_pudge/pudge_rot.vpcf"
    }
    
    // Casting
    //-------------------------------------------------------------------------------------------------------------
    "AbilityCastPoint"        "0"
    "AbilityCastAnimation"      "ACT_DOTA_CHANNEL_ABILITY_2"

    // Special
    //-------------------------------------------------------------------------------------------------------------
    "AbilitySpecial"
    {
      "01"
      {
        "var_type"        "FIELD_INTEGER"
        "base_radius"     "500"
      }
      "02"
      {
        "var_type"        "FIELD_FLOAT"
        "rot_tick"        "0.2"
      }
      "03"
      {
        "var_type"        "FIELD_INTEGER"
        "rot_slow"        "-28 -32 -35 -40"
      }
      "04"
      {
        "var_type"        "FIELD_INTEGER"
        "base_damage"     "35 60 85 110"
      }
      "05"
      {
        "var_type"        "FIELD_INTEGER"
        "stack_damage"      "5"
      }
      "06"
      {
        "var_type"        "FIELD_INTEGER"
        "stack_radius"      "10"
      }
      "07"
      {
        "var_type"        "FIELD_FLOAT"
        "rot_stickyness"    "0.5"
      }
      "08"
      {
        "var_type"        "FIELD_INTEGER"
        "max_stacks"      "30"
      }
    }

    "OnToggleOn"
    {
      "ApplyModifier"
      {
        "ModifierName"      "modifier_imba_rot"
        "Target"        "CASTER"
      }

      "RunScript"
      {
        "ScriptFile"      "hero/hero_pudge.lua"
        "Function"        "RotResponse"
      }

      "FireSound"
      {
        "EffectName"      "Hero_Pudge.Rot"
        "Target"        "CASTER"
      }
    }

    "OnToggleOff"
    {
      "RemoveModifier"
      {
        "ModifierName"      "modifier_imba_rot"
        "Target"
        {
          "Center"      "CASTER"
          "Flags"       "DOTA_UNIT_TARGET_FLAG_DEAD"
        }
      }

      "RunScript"
      {
        "ScriptFile"      "hero/hero_pudge.lua"
        "Function"        "RotEnd"

        "rot_sound"       "Hero_Pudge.Rot"
      }
    }

    "Modifiers"
    {
      "modifier_imba_rot"
      {
        "IsBuff"        "1"
        "Passive"       "0"
        "IsPurgable"      "0"
        "IsHidden"        "1"

        "ThinkInterval"     "%rot_tick"

        "OnIntervalThink"
        {
          "RunScript"
          {
            "ScriptFile"  "hero/hero_pudge.lua"
            "Function"    "Rot"

            "modifier_slow" "modifier_imba_rot_slow"
            "modifier_heap" "modifier_imba_flesh_heap_stacks"
          }
        }

        "OnCreated"
        {
          "RunScript"
          {
            "ScriptFile"  "hero/hero_pudge.lua"
            "Function"    "RotParticle"

            "rot_particle"  "particles/units/heroes/hero_pudge/pudge_rot.vpcf"
            "modifier_heap" "modifier_imba_flesh_heap_stacks"
          }
        }
      }

      "modifier_imba_rot_slow"
      {
        "IsDebuff"        "1"
        "Passive"       "0"
        "IsPurgable"      "0"
        "IsHidden"        "0"

        "Duration"        "%rot_stickyness"

        "Properties"
        {
          "MODIFIER_PROPERTY_MOVESPEED_BONUS_PERCENTAGE"    "%rot_slow"
        }
      }
    }
  }

  //=================================================================================================================
  // Pudge's Flesh Heap
  //=================================================================================================================
  "imba_pudge_flesh_heap"
  {
    // General
    //-------------------------------------------------------------------------------------------------------------
    "BaseClass"           "ability_datadriven"
    "AbilityBehavior"       "DOTA_ABILITY_BEHAVIOR_PASSIVE"
    "AbilityTextureName"      "pudge_flesh_heap"

    // Precache
    //-------------------------------------------------------------------------------------------------------------
    "precache"
    {
      "particle"          "particles/units/heroes/hero_pudge/pudge_fleshheap_count.vpcf"
    }

    // Special
    //-------------------------------------------------------------------------------------------------------------
    "AbilitySpecial"
    {
      "01"
      {
        "var_type"              "FIELD_INTEGER"
        "base_magic_resist"         "6 8 10 12"
      }
      "02"
      {
        "var_type"              "FIELD_FLOAT"
        "stack_str"             "3 4.0 5 6.0"
      }
      "03"
      {
        "var_type"              "FIELD_INTEGER"
        "range"               "3000"
      }
      "04"
      {
        "var_type"              "FIELD_INTEGER"
        "stack_magic_resist"        "2.5"
      }
      "05"
      {
        "var_type"              "FIELD_FLOAT"
        "stack_scale_up"          "2.5"
      }
      "06"
      {
        "var_type"              "FIELD_INTEGER"
        "max_stacks"            "100"
      }
    }

    "OnUpgrade"
    {
      "RunScript"
      {
        "ScriptFile"            "hero/hero_pudge.lua"
        "Function"              "FleshHeapUpgrade"

        "modifier_resist"         "modifier_imba_flesh_heap_resist"
        "modifier_stacks"         "modifier_imba_flesh_heap_stacks"
      }
    }

    "Modifiers"
    {
      "modifier_imba_flesh_heap_aura"
      {
        "Passive"       "1"
        "IsBuff"        "1"
        "IsHidden"        "1"
        "IsPurgable"      "0"

        "Properties"
        {
          "MODIFIER_PROPERTY_MAGICAL_RESISTANCE_BONUS"  "%base_magic_resist"
        }

        "Aura"                "modifier_imba_flesh_heap_death_detector"
        "Aura_ApplyToCaster"        "0"
        "Aura_Radius"             "%range"
        "Aura_Teams"            "DOTA_UNIT_TARGET_TEAM_ENEMY"
        "Aura_Types"            "DOTA_UNIT_TARGET_HERO"
        "Aura_Flags"            "DOTA_UNIT_TARGET_FLAG_MAGIC_IMMUNE_ENEMIES"

        "OnCreated"
        {
          "RunScript"
          {
            "ScriptFile"        "internal/util.lua"
            "Function"          "IllusionPassiveRemover"

            "modifier"          "modifier_imba_flesh_heap_aura"
          }
        }

        "ThinkInterval"           "0.5"
        
        "OnIntervalThink"
        {
          "RunScript"
          {
            "ScriptFile"        "hero/hero_pudge.lua"
            "Function"          "HeapUpdater"

            "modifier_resist"     "modifier_imba_flesh_heap_resist"
            "modifier_stacks"     "modifier_imba_flesh_heap_stacks"
          }
        }
      }

      "modifier_imba_flesh_heap_resist"
      {
        "Passive"       "0"
        "IsHidden"        "1"
        "IsBuff"        "1"
        "IsPurgable"      "0"

        "Attributes"      "MODIFIER_ATTRIBUTE_MULTIPLE | MODIFIER_ATTRIBUTE_PERMANENT | MODIFIER_ATTRIBUTE_IGNORE_INVULNERABLE"

        "Properties"
        {
          "MODIFIER_PROPERTY_MAGICAL_RESISTANCE_BONUS"  "%stack_magic_resist"
        }
      }

      "modifier_imba_flesh_heap_stacks"
      {
        "Passive"       "0"
        "IsHidden"        "0"
        "IsBuff"        "1"
        "IsPurgable"      "0"

        "Attributes"      "MODIFIER_ATTRIBUTE_PERMANENT | MODIFIER_ATTRIBUTE_IGNORE_INVULNERABLE"

        "Properties"
        {
          "MODIFIER_PROPERTY_STATS_STRENGTH_BONUS"    "%stack_str"
        }
      }

      "modifier_imba_flesh_heap_death_detector"
      {
        "Passive"       "0"
        "IsHidden"        "1"
        "IsDebuff"        "1"
        "IsPurgable"      "0"

        "OnDeath"
        {
          "RunScript"
          {
            "ScriptFile"        "hero/hero_pudge.lua"
            "Function"          "FleshHeap"
          }

          "FireEffect"
          {
            "EffectName"        "particles/units/heroes/hero_pudge/pudge_fleshheap_count.vpcf"
            "EffectAttachType"      "follow_overhead"
            "Target"          "CASTER"
          }
        }
      }
    }
  }

  //=================================================================================================================
  // Pudge's Dismember
  //=================================================================================================================
  "imba_pudge_dismember"
  {
    // General
    //-------------------------------------------------------------------------------------------------------------
    "BaseClass"             "ability_datadriven"
    "AbilityType"           "DOTA_ABILITY_TYPE_ULTIMATE"
    "AbilityBehavior"         "DOTA_ABILITY_BEHAVIOR_UNIT_TARGET | DOTA_ABILITY_BEHAVIOR_CHANNELLED | DOTA_ABILITY_BEHAVIOR_IGNORE_BACKSWING"
    "AbilityUnitTargetTeam"       "DOTA_UNIT_TARGET_TEAM_ENEMY"
    "AbilityUnitTargetType"       "DOTA_UNIT_TARGET_HERO | DOTA_UNIT_TARGET_BASIC"
    "AbilityUnitTargetFlags"      "DOTA_UNIT_TARGET_FLAG_MAGIC_IMMUNE_ENEMIES"
    "SpellImmunityType"         "SPELL_IMMUNITY_ENEMIES_YES"
    "AbilityUnitDamageType"       "DAMAGE_TYPE_MAGICAL" 
    "FightRecapLevel"         "2"
    "AbilityTextureName"        "pudge_dismember"

    // Precache
    //-------------------------------------------------------------------------------------------------------------
    "precache"
    {
      "soundfile"           "soundevents/game_sounds_heroes/game_sounds_pudge.vsndevts"
      "particle"            "particles/units/heroes/hero_pudge/pudge_dismember.vpcf"
    }
    
    // Casting
    //-------------------------------------------------------------------------------------------------------------
    "AbilityCastRange"          "160"
    "AbilityCastPoint"          "0.2"
    "AbilityCastAnimation"        "ACT_DOTA_CHANNEL_ABILITY_4"

    // Time   
    //-------------------------------------------------------------------------------------------------------------
    "AbilityChannelTime"        "3.0"
    "AbilityCooldown"         "30.0 25.0 20.0"

    // Cost
    //-------------------------------------------------------------------------------------------------------------
    "AbilityManaCost"         "100 125 150"
    
    "AbilitySpecial"
    {
      "01"
      {
        "var_type"          "FIELD_INTEGER"
        "dismember_damage"      "60 100 140"
      }
      "02"
      {
        "var_type"          "FIELD_INTEGER"
        "strength_damage"     "100"
      }
      "03"
      {
        "var_type"          "FIELD_FLOAT"
        "max_duration"        "3.0"
      }
    }

    "OnSpellStart"
    {
      "RunScript"
      {
        "ScriptFile"        "hero/hero_pudge.lua"
        "Function"          "Dismember"

        "particle_target"     "particles/units/heroes/hero_pudge/pudge_dismember.vpcf"
      }

      "ApplyModifier"
      {
        "ModifierName"        "modifier_imba_dismember"
        "Target"
        {
          "Center"        "TARGET"
          "Teams"         "DOTA_UNIT_TARGET_TEAM_ENEMY"
          "Types"         "DOTA_UNIT_TARGET_HERO | DOTA_UNIT_TARGET_BASIC"
          "Flags"         "DOTA_UNIT_TARGET_FLAG_MAGIC_IMMUNE_ENEMIES"
        }
      }

      "FireSound"
      {
        "EffectName"        "Hero_Pudge.Dismember"
        "Target"          "CASTER"
      }
    }

    "OnChannelInterrupted"
    {
      "RunScript"
      {
        "ScriptFile"        "hero/hero_pudge.lua"
        "Function"          "DismemberEnd"

        "modifier_dismember"    "modifier_imba_dismember"
      }
    }

    "OnChannelFinish"
    {
      "RunScript"
      {
        "ScriptFile"        "hero/hero_pudge.lua"
        "Function"          "DismemberEnd"

        "modifier_dismember"    "modifier_imba_dismember"
      }
    }

    "Modifiers"
    {
      "modifier_imba_dismember"
      {
        "Passive"         "0"
        "IsDebuff"          "1"
        "IsHidden"          "0"
        "IsPurgable"        "0"

        "Duration"          "%max_duration"

        "ThinkInterval"       "1.0"

        "OverrideAnimation"     "ACT_DOTA_DISABLED"

        "OnIntervalThink"
        {
          "RunScript"
          {
            "ScriptFile"    "hero/hero_pudge.lua"
            "Function"      "Dismember"

            "particle_target" "particles/units/heroes/hero_pudge/pudge_dismember.vpcf"
          }

          "FireSound"
          {
            "EffectName"        "Hero_Pudge.Dismember"
            "Target"          "CASTER"
          }
        }

        "States"
        {
          "MODIFIER_STATE_STUNNED"      "MODIFIER_STATE_VALUE_ENABLED"
          "MODIFIER_STATE_INVISIBLE"      "MODIFIER_STATE_VALUE_DISABLED"
          "MODIFIER_STATE_PROVIDES_VISION"  "MODIFIER_STATE_VALUE_ENABLED"
        }
      }
    }
  }

  //=================================================================================================================
  // Queen of Pain's Shadow Strike
  //=================================================================================================================
  "imba_queenofpain_shadow_strike"
  {
    // General
    //-------------------------------------------------------------------------------------------------------------
    "BaseClass"           "ability_datadriven"
    "AbilityBehavior"       "DOTA_ABILITY_BEHAVIOR_UNIT_TARGET"
    "AbilityUnitTargetTeam"     "DOTA_UNIT_TARGET_TEAM_ENEMY"
    "AbilityUnitTargetType"     "DOTA_UNIT_TARGET_HERO | DOTA_UNIT_TARGET_BASIC"
    "AbilityUnitDamageType"     "DAMAGE_TYPE_MAGICAL" 
    "SpellImmunityType"       "SPELL_IMMUNITY_ENEMIES_NO"
    "FightRecapLevel"       "1"
    "AbilityTextureName"      "queenofpain_shadow_strike"

    // Precache
    //-------------------------------------------------------------------------------------------------------------
    "precache"
    {
      "soundfile"         "soundevents/game_sounds_heroes/game_sounds_queenofpain.vsndevts"
      "particle"          "particles/units/heroes/hero_queenofpain/queen_shadow_strike.vpcf"
      "particle"          "particles/units/heroes/hero_queenofpain/queen_shadow_strike_body.vpcf"
      "particle"          "particles/units/heroes/hero_queenofpain/queen_shadow_strike_debuff.vpcf"
    }

    // Casting
    //-------------------------------------------------------------------------------------------------------------
    "AbilityCastRange"        "550"
    "AbilityCastPoint"        "0.36"
    
    // Time   
    //-------------------------------------------------------------------------------------------------------------
    "AbilityCooldown"       "10.0 8.0 6.0 4.0"

    // Cost
    //-------------------------------------------------------------------------------------------------------------
    "AbilityManaCost"       "110"
    
    // Special  
    //-------------------------------------------------------------------------------------------------------------
    "AbilitySpecial"
    {
      "01"
      {
        "var_type"        "FIELD_INTEGER"
        "strike_damage"     "30 60 90 120"
      }
      "02"
      {
        "var_type"        "FIELD_INTEGER"
        "duration_damage"   "30 35 40 45"
      }
      "03"
      {
        "var_type"        "FIELD_INTEGER"
        "movement_slow"     "-29 -36 -43 -50"
      }
      "04"
      {
        "var_type"        "FIELD_INTEGER"
        "projectile_speed"    "900"
      }
      "05"
      {
        "var_type"        "FIELD_FLOAT"
        "duration_tooltip"    "15.0"
      }
      "06"
      {
        "var_type"        "FIELD_INTEGER"
        "base_slow"       "-15"
      }
      "07"
      {
        "var_type"        "FIELD_INTEGER"
        "stack_slow"      "-2 -3 -4 -5"
      }
      "08"
      {
        "var_type"        "FIELD_INTEGER"
        "strike_chance"     "10 15 20 25"
      }
    }

    "OnSpellStart"
    {
      "TrackingProjectile"
      {
        "Target"        "TARGET"
          "EffectName"      "particles/units/heroes/hero_queenofpain/queen_shadow_strike.vpcf"
          "Dodgeable"       "1"
          "ProvidesVision"    "0"
          "MoveSpeed"       "%projectile_speed"
          "SourceAttachment"    "DOTA_PROJECTILE_ATTACHMENT_ATTACK_1"
      }

      "FireSound"
      {
        "EffectName"      "Hero_QueenOfPain.ShadowStrike"
        "Target"        "CASTER"
      }

      "AttachEffect"
      {
        "Target"        "CASTER"
        "EffectAttachType"    "attach_origin"
        "EffectName"      "particles/units/heroes/hero_queenofpain/queen_shadow_strike_body.vpcf"
      }
    }

    "OnProjectileHitUnit"
    {
      "Damage"
      {
        "Target"        "TARGET"
        "Type"          "DAMAGE_TYPE_MAGICAL"
        "Damage"        "%strike_damage"
      }

      "ApplyModifier"
      {
        "ModifierName"      "modifier_imba_shadow_strike_base_slow"
        "Target"        "TARGET"
      }

      "RunScript"
      {
        "ScriptFile"      "hero/hero_queen_of_pain.lua"
        "Function"        "ShadowStrike"
        "Target"        "TARGET"

        "stack_modifier"    "modifier_imba_shadow_strike_stacking_slow"
      }
    }

    "Modifiers"
    {
      "modifier_imba_shadow_strike_passive"
      {
        "Passive"       "1"
        "IsHidden"        "1"

        "OnAttack"
        {
          "Random"
          {
            "Chance"          "%strike_chance"

            "OnSuccess"
            {
              "TrackingProjectile"
              {
                "Target"
                {
                  "Center"      "TARGET"
                  "Teams"     "DOTA_UNIT_TARGET_TEAM_ENEMY"
                  "Types"     "DOTA_UNIT_TARGET_HERO | DOTA_UNIT_TARGET_BASIC"
                }

                  "EffectName"    "particles/units/heroes/hero_queenofpain/queen_shadow_strike.vpcf"
                  "Dodgeable"     "1"
                  "ProvidesVision"  "0"
                  "MoveSpeed"     "%projectile_speed"
                  "SourceAttachment"  "DOTA_PROJECTILE_ATTACHMENT_ATTACK_1"
              }

              "FireSound"
              {
                "EffectName"    "Hero_QueenOfPain.ShadowStrike"
                "Target"      "CASTER"
              }

              "AttachEffect"
              {
                "Target"      "CASTER"
                "EffectAttachType"  "attach_origin"
                "EffectName"    "particles/units/heroes/hero_queenofpain/queen_shadow_strike_body.vpcf"
              }
            }
          }
        }

        "OnCreated"
        {
          "RunScript"
          {
            "ScriptFile"        "internal/util.lua"
            "Function"          "IllusionPassiveRemover"

            "modifier"          "modifier_imba_shadow_strike_passive"
          }
        }
      }

      "modifier_imba_shadow_strike_base_slow"
      {
        "IsDebuff"              "1"
        "IsPurgable"            "1"

        "Duration"              "%duration_tooltip"

        "EffectName"            "particles/units/heroes/hero_queenofpain/queen_shadow_strike_debuff.vpcf"
        "EffectAttachType"          "follow_chest"

        "ThinkInterval"           "2.0"

        "OnIntervalThink"
        {
          "Damage"
          {
            "Target"          "TARGET"
            "Type"            "DAMAGE_TYPE_MAGICAL"
            "Damage"          "%duration_damage"
          }

          "RunScript"
          {
            "ScriptFile"        "hero/hero_queen_of_pain.lua"
            "Function"          "ShadowStrikeDecay"
            "Target"          "TARGET"

            "stack_modifier"      "modifier_imba_shadow_strike_stacking_slow"
          }
        }

        "Properties"
        {
          "MODIFIER_PROPERTY_MOVESPEED_BONUS_PERCENTAGE"    "%base_slow"
        }
      }

      "modifier_imba_shadow_strike_stacking_slow"
      {
        "IsHidden"              "1"
        "IsDebuff"              "1"
        "IsPurgable"            "1"

        "Duration"              "%duration_tooltip"

        "Properties"
        {
          "MODIFIER_PROPERTY_MOVESPEED_BONUS_PERCENTAGE"    "%stack_slow"
        }
      }
    }
  }

  //=================================================================================================================
  // Queen of Pain's Blink
  //=================================================================================================================
  "imba_queenofpain_blink"
  {
    // General
    //-------------------------------------------------------------------------------------------------------------
    "BaseClass"           "ability_datadriven"
    "AbilityBehavior"       "DOTA_ABILITY_BEHAVIOR_POINT | DOTA_ABILITY_BEHAVIOR_ROOT_DISABLES"
    "AbilityTextureName"      "queenofpain_blink"

    // Precache
    //-------------------------------------------------------------------------------------------------------------
    "precache"
    {
      "soundfile"     "soundevents/game_sounds_heroes/game_sounds_queenofpain.vsndevts"
      "particle"      "particles/units/heroes/hero_queenofpain/queen_blink_end.vpcf"
      "particle"      "particles/units/heroes/hero_queenofpain/queen_blink_start.vpcf"
    }

    // Casting
    //-------------------------------------------------------------------------------------------------------------
    "AbilityCastRange"        "0"
    "AbilityCastPoint"        "0.28"

    // Time   
    //-------------------------------------------------------------------------------------------------------------
    "AbilityCooldown"       "12.0 10.0 8.0 6.0"
    
    // Cost
    //-------------------------------------------------------------------------------------------------------------
    "AbilityManaCost"       "60"
    
    // Special  
    //-------------------------------------------------------------------------------------------------------------
    "AbilitySpecial"
    {
      "01"
      {
        "var_type"        "FIELD_INTEGER"
        "blink_range"     "1500"
      }
      "02"
      {
        "var_type"        "FIELD_INTEGER"
        "min_blink_range"   "200"
      }
      "03"
      {
        "var_type"        "FIELD_INTEGER"
        "scream_damage"     "45 85 120 150"
      }
      "04"
      {
        "var_type"        "FIELD_FLOAT"
        "confused_duration"   "1.5"
      }
    }

    "OnSpellStart"
    {
      "FireSound"
      {
        "EffectName"      "Hero_QueenOfPain.Blink_out"
        "Target"        "CASTER"
      }

      "RunScript"
      {
        "ScriptFile"      "hero/hero_queen_of_pain.lua"
        "Function"        "Blink"
        "Target"        "POINT"
      }

      "AttachEffect"
      {
        "EffectName"      "particles/units/heroes/hero_queenofpain/queen_blink_start.vpcf"
        "Target"        "CASTER"
        "EffectAttachType"    "attach_hitloc"
      }

      "FireSound"
      {
        "EffectName"      "Hero_QueenOfPain.Blink_in"
        "Target"        "CASTER"
      }

      "AttachEffect"
      {
        "EffectName"      "particles/units/heroes/hero_queenofpain/queen_blink_end.vpcf"
        "Target"        "CASTER"
        "EffectAttachType"    "follow_origin"
      }
    }

    "OnProjectileHitUnit"
    {
      "RunScript"
      {
        "ScriptFile"      "hero/hero_queen_of_pain.lua"
        "Function"        "BlinkScream"
        "Target"        "TARGET"

        "modifier_confusion"  "modifier_imba_confusion"
      }
    }
  }

  //=================================================================================================================
  // Queen of Pain's Scream of Pain
  //=================================================================================================================
  "imba_queenofpain_scream_of_pain"
  {
    // General
    //-------------------------------------------------------------------------------------------------------------
    "BaseClass"           "ability_datadriven"
    "AbilityBehavior"       "DOTA_ABILITY_BEHAVIOR_NO_TARGET"
    "AbilityUnitDamageType"     "DAMAGE_TYPE_MAGICAL" 
    "SpellImmunityType"       "SPELL_IMMUNITY_ENEMIES_NO"
    "AbilityTextureName"      "queenofpain_scream_of_pain"

    // Precache
    //-------------------------------------------------------------------------------------------------------------
    "precache"
    {
      "soundfile"         "soundevents/game_sounds_heroes/game_sounds_queenofpain.vsndevts"
      "particle"          "particles/units/heroes/hero_queenofpain/queen_scream_of_pain.vpcf"
      "particle"          "particles/units/heroes/hero_queenofpain/queen_scream_of_pain_owner.vpcf"
    }

    // Casting
    //-------------------------------------------------------------------------------------------------------------
    "AbilityCastRange"        "500"
    "AbilityCastPoint"        "0.0"

    // Time   
    //-------------------------------------------------------------------------------------------------------------
    "AbilityCooldown"       "7.0 6.5 6.0 5.5"

    // Damage.
    //-------------------------------------------------------------------------------------------------------------
    "AbilityDamage"         "90 170 240 300"

    // Cost
    //-------------------------------------------------------------------------------------------------------------
    "AbilityManaCost"       "110 120 130 140"

    // Special
    //-------------------------------------------------------------------------------------------------------------
    "AbilitySpecial"
    {
      "01"
      {
        "var_type"        "FIELD_INTEGER"
        "area_of_effect"    "500"
      }
      "02"
      {
        "var_type"        "FIELD_INTEGER"
        "projectile_speed"    "900"
      }
      "03"
      {
        "var_type"        "FIELD_FLOAT"
        "confusion_duration"  "1.5 2.0 2.5 3.0"
      }
      "04"
      {
        "var_type"        "FIELD_INTEGER"
        "confusion_damage"    "50 75 100 125"
      }
    }

    "OnSpellStart"
    {
      "FireSound"
      {
        "EffectName"      "Hero_QueenOfPain.ScreamOfPain"
        "Target"        "CASTER"
      }

      "AttachEffect"
      {
        "EffectName"      "particles/units/heroes/hero_queenofpain/queen_scream_of_pain_owner.vpcf"
        "EffectAttachType"    "attach_origin"
        "Target"        "CASTER"
      }

      "ActOnTargets"
      {
        "Target"
        {
          "Center"      "CASTER"
          "Radius"      "%area_of_effect"
          "Teams"       "DOTA_UNIT_TARGET_TEAM_ENEMY"
          "Types"       "DOTA_UNIT_TARGET_BASIC | DOTA_UNIT_TARGET_HERO"
        }

        "Action"
        {
          "TrackingProjectile"
          {
            "Target"        "TARGET"
              "EffectName"      "particles/units/heroes/hero_queenofpain/queen_scream_of_pain.vpcf"
              "Dodgeable"       "0"
              "ProvidesVision"    "0"
              "MoveSpeed"       "%projectile_speed"
              "SourceAttachment"    "DOTA_PROJECTILE_ATTACHMENT_HITLOCATION"
          }
        }
      }
    }

    "OnProjectileHitUnit"
    {
      "Damage"
      {
        "Target"        "TARGET"
        "Type"          "DAMAGE_TYPE_MAGICAL"
        "Damage"        "%AbilityDamage"
      }

      "ApplyModifier"
      {
        "ModifierName"      "modifier_imba_confusion"
        "Target"        "TARGET"
        "Duration"        "%confusion_duration"
      }
    }

    "Modifiers"
    {
      "modifier_imba_confusion"
      {
        "Passive"       "0"
        "IsHidden"        "0"
        "IsDebuff"        "1"
    
        "OnAbilityExecuted"
        {
          "Damage"
          {
            "Target"    "UNIT"
            "Type"      "DAMAGE_TYPE_MAGICAL"
            "Damage"    "%confusion_damage"
          }
        }

        "OnAttackStart"
        {
          "Damage"
          {
            "Target"    "ATTACKER"
            "Type"      "DAMAGE_TYPE_MAGICAL"
            "Damage"    "%confusion_damage"
          }
        }
      }
    }
  }

  //=================================================================================================================
  // Queen of Pain's Delightful Torment
  //=================================================================================================================
  "imba_queenofpain_delightful_torment"
  {
    // General
    //-------------------------------------------------------------------------------------------------------------
    "BaseClass"             "ability_datadriven"
    "AbilityBehavior"         "DOTA_ABILITY_BEHAVIOR_PASSIVE | DOTA_ABILITY_BEHAVIOR_NOT_LEARNABLE"
    "AbilityUnitTargetType"       "DOTA_UNIT_TARGET_HERO"
    "MaxLevel"              "1"
    "AbilityTextureName"        "queenofpain_delightful_torment"
    
    // Special
    //-------------------------------------------------------------------------------------------------------------
    "AbilitySpecial"
    {
      "01"
      {
        "var_type"          "FIELD_FLOAT"
        "cooldown_reduction"    "0.2"
      }
    }
    
    "Modifiers"
    {
      "modifier_imba_delightful_torment"
      {
        "Passive"         "1"
        "IsBuff"          "1"
        "IsPurgable"        "0"
        "IsHidden"          "1"
        
        "OnDealDamage"
        {
          "RunScript"
          {
            "ScriptFile"    "hero/hero_queen_of_pain.lua"
            "Function"      "Torment"
          }
        }
      }
    }
  }

  //=================================================================================================================
  // Queen of Pain's Sonic Wave
  //=================================================================================================================
  "imba_queenofpain_sonic_wave"
  {
    // General
    //-------------------------------------------------------------------------------------------------------------
    "BaseClass"           "ability_datadriven"
    "AbilityType"         "DOTA_ABILITY_TYPE_ULTIMATE"
    "AbilityBehavior"       "DOTA_ABILITY_BEHAVIOR_DIRECTIONAL | DOTA_ABILITY_BEHAVIOR_POINT"      
    "SpellImmunityType"       "SPELL_IMMUNITY_ENEMIES_YES"
    "AbilityUnitDamageType"     "DAMAGE_TYPE_PURE"  
    "FightRecapLevel"       "2"
    "AbilityTextureName"      "queenofpain_sonic_wave"

    // Precache
    //-------------------------------------------------------------------------------------------------------------
    "precache"
    {
      "soundfile"         "soundevents/game_sounds_heroes/game_sounds_queenofpain.vsndevts"
      "particle"          "particles/units/heroes/hero_queenofpain/queen_sonic_wave.vpcf"
    }
    
    // Casting
    //-------------------------------------------------------------------------------------------------------------
    "AbilityCastRange"        "1100"
    "AbilityCastPoint"        "0.4"
    "AbilityCastAnimation"      "ACT_DOTA_CAST_ABILITY_4"

    // Time   
    //-------------------------------------------------------------------------------------------------------------
    "AbilityCooldown"       "120 80 40"

    // Cost
    //-------------------------------------------------------------------------------------------------------------
    "AbilityManaCost"       "240 360 480"

    // Special
    //-------------------------------------------------------------------------------------------------------------
    "AbilitySpecial"
    {
      "01"
      {
        "var_type"        "FIELD_INTEGER"
        "starting_aoe"      "100"
      }
      "02"
      {
        "var_type"        "FIELD_INTEGER"
        "distance"        "900"
      }
      "03"
      {
        "var_type"        "FIELD_INTEGER"
        "final_aoe"       "450"
      }
      "04"
      {
        "var_type"        "FIELD_INTEGER"
        "speed"         "1100"
      }
      "05"
      {
        "var_type"        "FIELD_INTEGER"
        "damage"        "300 400 500"
      }
      "06"
      {
        "var_type"        "FIELD_INTEGER"
        "damage_scepter"    "330 460 590"
      }
      "07"
      {
        "var_type"        "FIELD_FLOAT"
        "debuff_duration"   "4.0 5.0 6.0"
      }
      "08"
      {
        "var_type"        "FIELD_INTEGER"
        "damage_increase"   "15 20 25"
      }
    }

    "OnSpellStart"
    {
      "FireSound"
      {
        "EffectName"      "Hero_QueenOfPain.SonicWave"
        "Target"        "CASTER"
      }

      "LinearProjectile"
      {
        "Target"        "POINT"
          "EffectName"      "particles/units/heroes/hero_queenofpain/queen_sonic_wave.vpcf"
          "MoveSpeed"       "%speed"
          "StartRadius"     "%starting_aoe"
          "StartPosition"     "attach_origin"
          "EndRadius"       "%final_aoe"
          "FixedDistance"     "%distance"
          "TargetTeams"     "DOTA_UNIT_TARGET_TEAM_ENEMY"
          "TargetTypes"     "DOTA_UNIT_TARGET_BASIC | DOTA_UNIT_TARGET_HERO | DOTA_UNIT_TARGET_MECHANICAL"
          "TargetFlags"     "DOTA_UNIT_TARGET_FLAG_MAGIC_IMMUNE_ENEMIES"
          "HasFrontalCone"    "1"
          "ProvidesVision"    "0"
      }
    }

    "OnProjectileHitUnit"
    {
      "DeleteOnHit"       "0"

      "RunScript"
      {
        "ScriptFile"      "hero/hero_queen_of_pain.lua"
        "Function"        "SonicWave"

        "modifier_daze"     "modifier_imba_sonic_wave_daze"
      }
    }

    "Modifiers"
    {
      "modifier_imba_sonic_wave_daze"
      {
        "IsHidden"        "0"
        "IsDebuff"        "1"
        "IsPurgable"      "1"
    
        "OnUnitMoved"
        {
          "Random"
          {
            "Chance"      "25"
            "OnSuccess"
            {
              "RunScript"
              {
                "ScriptFile"  "hero/hero_queen_of_pain.lua"
                "Function"    "Daze"
              }
            }
          }
        }

        "Properties"
        {
          "MODIFIER_PROPERTY_INCOMING_DAMAGE_PERCENTAGE"    "%damage_increase"
        }
      }
    }
  }

  //=================================================================================================================
  // Sniper's Shrapnel
  //=================================================================================================================

  "imba_sniper_shrapnel"
{
  // General
  //-------------------------------------------------------------------------------------------------------------
  "BaseClass"                 "ability_datadriven"
  "AbilityBehavior"           "DOTA_ABILITY_BEHAVIOR_AOE | DOTA_ABILITY_BEHAVIOR_POINT | DOTA_ABILITY_BEHAVIOR_IGNORE_BACKSWING"
  "AbilityUnitDamageType"     "DAMAGE_TYPE_MAGICAL" 
  "SpellImmunityType"         "SPELL_IMMUNITY_ENEMIES_NO"
  "FightRecapLevel"           "1"
  "AbilityTextureName"        "sniper_shrapnel"
  "AOERadius"                 "%radius"
  
  // Casting
  //-------------------------------------------------------------------------------------------------------------
  "AbilityCastRange"        "1800"
  "AbilityCastPoint"        "0.3 0.3 0.3 0.3"

  // Damage.
  //-------------------------------------------------------------------------------------------------------------
  "AbilityDamage"         "12 24 36 48"

  // Cost
  //-------------------------------------------------------------------------------------------------------------
  "AbilityManaCost"       "150 170 190 210"

  // Stats
  //-------------------------------------------------------------------------------------------------------------
  "AbilityModifierSupportValue" "0.25"  // primarily about damage

  // Special
  //-------------------------------------------------------------------------------------------------------------
  "AbilitySpecial"
  {
    "01"
    {
      "var_type"        "FIELD_INTEGER"
      "slow_movement_speed" "-15 -20 -25 -30"
    }
    "02"
    {
      "var_type"        "FIELD_INTEGER"
      "radius"          "1450"
    }
    "03"
    {
      "var_type"        "FIELD_INTEGER"
      "building_damage"   "4 8 12 16"
    }
    "04"
    {
      "var_type"        "FIELD_FLOAT"
      "duration"        "10.0"
    }
    "05"
    {
      "var_type"        "FIELD_FLOAT"
      "damage_delay"      "0.8 0.8 0.8 0.8"
    }
    "06"
    {
      "var_type"        "FIELD_FLOAT"
      "slow_duration"     "2.0 2.0 2.0 2.0"
    }
    // Extra variables
    "07"
    {
      "var_type"        "FIELD_FLOAT"
      "tick_interval"     "1.0"
    }
    "08"
    {
      "var_type"        "FIELD_INTEGER"
      "maximum_charges"   "3"
    }
    "09"
    {
      "var_type"        "FIELD_FLOAT"
      "charge_replenish_time" "40.0"
    }
  }
  
  // Data driven
  //-------------------------------------------------------------------------------------------------------------
  "precache"
  {
    "soundfile"         "soundevents/game_sounds_heroes/game_sounds_sniper.vsndevts"
    "particle"          "particles/units/heroes/hero_sniper/sniper_shrapnel.vpcf"
    "particle"          "particles/units/heroes/hero_sniper/sniper_shrapnel_launch.vpcf"
    "particle"          "particles/econ/items/sniper/sniper_charlie/sniper_shrapnel_charlie.vpcf"
  }
  
  "OnUpgrade"
  {
    "RunScript"
    {
      "ScriptFile"      "hero/hero_sniper.lua"
      "Function"        "shrapnel_start_charge"
    }
  }
  
  "OnSpellStart"
  {
    "RunScript"
    {
      "ScriptFile"      "hero/hero_sniper.lua"
      "Function"        "shrapnel_fire"
      "Target"          "POINT"
    }
  }
  
  "Modifiers"
  {
    "modifier_shrapnel_stack_counter_datadriven"
    {
      "Passive"         "1"
      "IsHidden"        "0"
      "IsPurgable"      "0"
      "IsDebuff"        "0"
    }
    
    "modifier_shrapnel_dummy_datadriven"
    {
      "OnCreated"
      {
        "FireSound"
        {
          "Target"        "TARGET"
          "EffectName"      "Hero_Sniper.ShrapnelShatter"
        }
      
        "AttachEffect"
        {
          "Target"              "TARGET"
          "EffectName"          "particles/units/heroes/hero_sniper/sniper_shrapnel.vpcf"
          "EffectAttachType"    "follow_origin"
          "EffectRadius"        "%radius"
        }
        
        "AttachEffect"
        {
          "Target"        "TARGET"
          "EffectName"      "particles/econ/items/sniper/sniper_charlie/sniper_shrapnel_charlie.vpcf"
          "EffectAttachType"    "follow_origin"
          "EffectRadius"      "%radius"
        }
        
        "ActOnTargets"
        {
          "Target"
          {
            "Center"  "TARGET"
            "Radius"  "%radius"
            "Teams"   "DOTA_UNIT_TARGET_TEAM_ENEMY"
            "Types"   "DOTA_UNIT_TARGET_HERO | DOTA_UNIT_TARGET_BASIC | DOTA_UNIT_TARGET_MECHANICAL"
            "Flags"   "DOTA_UNIT_TARGET_FLAG_MAGIC_IMMUNE_ENEMIES"
          }
          
          "Action"
          {
            "Damage"
            {
              "Target"    "TARGET"
              "Damage"    "%AbilityDamage"
              "Type"      "DAMAGE_TYPE_MAGICAL"
            }
            
            "ApplyModifier"
            {
              "Target"    "TARGET"
              "ModifierName"  "modifier_shrapnel_slow_datadriven"
            }
          }
        }
      }
      
      "ThinkInterval"     "%tick_interval"
      "OnIntervalThink"
      {
        "ActOnTargets"
        {
          "Target"
          {
            "Center"  "TARGET"
            "Radius"  "%radius"
            "Teams"   "DOTA_UNIT_TARGET_TEAM_ENEMY"
            "Types"   "DOTA_UNIT_TARGET_HERO | DOTA_UNIT_TARGET_BASIC | DOTA_UNIT_TARGET_MECHANICAL"
            "Flags"   "DOTA_UNIT_TARGET_FLAG_MAGIC_IMMUNE_ENEMIES"
          }
          
          "Action"
          {
            "Damage"
            {
              "Target"    "TARGET"
              "Damage"    "%AbilityDamage"
              "Type"      "DAMAGE_TYPE_MAGICAL"
            }
            
            "ApplyModifier"
            {
              "Target"    "TARGET"
              "ModifierName"  "modifier_shrapnel_slow_datadriven"
            }
          }
        }
      }
      
      "Properties"
      {
        "MODIFIER_PROPERTY_BONUS_DAY_VISION"      "%radius"
        "MODIFIER_PROPERTY_BONUS_NIGHT_VISION"      "%radius"
      }
      
      "States"
      {
        "MODIFIER_STATE_INVULNERABLE"         "MODIFIER_STATE_VALUE_ENABLED"
        "MODIFIER_STATE_NO_HEALTH_BAR"          "MODIFIER_STATE_VALUE_ENABLED"
        "MODIFIER_STATE_NO_UNIT_COLLISION"        "MODIFIER_STATE_VALUE_ENABLED"
        "MODIFIER_STATE_NOT_ON_MINIMAP"         "MODIFIER_STATE_VALUE_ENABLED"
        "MODIFIER_STATE_UNSELECTABLE"         "MODIFIER_STATE_VALUE_ENABLED"
        "MODIFIER_STATE_FLYING"             "MODIFIER_STATE_VALUE_ENABLED"
      }
    }
  
    "modifier_shrapnel_slow_datadriven"
    {
      "IsHidden"        "0"
    
      "Duration"        "%slow_duration"
      
      "Properties"
      {
        "MODIFIER_PROPERTY_MOVESPEED_BONUS_PERCENTAGE"    "%slow_movement_speed"
      }
    }
  }
}


  //=================================================================================================================
  // Sniper's Headshot
  //=================================================================================================================
  "imba_sniper_headshot"
  {
    // General
    //-------------------------------------------------------------------------------------------------------------
    "BaseClass"                     "ability_datadriven"
    "AbilityBehavior"               "DOTA_ABILITY_BEHAVIOR_PASSIVE"
    "AbilityUnitDamageType"         "DAMAGE_TYPE_PHYSICAL"  
    "SpellImmunityType"             "SPELL_IMMUNITY_ENEMIES_YES"
    "AbilityTextureName"            "sniper_headshot"
    
    // Precache
    //-------------------------------------------------------------------------------------------------------------
    "precache"
    {
      "soundfile"             "soundevents/game_sounds_heroes/game_sounds_sniper.vsndevts"
      "particle"              "particles/generic_gameplay/generic_stunned.vpcf"
      "particle"              "particles/units/heroes/hero_sniper/sniper_headshot_slow.vpcf"
      "particle"              "particles/units/heroes/hero_sniper/sniper_assassinate.vpcf"
    }
    
    // Special
    //-------------------------------------------------------------------------------------------------------------
    "AbilitySpecial"
    {
      "01"
      {
        "var_type"            "FIELD_FLOAT"
        "near_duration"         "0.2"
      }
      "02"
      {
        "var_type"            "FIELD_FLOAT"
        "normal_duration"       "0.4"
      }
      "03"
      {
        "var_type"            "FIELD_FLOAT"
        "far_duration"          "3.0"
      }
      "04"
      {
        "var_type"            "FIELD_INTEGER"
        "proc_chance"         "40"
      }
      "05"
      {
        "var_type"            "FIELD_INTEGER"
        "normal_move_slow"        "-200"
      }
      "06"
      {
        "var_type"            "FIELD_INTEGER"
        "normal_attack_slow"      "-100"
      }
      "07"
      {
        "var_type"            "FIELD_INTEGER"
        "normal_damage"         "25 50 75 100"
      }
      "08"
      {
        "var_type"            "FIELD_INTEGER"
        "far_damage"          "60 100 140 180"
      }
      "09"
      {
        "var_type"            "FIELD_INTEGER"
        "far_aoe"           "300"
      }
      "10"
      {
        "var_type"            "FIELD_INTEGER"
        "far_armor"           "-4 -6 -8 -10"
      }
      "11"
      {
        "var_type"            "FIELD_INTEGER"
        "far_knockback"         "25"
      }
      "12"
      {
        "var_type"            "FIELD_FLOAT"
        "knockback_speed"       "900"
      }
      "13"
      {
        "var_type"            "FIELD_INTEGER"
        "far_shot_speed"        "2500"
      }
    }

    "OnProjectileHitUnit"
    {
      "DeleteOnHit"           "1"

      "ApplyModifier"
      {
        "ModifierName"          "modifier_imba_headshot"
        "Target"                "TARGET"
      }

      "Damage"
      {
        "Target"            "TARGET"
        "Type"              "DAMAGE_TYPE_PHYSICAL"
        "Damage"            "%far_damage"
      }

      "FireSound"
      {
        "EffectName"          "Hero_Sniper.AssassinateDamage"
        "Target"              "TARGET"
      }
    }
    
    "Modifiers"
    {
      "modifier_imba_headshot"
      {
        "Passive"             "1"
        "IsHidden"            "1"
        "IsPurgable"          "0"
        
        "OnAttackLanded"
        {
          "Random"
          {
            "Chance"              "%proc_chance"
            
            "OnSuccess"
            {
              "RunScript"
              {
                "ScriptFile"        "hero/hero_sniper.lua"
                "Function"          "Headshot"

                "modifier_normal_debuff"  "modifier_imba_headshot_normal_debuff"
              }
            }
          }
        }
      }

      "modifier_imba_headshot_normal_debuff"
      {
        "IsDebuff"            "1"
        "IsPurgable"          "0"
        "IsHidden"            "0"

        "Duration"            "%normal_duration"

        "EffectName"          "particles/units/heroes/hero_sniper/sniper_headshot_slow.vpcf"
        "EffectAttachType"    "follow_overhead"

        "Properties"
        {
          "MODIFIER_PROPERTY_ATTACKSPEED_BONUS_CONSTANT"    "%normal_attack_slow"
          "MODIFIER_PROPERTY_MOVESPEED_BONUS_PERCENTAGE"    "%normal_move_slow" 
        }
      }
    }
  }

  //=================================================================================================================
  // Sniper's Take Aim 
  //=================================================================================================================
  "imba_sniper_take_aim"
  {
    // General
    //-------------------------------------------------------------------------------------------------------------
    "BaseClass"                  "ability_datadriven"
    "AbilityBehavior"            "DOTA_ABILITY_BEHAVIOR_PASSIVE"
    "AbilityTextureName"         "sniper_take_aim"

    // Special
    //-------------------------------------------------------------------------------------------------------------
    "AbilitySpecial"
    {
      "01"
      {
        "var_type"          "FIELD_INTEGER"
        "range"             "500 1000 1500 2000"
      }
    }
    
    "Modifiers"
    {
      "modifier_imba_take_aim"
      {
        "Passive"           "1"
        "IsPurgable"        "0"
        "IsHidden"          "1"
        
        "Properties"
        {
          "MODIFIER_PROPERTY_ATTACK_RANGE_BONUS"        "%range"
        }
      }
    }
  }

  //=================================================================================================================
  // Sniper's Assassinate
  //=================================================================================================================
  "imba_sniper_assassinate"
  {
    // General
    //-------------------------------------------------------------------------------------------------------------
    "BaseClass"                 "ability_datadriven"
    "AbilityType"               "DOTA_ABILITY_TYPE_ULTIMATE"
    "AbilityBehavior"           "DOTA_ABILITY_BEHAVIOR_UNIT_TARGET | DOTA_ABILITY_BEHAVIOR_NORMAL_WHEN_STOLEN"
    "AbilityUnitTargetTeam"     "DOTA_UNIT_TARGET_TEAM_ENEMY"
    "AbilityUnitTargetType"     "DOTA_UNIT_TARGET_HERO | DOTA_UNIT_TARGET_BASIC"
    "AbilityUnitTargetFlags"    "DOTA_UNIT_TARGET_FLAG_MAGIC_IMMUNE_ENEMIES | DOTA_UNIT_TARGET_FLAG_INVULNERABLE"
    "SpellImmunityType"         "SPELL_IMMUNITY_ENEMIES_YES"
    "AbilityUnitDamageType"     "DAMAGE_TYPE_PHYSICAL"  
    "FightRecapLevel"           "2"
    "AbilityTextureName"        "sniper_assassinate"
    
    // Casting
    //-------------------------------------------------------------------------------------------------------------
    "AbilityCastRange"        "25000"
    "AbilityCastRangeBuffer"    "1000"
    "AbilityCastPoint"        "1.7"

    // Time   
    //-------------------------------------------------------------------------------------------------------------
    "AbilityCooldown"       "20.0 15.0 10.0"

    // Cost
    //-------------------------------------------------------------------------------------------------------------
    "AbilityManaCost"       "175 200 225"

    // Precache
    //-------------------------------------------------------------------------------------------------------------
    "precache"
    {
      "soundfile"         "soundevents/game_sounds_heroes/game_sounds_sniper.vsndevts"
      "particle"          "particles/units/heroes/hero_sniper/sniper_assassinate.vpcf"
      "particle"          "particles/units/heroes/hero_sniper/sniper_crosshair.vpcf"
      "particle"          "particles/econ/items/gyrocopter/hero_gyrocopter_gyrotechnics/gyro_guided_missile_death.vpcf"
      "particle"          "particles/units/heroes/hero_sniper/sniper_headshot_slow.vpcf"
    }

    // Special
    //-------------------------------------------------------------------------------------------------------------
    "AbilitySpecial"
    {
      "01"
      {
        "var_type"          "FIELD_FLOAT"
        "projectile_travel_time"  "0.5"
      }
      "02"
      {
        "var_type"          "FIELD_FLOAT"
        "charge_time"       "1.7"
      }
      "03"
      {
        "var_type"          "FIELD_INTEGER"
        "spill_range"       "750 1000 1250"
      }
      "04"
      {
        "var_type"          "FIELD_INTEGER"
        "regular_range"       "3000 3500 4000"
      }
      "05"
      {
        "var_type"          "FIELD_INTEGER"
        "damage"          "325 500 675"
      }
      "07"
      {
        "var_type"          "FIELD_INTEGER"
        "aoe_size"          "250"
      }
      "08"
      {
        "var_type"          "FIELD_INTEGER"
        "damage_scepter"      "400 650 900"
      }
      "09"
      {
        "var_type"          "FIELD_FLOAT"
        "slow_duration_scepter"   "3.0"
      }
      "10"
      {
        "var_type"          "FIELD_FLOAT"
        "slow_pct_scepter"      "-80"
      }
      "11"
      {
        "var_type"          "FIELD_INTEGER"
        "knockback_speed_scepter" "900"
      }
    }
    
    "OnAbilityPhaseStart"
    { 
      "ApplyModifier"
      {
        "ModifierName"        "modifier_imba_assassinate_caster_cast_check"
        "Target"              "CASTER"
      }

      "RunScript"
      {
        "ScriptFile"          "hero/hero_sniper.lua"
        "Function"            "AssassinateCast"

        "modifier_shrapnel"   "modifier_sniper_shrapnel_slow"
        "modifier_caster"     "modifier_imba_assassinate_caster"
        "modifier_target"     "modifier_imba_assassinate_target"
        "modifier_cast_check" "modifier_imba_assassinate_caster_cast_check"
      }
    }
    
    "OnSpellStart"
    {
      "RunScript"
      {
        "ScriptFile"        "hero/hero_sniper.lua"
        "Function"          "Assassinate"
      }

      "FireSound"
      {
        "Target"          "CASTER"
        "EffectName"        "Ability.Assassinate"
      }
      
      "FireSound"
      {
        "Target"          "CASTER"
        "EffectName"        "Hero_Sniper.AssassinateProjectile"
      }
    }
    
    "OnProjectileHitUnit"
    {
      "DeleteOnHit"         "0"

      "FireSound"
      {
        "Target"            "TARGET"
        "EffectName"        "Hero_Sniper.AssassinateDamage"
      }
    
      "RunScript"
      {
        "ScriptFile"        "hero/hero_sniper.lua"
        "Function"          "AssassinateHit"
        "Target"            "TARGET"

        "modifier_slow"     "modifier_imba_assassinate_scepter_debuff"
      }
    }
    
    "Modifiers"
    { 
      "modifier_imba_assassinate_caster"
      {
        "Duration"          "%charge_time"
        "IsPurgable"        "0"
        "IsHidden"          "0"
      
        "OnOrder"
        {
          "RemoveModifier"
          {
            "Target"          "CASTER"
            "ModifierName"    "modifier_imba_assassinate_caster"
          }

          "RunScript"
          { 
            "ScriptFile"      "hero/hero_sniper.lua"
            "Function"        "AssassinateStop"

            "target_modifier" "modifier_imba_assassinate_target"
          }
        }
      }

      "modifier_imba_assassinate_target"
      {
        "IsHidden"        "0"
        "IsPurgeble"      "0"
        "IsDebuff"        "1"
        "Duration"        "2.2"
        
        "EffectName"      "particles/units/heroes/hero_sniper/sniper_crosshair.vpcf"
        "EffectAttachType"    "follow_overhead"
        
        "States"
        {
          "MODIFIER_STATE_INVISIBLE"      "MODIFIER_STATE_VALUE_DISABLED"
          "MODIFIER_STATE_PROVIDES_VISION"  "MODIFIER_STATE_VALUE_ENABLED"
        }
      }

      "modifier_imba_assassinate_scepter_debuff"
      {
        "IsHidden"        "0"
        "IsPurgeble"      "1"
        "IsDebuff"        "1"
        "Duration"        "%slow_duration_scepter"
        
        "EffectName"      "particles/units/heroes/hero_sniper/sniper_headshot_slow.vpcf"
        "EffectAttachType"    "follow_overhead"
        
        "Properties"
        {
          "MODIFIER_PROPERTY_MOVESPEED_BONUS_PERCENTAGE"  "%slow_pct_scepter"
        }
      }

      "modifier_imba_assassinate_caster_cast_check"
      {
        "Passive"       "0"
        "IsHidden"        "1"
        "IsPurgable"      "0"

        "Attributes"      "MODIFIER_ATTRIBUTE_IGNORE_INVULNERABLE"

        "OnOrder"
        {
          "RunScript"
          {
            "ScriptFile"  "hero/hero_sniper.lua"
            "Function"    "AssassinateCastCheck"
          }
        }
      }
    }
  }

  //=================================================================================================================
  // Sven's Storm Bolt
  //=================================================================================================================
  "imba_sven_storm_bolt"
  {
    // General
    //-------------------------------------------------------------------------------------------------------------
    "BaseClass"           "ability_datadriven"
    "AbilityBehavior"       "DOTA_ABILITY_BEHAVIOR_UNIT_TARGET | DOTA_ABILITY_BEHAVIOR_AOE | DOTA_ABILITY_BEHAVIOR_IGNORE_BACKSWING"
    "AbilityUnitTargetTeam"     "DOTA_UNIT_TARGET_TEAM_ENEMY"
    "AbilityUnitTargetType"     "DOTA_UNIT_TARGET_HERO | DOTA_UNIT_TARGET_BASIC"
    "AbilityUnitTargetFlags"    "DOTA_UNIT_TARGET_FLAG_MAGIC_IMMUNE_ENEMIES"
    "AbilityUnitDamageType"     "DAMAGE_TYPE_MAGICAL" 
    "SpellImmunityType"       "SPELL_IMMUNITY_ENEMIES_YES"
    "FightRecapLevel"       "1"
    "AbilityTextureName"      "sven_storm_bolt"
    "AOERadius"           "%radius"

    // Precache
    //-------------------------------------------------------------------------------------------------------------
    "precache"
    {
      "soundfile"         "soundevents/game_sounds_heroes/game_sounds_sven.vsndevts"
      "particle"          "particles/units/heroes/hero_sven/sven_spell_storm_bolt.vpcf"
      "particle"          "particles/hero/sven/sven_ult_storm_bolt.vpcf"
      "particle"          "particles/units/heroes/hero_sven/sven_storm_bolt_projectile_explosion.vpcf"
      "particle"          "particles/generic_gameplay/generic_stunned.vpcf"
    }
    
    // Casting
    //-------------------------------------------------------------------------------------------------------------
    "AbilityCastRange"        "650 700 750 800"
    "AbilityCastPoint"        "0.25"

    // Time   
    //-------------------------------------------------------------------------------------------------------------
    "AbilityCooldown"       "13.0"

    // Cost
    //-------------------------------------------------------------------------------------------------------------
    "AbilityManaCost"       "125"

    // Special
    //-------------------------------------------------------------------------------------------------------------
    "AbilitySpecial"
    {
      "01"
      {
        "var_type"        "FIELD_INTEGER"
        "speed"         "1200"
      }
      "02"
      {
        "var_type"        "FIELD_INTEGER"
        "damage"        "100 175 250 325"
      }
      "03"
      {
        "var_type"        "FIELD_FLOAT"
        "duration"        "2.0"
      }
      "04"
      {
        "var_type"        "FIELD_INTEGER"
        "radius"        "275 300 325 350"
      }
      "05"
      {
        "var_type"        "FIELD_INTEGER"
        "vision_radius"     "450"
      }
    }

    "OnSpellStart"
    {
      "RunScript"
      {
        "ScriptFile"      "hero/hero_sven.lua"
        "Function"        "StormBoltLaunch"

        "modifier_caster"   "modifier_imba_storm_bolt_caster"
        "modifier_god_str"    "modifier_imba_god_strength"
        "particle_bolt"     "particles/units/heroes/hero_sven/sven_spell_storm_bolt.vpcf"
        "particle_ult"      "particles/hero/sven/sven_ult_storm_bolt.vpcf"
        "sound_cast"      "Hero_Sven.StormBolt"

        "Target"
        {
          "Center"      "TARGET"
          "Teams"       "DOTA_UNIT_TARGET_TEAM_ENEMY"
          "Types"       "DOTA_UNIT_TARGET_HERO | DOTA_UNIT_TARGET_BASIC"
          "Flags"       "DOTA_UNIT_TARGET_FLAG_MAGIC_IMMUNE_ENEMIES"
        }
      }
    }

    "OnProjectileFinish"
    {
      "RunScript"
      {
        "ScriptFile"      "hero/hero_sven.lua"
        "Function"        "StormBoltEnd"

        "modifier_caster"   "modifier_imba_storm_bolt_caster"
      }
    }

    "OnProjectileHitUnit"
    {
      "RunScript"
      {
        "ScriptFile"      "hero/hero_sven.lua"
        "Function"        "StormBoltHit"

        "modifier_caster"   "modifier_imba_storm_bolt_caster"
        "modifier_god_str"    "modifier_imba_god_strength"
        "ability_god_str"   "imba_sven_gods_strength"
        "sound_impact"      "Hero_Sven.StormBoltImpact"
        "particle_impact"   "particles/units/heroes/hero_sven/sven_storm_bolt_projectile_explosion.vpcf"
      }
    }

    "Modifiers"
    {
      "modifier_imba_storm_bolt_caster"
      {
        "Passive"       "0"
        "IsDebuff"        "1"
        "IsHidden"        "1"
        "IsPurgable"      "0"

        "States"
        {
          "MODIFIER_STATE_STUNNED"    "MODIFIER_STATE_VALUE_ENABLED"
          "MODIFIER_STATE_OUT_OF_GAME"  "MODIFIER_STATE_VALUE_ENABLED"
          "MODIFIER_STATE_INVULNERABLE" "MODIFIER_STATE_VALUE_ENABLED"
          "MODIFIER_STATE_NO_HEALTH_BAR"  "MODIFIER_STATE_VALUE_ENABLED"
        }
      }
    }
  }

  //=================================================================================================================
  // Sven's Great Cleave
  //=================================================================================================================
  "imba_sven_great_cleave"
  {
    // General
    //-------------------------------------------------------------------------------------------------------------
    "BaseClass"             "ability_datadriven"
    "AbilityTextureName"        "sven_great_cleave"
    "AbilityBehavior"         "DOTA_ABILITY_BEHAVIOR_IMMEDIATE | DOTA_ABILITY_BEHAVIOR_NO_TARGET"
    "AbilityUnitTargetTeam"       "DOTA_UNIT_TARGET_TEAM_ENEMY"
    "AbilityUnitTargetType"       "DOTA_UNIT_TARGET_HERO | DOTA_UNIT_TARGET_BASIC"
    "AbilityUnitTargetFlags"      "DOTA_UNIT_TARGET_FLAG_MAGIC_IMMUNE_ENEMIES"
    "AbilityUnitDamageType"       "DAMAGE_TYPE_PHYSICAL"
    "SpellImmunityType"         "SPELL_IMMUNITY_ENEMIES_YES"

    // Casting
    //-------------------------------------------------------------------------------------------------------------
    "AbilityCooldown"         "55 45 35 25"
    "AbilityCastPoint"          "0.0"

    // Cost
    //-------------------------------------------------------------------------------------------------------------
    "AbilityManaCost"         "0"

    // Precache
    //-------------------------------------------------------------------------------------------------------------
    "precache"
    {
      "soundfile"           "soundevents/game_sounds_heroes/game_sounds_sven.vsndevts"
      "soundfile"           "soundevents/imba_soundevents.vsndevts"
      "particle"            "particles/units/heroes/hero_sven/sven_spell_great_cleave.vpcf"
      "particle"            "particles/units/heroes/hero_sven/sven_spell_warcry.vpcf"
    }
    
    // Special
    //-------------------------------------------------------------------------------------------------------------
    "AbilitySpecial"
    {
      "01"
      {
        "var_type"          "FIELD_INTEGER"
        "radius"          "400"
      }
      "02"
      {
        "var_type"          "FIELD_INTEGER"
        "cleave_pct"        "40 60 80 100"
      }
      "03"
      {
        "var_type"          "FIELD_INTEGER"
        "damage_per_stack"      "20"
      }
      "04"
      {
        "var_type"          "FIELD_INTEGER"
        "stack_duration"      "3"
      }
      "05"
      {
        "var_type"          "FIELD_INTEGER"
        "active_duration"     "7"
      }
    }

    "OnSpellStart"
    {
      "RunScript"
      {
        "ScriptFile"        "hero/hero_sven.lua"
        "Function"          "GreatCleave"

        "particle_great_cleave"   "particles/units/heroes/hero_sven/sven_spell_warcry.vpcf"
        "sound_cast"        "Imba.SvenGreatCleave"
        "modifier_active"     "modifier_imba_great_cleave_active"
        "modifier_passive"      "modifier_imba_great_cleave_passive"
      }
    }

    "OnUpgrade"
    {
      "RunScript"
      {
        "ScriptFile"        "hero/hero_sven.lua"
        "Function"          "GreatCleaveLevelUp"

        "modifier_active"     "modifier_imba_great_cleave_active"
        "modifier_passive"      "modifier_imba_great_cleave_passive"
      }
    }

    "Modifiers"
    {
      "modifier_imba_great_cleave_passive"
      {
        "Passive"         "1"
        "IsBuff"          "1"
        "IsPurgable"        "0"
        "IsHidden"          "1"

        "OnAttackLanded"
        {
          "CleaveAttack"
          {
            "CleavePercent"   "%cleave_pct"
            "CleaveRadius"    "%radius"
            "CleaveEffect"    "particles/units/heroes/hero_sven/sven_spell_great_cleave.vpcf"
          }
        }
      }

      "modifier_imba_great_cleave_active"
      {
        "Passive"         "0"
        "IsBuff"          "1"
        "IsPurgable"        "0"
        "IsHidden"          "0"

        "Duration"          "%active_duration"

        "OnAttackLanded"
        {
          "RunScript"
          {
            "ScriptFile"    "hero/hero_sven.lua"
            "Function"      "GreatCleaveHit"

            "sound_attack"    "Hero_Sven.Layer.GodsStrength"
            "modifier_stack"  "modifier_imba_great_cleave_stack"
          }
        }

        "OnDestroy"
        {
          "RunScript"
          {
            "ScriptFile"    "hero/hero_sven.lua"
            "Function"      "GreatCleaveEnd"

            "modifier_passive"  "modifier_imba_great_cleave_passive"
          }
        }
      }

      "modifier_imba_great_cleave_stack"
      {
        "Passive"         "0"
        "IsDebuff"          "1"
        "IsPurgable"        "0"
        "IsHidden"          "0"

        "Duration"          "%stack_duration"

        "Properties"
        {
          "MODIFIER_PROPERTY_INCOMING_DAMAGE_PERCENTAGE"    "%damage_per_stack"
        }
      }
    }
  }

  //=================================================================================================================
  // Sven's Warcry
  //=================================================================================================================
  "imba_sven_warcry"
  {
    // General
    //-------------------------------------------------------------------------------------------------------------
    "BaseClass"                 "ability_datadriven"
    "AbilityTextureName"        "sven_warcry"
    "AbilityBehavior"           "DOTA_ABILITY_BEHAVIOR_NO_TARGET | DOTA_ABILITY_BEHAVIOR_IMMEDIATE | DOTA_ABILITY_BEHAVIOR_TOGGLE | DOTA_ABILITY_BEHAVIOR_IGNORE_PSEUDO_QUEUE"
    "AbilityUnitTargetTeam"     "DOTA_UNIT_TARGET_TEAM_FRIENDLY"
    "AbilityUnitTargetType"     "DOTA_UNIT_TARGET_HERO | DOTA_UNIT_TARGET_BASIC"

    // Precache
    //-------------------------------------------------------------------------------------------------------------
    "precache"
    {
      "soundfile"         "soundevents/game_sounds_heroes/game_sounds_sven.vsndevts"
      "particle"          "particles/units/heroes/hero_sven/sven_spell_warcry.vpcf"
      "particle"          "particles/units/heroes/hero_sven/sven_warcry_buff.vpcf"
    }
    
    // Casting
    //-------------------------------------------------------------------------------------------------------------
    "AbilityCastPoint"        "0.0"
    "AbilityCastRange"        "1200"

    // Time   
    //-------------------------------------------------------------------------------------------------------------
    "AbilityCooldown"       "20.0 18.0 16.0 14.0"

    // Cost
    //-------------------------------------------------------------------------------------------------------------
    "AbilityManaCost"       "0"

    // Special
    //-------------------------------------------------------------------------------------------------------------
    "AbilitySpecial"
    {
      "01"
      {
        "var_type"        "FIELD_INTEGER"
        "passive_armor"     "2 3 4 5"   
      }
      "02"
      {
        "var_type"        "FIELD_INTEGER"
        "active_armor"      "8 12 16 20"    
      }
      "03"
      {
        "var_type"        "FIELD_INTEGER"
        "passive_str"     "4 6 8 10"    
      }
      "04"
      {
        "var_type"        "FIELD_INTEGER"
        "active_str"      "10 15 20 25"   
      }
      "05"
      {
        "var_type"        "FIELD_INTEGER"
        "active_ms"       "12"
      }
      "06"
      {
        "var_type"        "FIELD_INTEGER"
        "radius"        "1200"
      }
      "07"
      {
        "var_type"        "FIELD_FLOAT"
        "duration"        "8.0"
      }
    }

    "OnToggleOn"
    {
      "RunScript"
      {
        "ScriptFile"      "hero/hero_sven.lua"
        "Function"        "Warcry"

        "particle_warcry"   "particles/units/heroes/hero_sven/sven_spell_warcry.vpcf"
        "sound_cast"      "Hero_Sven.WarCry"
        "modifier_active"   "modifier_imba_warcry_active_aura"
        "modifier_passive"    "modifier_imba_warcry_passive_aura"
        "modifier_buff"     "modifier_imba_warcry_passive"
      }
    }

    "OnUpgrade"
    {
      "RunScript"
      {
        "ScriptFile"      "hero/hero_sven.lua"
        "Function"        "WarcryLevelUp"

        "modifier_active"   "modifier_imba_warcry_active_aura"
        "modifier_passive"    "modifier_imba_warcry_passive_aura"
        "modifier_buff"     "modifier_imba_warcry_passive"
      }
    }

    "Modifiers"
    {
      "modifier_imba_warcry_passive_aura"
      {
        "Passive"       "1"
        "IsBuff"        "1"
        "IsPurgable"      "0"
        "IsHidden"        "1"

        "Aura"          "modifier_imba_warcry_passive"
        "Aura_Radius"     "%radius"
        "Aura_Teams"      "DOTA_UNIT_TARGET_TEAM_FRIENDLY"
        "Aura_Types"      "DOTA_UNIT_TARGET_HERO | DOTA_UNIT_TARGET_BASIC"
        "Aura_ApplyToCaster"  "1"
      }

      "modifier_imba_warcry_passive"
      {
        "Passive"       "0"
        "IsBuff"        "1"
        "IsPurgable"      "0"
        "IsHidden"        "0"

        "Properties"
        {
          "MODIFIER_PROPERTY_STATS_STRENGTH_BONUS"    "%passive_str"
          "MODIFIER_PROPERTY_PHYSICAL_ARMOR_BONUS"    "%passive_armor"
        }
      }

      "modifier_imba_warcry_active_aura"
      {
        "Passive"       "0"
        "IsBuff"        "1"
        "IsPurgable"      "0"
        "IsHidden"        "1"

        "Duration"        "%duration"

        "Aura"          "modifier_imba_warcry_active"
        "Aura_Radius"     "%radius"
        "Aura_Teams"      "DOTA_UNIT_TARGET_TEAM_FRIENDLY"
        "Aura_Types"      "DOTA_UNIT_TARGET_HERO | DOTA_UNIT_TARGET_BASIC"
        "Aura_ApplyToCaster"  "1"

        "OnDestroy"
        {
          "RunScript"
          {
            "ScriptFile"      "hero/hero_sven.lua"
            "Function"        "WarcryEnd"

            "modifier_passive"    "modifier_imba_warcry_passive_aura"
            "modifier_buff"     "modifier_imba_warcry_active"
          }
        }
      }

      "modifier_imba_warcry_active"
      {
        "Passive"       "0"
        "IsBuff"        "1"
        "IsPurgable"      "0"
        "IsHidden"        "0"

        "EffectName"      "particles/units/heroes/hero_sven/sven_warcry_buff.vpcf"
        "EffectAttachType"    "follow_origin"

        "Properties"
        {
          "MODIFIER_PROPERTY_STATS_STRENGTH_BONUS"    "%active_str"
          "MODIFIER_PROPERTY_PHYSICAL_ARMOR_BONUS"    "%active_armor"
        }
      }
    }
  }

  //=================================================================================================================
  // Sven's God's Strength
  //=================================================================================================================
  "imba_sven_gods_strength"
  {
    // General
    //-------------------------------------------------------------------------------------------------------------
    "BaseClass"               "ability_datadriven"
    "AbilityBehavior"           "DOTA_ABILITY_BEHAVIOR_NO_TARGET"
    "AbilityType"             "DOTA_ABILITY_TYPE_ULTIMATE"
    "FightRecapLevel"           "1"
    "AbilityTextureName"          "sven_gods_strength"

    // Precache
    //-------------------------------------------------------------------------------------------------------------
    "precache"
    {
      "soundfile"             "soundevents/game_sounds_heroes/game_sounds_sven.vsndevts"
      "soundfile"             "soundevents/imba_soundevents.vsndevts"
      "particle"              "particles/units/heroes/hero_sven/sven_spell_gods_strength.vpcf"
      "particle"              "particles/status_fx/status_effect_gods_strength.vpcf"
      "particle"              "particles/units/heroes/hero_sven/sven_spell_great_cleave.vpcf"
    }
    
    // Casting
    //-------------------------------------------------------------------------------------------------------------
    "AbilityCastPoint"            "0.25"

    // Time   
    //-------------------------------------------------------------------------------------------------------------
    "AbilityCooldown"           "70.0 60.0 50.0"

    // Cost
    //-------------------------------------------------------------------------------------------------------------
    "AbilityManaCost"           "100"

    // Special
    //-------------------------------------------------------------------------------------------------------------
    "AbilitySpecial"
    {
      "01"
      {
        "var_type"            "FIELD_INTEGER"
        "self_damage_bonus"       "150 225 300"
      }
      "02"
      {
        "var_type"            "FIELD_INTEGER"
        "ally_damage_bonus"       "40 60 80"
      }
      "03"
      {
        "var_type"            "FIELD_INTEGER"
        "radius"            "1200"    
      }
      "04"
      {
        "var_type"            "FIELD_INTEGER"
        "storm_bolt_damage"       "100 150 200"   
      }
      "05"
      {
        "var_type"            "FIELD_INTEGER"
        "storm_bolt_radius"       "75 125 175"    
      }
      "06"
      {
        "var_type"            "FIELD_FLOAT"
        "duration"            "25.0"    
      }
      "07"
      {
        "var_type"            "FIELD_INTEGER"
        "great_cleave_stacks"     "2 3 4"   
      }
      "08"
      {
        "var_type"            "FIELD_INTEGER"
        "ally_damage_bonus_scepter"   "75 100 125"    
      }
      "09"
      {
        "var_type"            "FIELD_INTEGER"
        "ally_cleave_pct_scepter"   "40"    
      }
      "10"
      {
        "var_type"            "FIELD_INTEGER"
        "ally_cleave_radius_scepter"  "400"   
      }
    }

    "OnSpellStart"
    {
      "RunScript"
      {
        "ScriptFile"          "hero/hero_sven.lua"
        "Function"            "GodStrength"

        "sound_cast"          "Hero_Sven.GodsStrength"
        "sound_be_a_man"        "Imba.SvenBeAMan"
        "particle_caster"       "particles/units/heroes/hero_sven/sven_spell_gods_strength.vpcf"
        "modifier_caster"       "modifier_imba_god_strength"
        "modifier_aura"         "modifier_imba_god_strength_aura"
        "modifier_aura_scepter"     "modifier_imba_god_strength_aura_scepter"
      }
    }

    "Modifiers"
    {
      "modifier_imba_god_strength"
      {
        "Passive"     "0"
        "IsBuff"      "1"
        "IsPurgable"    "0"
        "IsHidden"      "0"

        "Duration"      "%duration"

        "StatusEffectName"        "particles/status_fx/status_effect_gods_strength.vpcf"
        "StatusEffectPriority"      "10"

        "Properties"
        {
          "MODIFIER_PROPERTY_BASEDAMAGEOUTGOING_PERCENTAGE"   "%self_damage_bonus"
        }
      }

      "modifier_imba_god_strength_aura"
      {
        "Passive"     "0"
        "IsBuff"      "1"
        "IsPurgable"    "0"
        "IsHidden"      "1"

        "Duration"      "%duration"

        "Aura"              "modifier_imba_god_strength_allies"
        "Aura_Radius"         "%radius"
        "Aura_Teams"          "DOTA_UNIT_TARGET_TEAM_FRIENDLY"
        "Aura_Types"          "DOTA_UNIT_TARGET_HERO"
        "Aura_ApplyToCaster"      "0"
      }

      "modifier_imba_god_strength_allies"
      {
        "Passive"     "0"
        "IsBuff"      "1"
        "IsPurgable"    "0"
        "IsHidden"      "0"

        "Properties"
        {
          "MODIFIER_PROPERTY_BASEDAMAGEOUTGOING_PERCENTAGE"   "%ally_damage_bonus"
        }
      }

      "modifier_imba_god_strength_aura_scepter"
      {
        "Passive"     "0"
        "IsBuff"      "1"
        "IsPurgable"    "0"
        "IsHidden"      "1"

        "Duration"      "%duration"

        "Aura"              "modifier_imba_god_strength_allies_scepter"
        "Aura_Radius"         "%radius"
        "Aura_Teams"          "DOTA_UNIT_TARGET_TEAM_FRIENDLY"
        "Aura_Types"          "DOTA_UNIT_TARGET_HERO"
        "Aura_ApplyToCaster"      "0"
      }

      "modifier_imba_god_strength_allies_scepter"
      {
        "Passive"     "0"
        "IsBuff"      "1"
        "IsPurgable"    "0"
        "IsHidden"      "0"

        "StatusEffectName"        "particles/status_fx/status_effect_gods_strength.vpcf"
        "StatusEffectPriority"      "10"

        "OnCreated"
        {
          "FireEffect"
          {
            "EffectName"      "particles/units/heroes/hero_sven/sven_spell_gods_strength.vpcf"
            "EffectAttachType"    "follow_origin"
            "Target"        "TARGET"
          }
        }

        "OnAttackLanded"
        {
          "RunScript"
          {
            "ScriptFile"      "hero/hero_sven.lua"
            "Function"        "GodStrengthCleave"

            "particle_cleave"   "particles/units/heroes/hero_sven/sven_spell_great_cleave.vpcf"
          }
        }

        "Properties"
        {
          "MODIFIER_PROPERTY_BASEDAMAGEOUTGOING_PERCENTAGE"   "%ally_damage_bonus_scepter"
        }
      }
    }
  }

  //=================================================================================================================
  // Techies' Land Mines
  //=================================================================================================================
  "imba_techies_land_mines"
  {
    // General
    //-------------------------------------------------------------------------------------------------------------
    "BaseClass"             "ability_datadriven"
    "AbilityBehavior"         "DOTA_ABILITY_BEHAVIOR_POINT | DOTA_ABILITY_BEHAVIOR_AOE"
    "AbilityUnitDamageType"       "DAMAGE_TYPE_PHYSICAL"
    "AbilityUnitTargetType"       "DOTA_UNIT_TARGET_HERO | DOTA_UNIT_TARGET_BASIC | DOTA_UNIT_TARGET_MECHANICAL | DOTA_UNIT_TARGET_BUILDING"
    "AbilityUnitTargetTeam"       "DOTA_UNIT_TARGET_TEAM_ENEMY"
    "SpellImmunityType"         "SPELL_IMMUNITY_ENEMIES_YES"
    "AbilityTextureName"        "techies_land_mines"
    "AOERadius"             "%small_radius"

    // Precache
    //-------------------------------------------------------------------------------------------------------------
    "precache"
    {
      "soundfile"           "soundevents/game_sounds_heroes/game_sounds_techies.vsndevts"   
      "particle"            "particles/units/heroes/hero_techies/techies_land_mine.vpcf"
      "particle"            "particles/units/heroes/hero_techies/techies_land_mine_explode.vpcf"
      "model"             "models/heroes/techies/fx_techiesfx_mine.vmdl"  
    }

    // Casting
    //-------------------------------------------------------------------------------------------------------------
    "AbilityCastRange"          "300"
    "AbilityCastPoint"          "0.0"
    
    // Time   
    //-------------------------------------------------------------------------------------------------------------
    "AbilityCooldown"         "14 12 10 8"

    // Cost
    //-------------------------------------------------------------------------------------------------------------
    "AbilityManaCost"         "125 150 175 200"

    // Special
    //-------------------------------------------------------------------------------------------------------------
    "AbilitySpecial"
    {
      "01"
      {
        "var_type"          "FIELD_INTEGER"
        "damage"          "300 375 450 525"
      }
      "02"
      {
        "var_type"          "FIELD_INTEGER"
        "small_radius"        "275"
      }
      "03"
      {
        "var_type"          "FIELD_INTEGER"
        "big_radius"        "550"
      }
      "04"
      {
        "var_type"          "FIELD_FLOAT"
        "activation_time"     "0.5"
      }
      "05"
      {
        "var_type"          "FIELD_INTEGER"
        "throw_chance"        "9 11 13 15"
      }
      "06"
      {
        "var_type"          "FIELD_INTEGER"
        "throw_speed"       "1200"
      }
      "07"
      {
        "var_type"          "FIELD_INTEGER"
        "bonus_damage_scepter"    "7"
      }
    }

    "OnSpellStart"
    {
      "FireSound"
      {
        "EffectName"        "Hero_Techies.LandMine.Plant"
        "Target"          "CASTER"
      }

      "RunScript"
      {
        "ScriptFile"        "hero/hero_techies.lua"
        "Function"          "LandMinePlant"
        "Target"          "POINT"

        "modifier_state"      "modifier_imba_land_mines_state"
      }
    }

    "Modifiers"
    {
      "modifier_imba_land_mines_caster"
      {
        "Passive"         "1"
        "IsHidden"          "1"
        "IsBuff"          "1"
        "IsPurgable"        "0"

        "OnCreated"
        {
          "RunScript"
          {
            "ScriptFile"    "internal/util.lua"
            "Function"      "IllusionPassiveRemover"

            "modifier"      "modifier_imba_land_mines_caster"
          }
        }
    
        "OnAttackLanded"
        {
          "RunScript"
          {
            "ScriptFile"    "hero/hero_techies.lua"
            "Function"      "LandMineThrow"

            "throw_sound"   "Hero_Techies.LandMine.Plant"
            "modifier_state"  "modifier_imba_land_mines_state"
          }
        }
      }

      "modifier_imba_land_mines_state"
      {
        "Passive"         "0"
        "IsHidden"          "1"
        "IsBuff"          "1"
        "IsPurgable"        "0"

        "States"
        {
          "MODIFIER_STATE_NO_UNIT_COLLISION"    "MODIFIER_STATE_VALUE_ENABLED"
          "MODIFIER_STATE_NO_HEALTH_BAR"      "MODIFIER_STATE_VALUE_ENABLED"
        }
      }
    }
  }

  //=================================================================================================================
  // Techies' Land Mines passive AI (mine ability)
  //=================================================================================================================
  "imba_techies_land_mine_passive"
  {
    // General
    //-------------------------------------------------------------------------------------------------------------
    "BaseClass"                   "ability_datadriven"
    "AbilityBehavior"               "DOTA_ABILITY_BEHAVIOR_PASSIVE | DOTA_ABILITY_BEHAVIOR_HIDDEN"
    "AbilityTextureName"              "rubick_empty1"
    "MaxLevel"                    "4"

    // Special
    //-------------------------------------------------------------------------------------------------------------
    "AbilitySpecial"
    {
      "01"
      {
        "var_type"          "FIELD_INTEGER"
        "damage"          "300 375 450 525"
      }
      "02"
      {
        "var_type"          "FIELD_INTEGER"
        "small_radius"        "275"
      }
      "03"
      {
        "var_type"          "FIELD_INTEGER"
        "big_radius"        "550"
      }
      "04"
      {
        "var_type"          "FIELD_FLOAT"
        "think_interval"      "0.1"
      }
      "05"
      {
        "var_type"          "FIELD_INTEGER"
        "vision_radius"       "600"
      }
      "06"
      {
        "var_type"          "FIELD_FLOAT"
        "vision_duration"     "2.0"
      }
      "07"
      {
        "var_type"          "FIELD_INTEGER"
        "bonus_damage_scepter"    "7"
      }
    }

    "Modifiers"
    {
      "modifier_imba_land_mines_think"
      {
        "Passive"         "1"
        "IsHidden"          "1"
        "IsBuff"          "1"
        "IsPurgable"        "0"
    
        "OnCreated"
        {
          "RunScript"
          {
            "ScriptFile"    "hero/hero_techies.lua"
            "Function"      "LandMineThink"

            "modifier_slow"   "modifier_imba_land_mines_slow"
          }
        }

        "OnDeath"
        {
          "RunScript"
          {
            "ScriptFile"    "hero/hero_techies.lua"
            "Function"      "LandMineExplode"

            "sound_explode"   "Hero_Techies.LandMine.Detonate"
            "particle_explode"  "particles/units/heroes/hero_techies/techies_land_mine_explode.vpcf"
            "modifier_invis"  "modifier_imba_land_mines_think"
          }
        }

        "States"
        {
          "MODIFIER_STATE_INVISIBLE"        "MODIFIER_STATE_VALUE_ENABLED"
        }
      }

      "modifier_imba_land_mines_slow"
      {
        "Passive"         "0"
        "IsHidden"          "1"
        "IsDebuff"          "1"
        "IsPurgable"        "0"

        "Properties"
        {
            "MODIFIER_PROPERTY_MOVESPEED_BONUS_PERCENTAGE"    "-1" 
        }
      }
    }
  }

  //=================================================================================================================
  // Techies' Stasis Trap
  //=================================================================================================================
  "imba_techies_stasis_trap"
  {
    // General
    //-------------------------------------------------------------------------------------------------------------
    "BaseClass"             "ability_datadriven"
    "AbilityBehavior"         "DOTA_ABILITY_BEHAVIOR_POINT | DOTA_ABILITY_BEHAVIOR_AOE"
    "AbilityUnitTargetType"       "DOTA_UNIT_TARGET_HERO | DOTA_UNIT_TARGET_BASIC | DOTA_UNIT_TARGET_MECHANICAL"
    "AbilityUnitTargetTeam"       "DOTA_UNIT_TARGET_TEAM_ENEMY"
    "SpellImmunityType"         "SPELL_IMMUNITY_ENEMIES_NO"
    "AbilityTextureName"        "techies_stasis_trap"
    "AOERadius"             "%radius"

    // Precache
    //-------------------------------------------------------------------------------------------------------------
    "precache"
    {
      "soundfile"           "soundevents/game_sounds_heroes/game_sounds_techies.vsndevts"
      "particle"            "particles/units/heroes/hero_techies/techies_stasis_trap.vpcf"
      "particle"            "particles/units/heroes/hero_techies/techies_stasis_trap_plant.vpcf"
      "particle"            "particles/units/heroes/hero_techies/techies_stasis_trap_beams.vpcf"
      "particle"            "particles/units/heroes/hero_techies/techies_stasis_trap_explode.vpcf"
      "particle"            "particles/status_fx/status_effect_techies_stasis.vpcf"
      "model"             "models/heroes/techies/fx_techiesfx_stasis.vmdl"
    }

    // Casting
    //-------------------------------------------------------------------------------------------------------------
    "AbilityCastRange"          "600"
    "AbilityCastPoint"          "0.0"
    
    // Time   
    //-------------------------------------------------------------------------------------------------------------
    "AbilityCooldown"         "16 14 12 10"

    // Cost
    //-------------------------------------------------------------------------------------------------------------
    "AbilityManaCost"         "75 100 125 150"

    // Special
    //-------------------------------------------------------------------------------------------------------------
    "AbilitySpecial"
    {
      "01"
      {
        "var_type"          "FIELD_INTEGER"
        "radius"          "450"
      }
      "02"
      {
        "var_type"          "FIELD_FLOAT"
        "activation_delay"      "1.0"
      }
      "03"
      {
        "var_type"          "FIELD_FLOAT"
        "explosion_delay"     "1.0"
      }
      "04"
      {
        "var_type"          "FIELD_FLOAT"
        "stun_duration"       "2.5 3.0 3.5 4.0"
      }
      "05"
      {
        "var_type"          "FIELD_FLOAT"
        "secondary_radius"      "450"
      }
      "06"
      {
        "var_type"          "FIELD_FLOAT"
        "secondary_delay"     "0.3"
      }
      "07"
      {
        "var_type"          "FIELD_INTEGER"
        "mana_burn_scepter"     "80"
      }
      "08"
      {
        "var_type"          "FIELD_FLOAT"
        "think_interval"      "0.1"
      }
      "09"
      {
        "var_type"          "FIELD_INTEGER"
        "vision_radius"       "600"
      }
      "10"
      {
        "var_type"          "FIELD_FLOAT"
        "vision_duration"     "2.0"
      }
    }

    "OnSpellStart"
    {
      "FireSound"
      {
        "EffectName"        "Hero_Techies.StasisTrap.Plant"
        "Target"          "CASTER"
      }

      "RunScript"
      {
        "ScriptFile"        "hero/hero_techies.lua"
        "Function"          "StasisTrapPlant"
        "Target"          "POINT"

        "modifier_state"      "modifier_imba_stasis_trap_state"
        "modifier_creep"      "modifier_imba_stasis_trap_creep"
        "particle_cast"       "particles/units/heroes/hero_techies/techies_stasis_trap_plant.vpcf"
        "particle_creep"      "particles/units/heroes/hero_techies/techies_stasis_trap_beams.vpcf"
      }
    }

    "Modifiers"
    {
      "modifier_imba_stasis_trap_state"
      {
        "Passive"         "0"
        "IsHidden"          "1"
        "IsBuff"          "1"
        "IsPurgable"        "0"

        "States"
        {
          "MODIFIER_STATE_NO_UNIT_COLLISION"    "MODIFIER_STATE_VALUE_ENABLED"
          "MODIFIER_STATE_NO_HEALTH_BAR"      "MODIFIER_STATE_VALUE_ENABLED"
        }
      }

      "modifier_imba_stasis_trap_creep"
      {
        "Passive"         "0"
        "IsHidden"          "1"
        "IsBuff"          "1"
        "IsPurgable"        "0"

        "OnCreated"
        {
          "RunScript"
          {
            "ScriptFile"    "hero/hero_techies.lua"
            "Function"      "StasisTrapThink"

            "think_type"    "creep"
            "modifier_creep"  "modifier_imba_stasis_trap_creep"
            "particle_creep"  "particles/units/heroes/hero_techies/techies_stasis_trap_beams.vpcf"
            "sound_creep"   "Hero_Techies.StasisTrap.Plant"
          }
        }

        "OnDestroy"
        {
          "RunScript"
          {
            "ScriptFile"    "hero/hero_techies.lua"
            "Function"      "StasisTrapExplodeCreep"

            "sound_explode"   "Hero_Techies.StasisTrap.Stun"
            "particle_explode"  "particles/units/heroes/hero_techies/techies_stasis_trap_explode.vpcf"
            "particle_emp"    "particles/units/heroes/hero_techies/techies_stasis_plant_ground_disturb.vpcf"
            "modifier_stun"   "modifier_imba_stasis_trap_stun"
          }
        }
      }

      "modifier_imba_stasis_trap_stun"
      {
        "Passive"         "0"
        "IsHidden"          "0"
        "IsDebuff"          "1"
        "IsPurgable"        "1"
        "IsStunDebuff"        "1"

        "Duration"          "%stun_duration"

        "EffectName"        "particles/generic_gameplay/generic_stunned.vpcf"
        "EffectAttachType"      "follow_overhead"

        "StatusEffectName"      "particles/status_fx/status_effect_techies_stasis.vpcf"
        "StatusEffectPriority"    "1"

        "States"
        {
          "MODIFIER_STATE_STUNNED"        "MODIFIER_STATE_VALUE_ENABLED"
          "MODIFIER_STATE_FROZEN"         "MODIFIER_STATE_VALUE_ENABLED"
        }
      }
    }
  }

  //=================================================================================================================
  // Techies' Stasis Trap passive AI (mine ability)
  //=================================================================================================================
  "imba_techies_stasis_trap_passive"
  {
    // General
    //-------------------------------------------------------------------------------------------------------------
    "BaseClass"                   "ability_datadriven"
    "AbilityBehavior"               "DOTA_ABILITY_BEHAVIOR_PASSIVE | DOTA_ABILITY_BEHAVIOR_HIDDEN"
    "AbilityTextureName"              "techies_stasis_trap"
    "MaxLevel"                    "4"

    // Special
    //-------------------------------------------------------------------------------------------------------------
    "AbilitySpecial"
    {
      "01"
      {
        "var_type"          "FIELD_INTEGER"
        "radius"          "450"
      }
      "02"
      {
        "var_type"          "FIELD_FLOAT"
        "activation_delay"      "1.0"
      }
      "03"
      {
        "var_type"          "FIELD_FLOAT"
        "explosion_delay"     "1.0"
      }
      "04"
      {
        "var_type"          "FIELD_FLOAT"
        "stun_duration"       "2.5 3.0 3.5 4.0"
      }
      "05"
      {
        "var_type"          "FIELD_FLOAT"
        "secondary_radius"      "450"
      }
      "06"
      {
        "var_type"          "FIELD_FLOAT"
        "secondary_delay"     "0.3"
      }
      "07"
      {
        "var_type"          "FIELD_INTEGER"
        "mana_burn_scepter"     "40 60 80 100"
      }
      "08"
      {
        "var_type"          "FIELD_FLOAT"
        "think_interval"      "0.1"
      }
      "09"
      {
        "var_type"          "FIELD_INTEGER"
        "vision_radius"       "600"
      }
      "10"
      {
        "var_type"          "FIELD_FLOAT"
        "vision_duration"     "2.0"
      }
    }

    "Modifiers"
    {
      "modifier_imba_stasis_trap_think"
      {
        "Passive"         "1"
        "IsHidden"          "1"
        "IsBuff"          "1"
        "IsPurgable"        "0"
    
        "OnCreated"
        {
          "RunScript"
          {
            "ScriptFile"    "hero/hero_techies.lua"
            "Function"      "StasisTrapThink"

            "think_type"    "mine"
            "modifier_creep"  "modifier_imba_stasis_trap_creep"
            "particle_creep"  "particles/units/heroes/hero_techies/techies_stasis_trap_beams.vpcf"
            "sound_creep"   "Hero_Techies.StasisTrap.Plant"
          }
        }

        "OnDeath"
        {
          "RunScript"
          {
            "ScriptFile"    "hero/hero_techies.lua"
            "Function"      "StasisTrapExplode"

            "sound_explode"   "Hero_Techies.StasisTrap.Stun"
            "particle_explode"  "particles/units/heroes/hero_techies/techies_stasis_trap_explode.vpcf"
            "particle_emp"    "particles/units/heroes/hero_techies/techies_stasis_plant_ground_disturb.vpcf"
            "modifier_invis"  "modifier_imba_stasis_trap_think"
            "modifier_stun"   "modifier_imba_stasis_trap_stun"
          }
        }

        "States"
        {
          "MODIFIER_STATE_INVISIBLE"    "MODIFIER_STATE_VALUE_ENABLED"
        }
      }

      "modifier_imba_stasis_trap_stun"
      {
        "Passive"         "0"
        "IsHidden"          "0"
        "IsDebuff"          "1"
        "IsPurgable"        "1"
        "IsStunDebuff"        "1"

        "Duration"          "%stun_duration"

        "EffectName"        "particles/generic_gameplay/generic_stunned.vpcf"
        "EffectAttachType"      "follow_overhead"

        "StatusEffectName"      "particles/status_fx/status_effect_techies_stasis.vpcf"
        "StatusEffectPriority"    "1"

        "States"
        {
          "MODIFIER_STATE_STUNNED"        "MODIFIER_STATE_VALUE_ENABLED"
          "MODIFIER_STATE_FROZEN"         "MODIFIER_STATE_VALUE_ENABLED"
        }
      }
    }
  }

  //=================================================================================================================
  // Techies' Remote Mine Auto Explode (creep version)
  //=================================================================================================================
  "imba_techies_remote_auto_creep"
  {
    // General
    //-------------------------------------------------------------------------------------------------------------
    "BaseClass"           "ability_datadriven"
    "AbilityBehavior"       "DOTA_ABILITY_BEHAVIOR_TOGGLE"
    "AbilityTextureName"      "imba_techies_remote_auto_creep"
    "MaxLevel"            "1"
    
    // Casting
    //-------------------------------------------------------------------------------------------------------------
    "AbilityCastPoint"        "0.0"

    // Time   
    //-------------------------------------------------------------------------------------------------------------
    "AbilityCooldown"       "0.0"

    // Cost
    //-------------------------------------------------------------------------------------------------------------
    "AbilityManaCost"       "0"

    // Special
    //-------------------------------------------------------------------------------------------------------------
    "AbilitySpecial"
    {
      "01"
      {
        "var_type"        "FIELD_INTEGER"
        "radius"        "450"
      }
    }

    "OnToggleOn"
    {
      "RunScript"
      {
        "ScriptFile"      "hero/hero_techies.lua"
        "Function"        "RemoteMineAutoCreep"

        "modifier_unselect"   "imba_techies_remote_auto_creep_unselect"
      }
    }

    "OnToggleOff"
    {
      "RunScript"
      {
        "ScriptFile"      "hero/hero_techies.lua"
        "Function"        "RemoteMineAutoCreepEnd"
      }
    }

    "Modifiers"
    {
      "imba_techies_remote_auto_creep_unselect"
      {
        "Passive"         "0"
        "IsHidden"          "1"
        "IsDebuff"          "1"
        "IsPurgable"        "0"

        "Duration"          "0.1"
    
        "States"
        {
          "MODIFIER_STATE_UNSELECTABLE" "MODIFIER_STATE_VALUE_ENABLED"
        }
      }
    }
  }

  //=================================================================================================================
  // Techies' Remote Mine Auto Explode (hero version)
  //=================================================================================================================
  "imba_techies_remote_auto_hero"
  {
    // General
    //-------------------------------------------------------------------------------------------------------------
    "BaseClass"           "ability_datadriven"
    "AbilityBehavior"       "DOTA_ABILITY_BEHAVIOR_TOGGLE"
    "AbilityTextureName"      "imba_techies_remote_auto_hero"
    "MaxLevel"            "1"
    
    // Casting
    //-------------------------------------------------------------------------------------------------------------
    "AbilityCastPoint"        "0.0"

    // Time   
    //-------------------------------------------------------------------------------------------------------------
    "AbilityCooldown"       "0.0"

    // Cost
    //-------------------------------------------------------------------------------------------------------------
    "AbilityManaCost"       "0"

    // Special
    //-------------------------------------------------------------------------------------------------------------
    "AbilitySpecial"
    {
      "01"
      {
        "var_type"        "FIELD_INTEGER"
        "radius"        "450"
      }
    }

    "OnToggleOn"
    {
      "RunScript"
      {
        "ScriptFile"      "hero/hero_techies.lua"
        "Function"        "RemoteMineAutoHero"

        "modifier_unselect"   "imba_techies_remote_auto_hero_unselect"
      }
    }

    "OnToggleOff"
    {
      "RunScript"
      {
        "ScriptFile"      "hero/hero_techies.lua"
        "Function"        "RemoteMineAutoHeroEnd"
      }
    }

    "Modifiers"
    {
      "imba_techies_remote_auto_hero_unselect"
      {
        "Passive"         "0"
        "IsHidden"          "1"
        "IsDebuff"          "1"
        "IsPurgable"        "0"

        "Duration"          "0.1"
    
        "States"
        {
          "MODIFIER_STATE_UNSELECTABLE" "MODIFIER_STATE_VALUE_ENABLED"
        }
      }
    }
  }

  //=================================================================================================================
  // Techies' Minefield sign
  //=================================================================================================================
  "imba_techies_minefield_sign"
  {
    // General
    //-------------------------------------------------------------------------------------------------------------
    "BaseClass"             "ability_datadriven"
    "AbilityBehavior"         "DOTA_ABILITY_BEHAVIOR_POINT | DOTA_ABILITY_BEHAVIOR_AOE | DOTA_ABILITY_BEHAVIOR_IGNORE_BACKSWING"
    "AbilityTextureName"        "techies_minefield_sign"
    "AOERadius"             "%radius"
    "MaxLevel"              "1"

    // Precache
    //-------------------------------------------------------------------------------------------------------------
    "precache"
    {
      "soundfile"           "soundevents/game_sounds_heroes/game_sounds_techies.vsndevts"
      "model"             "models/heroes/techies/techies_sign.vmdl" 
    }

    // Casting
    //-------------------------------------------------------------------------------------------------------------
    "AbilityCastRange"          "300"
    "AbilityCastPoint"          "0.0"
    
    // Time   
    //-------------------------------------------------------------------------------------------------------------
    "AbilityCooldown"         "60.0"

    // Cost
    //-------------------------------------------------------------------------------------------------------------
    "AbilityManaCost"         "0"

    // Special
    //-------------------------------------------------------------------------------------------------------------
    "AbilitySpecial"
    {
      "01"
      {
        "var_type"          "FIELD_INTEGER"
        "radius"          "200"
      }
    }

    "OnSpellStart"
    {
      "FireSound"
      {
        "EffectName"        "Hero_Techies.Sign"
        "Target"          "CASTER"
      }

      "RunScript"
      {
        "ScriptFile"        "hero/hero_techies.lua"
        "Function"          "MinefieldSign"
        "Target"          "POINT"

        "modifier_passive"      "modifier_imba_minefield_sign_passive"
        "modifier_scepter"      "modifier_imba_minefield_sign_scepter"
      }
    }

    "Modifiers"
    {
      "modifier_imba_minefield_sign_passive"
      {
        "Passive"         "0"
        "IsHidden"          "1"
        "IsBuff"          "1"
        "IsPurgable"        "0"
    
        "States"
        {
          "MODIFIER_STATE_INVULNERABLE"         "MODIFIER_STATE_VALUE_ENABLED"
          "MODIFIER_STATE_UNSELECTABLE"         "MODIFIER_STATE_VALUE_ENABLED"
          "MODIFIER_STATE_NOT_ON_MINIMAP_FOR_ENEMIES"   "MODIFIER_STATE_VALUE_ENABLED"
          "MODIFIER_STATE_NO_HEALTH_BAR"          "MODIFIER_STATE_VALUE_ENABLED"
          "MODIFIER_STATE_NO_UNIT_COLLISION"        "MODIFIER_STATE_VALUE_ENABLED"
        }
      }

      "modifier_imba_minefield_sign_scepter"
      {
        "Passive"         "0"
        "IsHidden"          "1"
        "IsBuff"          "1"
        "IsPurgable"        "0"

        "Duration"          "1.0"
    
        "States"
        {
          "MODIFIER_STATE_TRUESIGHT_IMMUNE" "MODIFIER_STATE_VALUE_ENABLED"
        }
      }
    }
  }

  //=================================================================================================================
  // Techies' Minefield Teleport (mine ability)
  //=================================================================================================================
  "imba_techies_minefield_teleport"
  {
    // General
    //-------------------------------------------------------------------------------------------------------------
    "BaseClass"           "ability_datadriven"
    "AbilityBehavior"       "DOTA_ABILITY_BEHAVIOR_NO_TARGET | DOTA_ABILITY_BEHAVIOR_IMMEDIATE | DOTA_ABILITY_BEHAVIOR_IGNORE_BACKSWING"
    "AbilityTextureName"      "techies_minefield_sign"
    "MaxLevel"            "1"
    
    // Casting
    //-------------------------------------------------------------------------------------------------------------
    "AbilityCastPoint"        "0.0"

    // Time   
    //-------------------------------------------------------------------------------------------------------------
    "AbilityCooldown"       "0.0"

    // Cost
    //-------------------------------------------------------------------------------------------------------------
    "AbilityManaCost"       "0"

    // Special
    //-------------------------------------------------------------------------------------------------------------
    "OnSpellStart"
    {
      "RunScript"
      {
        "ScriptFile"      "hero/hero_techies.lua"
        "Function"        "MinefieldTeleport"

        "modifier_unselect"   "modifier_imba_techies_minefield_teleport_unselect"
      }
    }

    "Modifiers"
    {
      "modifier_imba_techies_minefield_teleport_unselect"
      {
        "Passive"         "0"
        "IsHidden"          "1"
        "IsDebuff"          "1"
        "IsPurgable"        "0"

        "Duration"          "0.1"
    
        "States"
        {
          "MODIFIER_STATE_UNSELECTABLE" "MODIFIER_STATE_VALUE_ENABLED"
        }
      }
    }
  }

  //=================================================================================================================
  // Sand King's Burrowstrike
  //=================================================================================================================
  "imba_sandking_burrowstrike"
  {
    // General
    //-------------------------------------------------------------------------------------------------------------
    "BaseClass"           "ability_datadriven"
    "AbilityBehavior"       "DOTA_ABILITY_BEHAVIOR_POINT"
    "AbilityUnitTargetTeam"     "DOTA_UNIT_TARGET_TEAM_ENEMY"
    "AbilityUnitTargetType"     "DOTA_UNIT_TARGET_HERO | DOTA_UNIT_TARGET_BASIC | DOTA_UNIT_TARGET_MECHANICAL"
    "AbilityUnitDamageType"     "DAMAGE_TYPE_MAGICAL" 
    "SpellImmunityType"       "SPELL_IMMUNITY_ENEMIES_NO"
    "FightRecapLevel"       "1"
    "AbilityTextureName"      "sandking_burrowstrike"

    // Casting
    //-------------------------------------------------------------------------------------------------------------
    "AbilityCastRange"        "550 700 850 1000"
    "AbilityCastPoint"        "0.0"
    
    // Time   
    //-------------------------------------------------------------------------------------------------------------
    "AbilityCooldown"       "11.0"

    // Cost
    //-------------------------------------------------------------------------------------------------------------
    "AbilityManaCost"       "110 120 130 140"

    // Precache
    //-------------------------------------------------------------------------------------------------------------
    "precache"
    {
      "soundfile"         "soundevents/game_sounds_heroes/game_sounds_sandking.vsndevts"
      "particle"          "particles/units/heroes/hero_sandking/sandking_burrowstrike.vpcf"
    }
    
    // Special
    //-------------------------------------------------------------------------------------------------------------
    "AbilitySpecial"
    {
      "01"
      {
        "var_type"        "FIELD_INTEGER"
        "burrow_width"      "200"
      }
      "02"
      {
        "var_type"        "FIELD_FLOAT"
        "burrow_duration"   "2.17"
      }
      "03"
      {
        "var_type"        "FIELD_INTEGER"
        "burrow_speed"      "3000"
      }
      "04"
      {
        "var_type"        "FIELD_FLOAT"
        "burrow_anim_time"    "0.57"
      }
      "05"
      {
        "var_type"        "FIELD_INTEGER"
        "tooltip_range"     "550 700 850 1000"
      }
      "06"
      {
        "var_type"        "FIELD_INTEGER"
        "damage"        "100 160 220 280"
      }
      "07"
      {
        "var_type"        "FIELD_INTEGER"
        "knockback_distance"  "110 140 170 200"
      }
    }
    
    "OnSpellStart"
    {
      "LinearProjectile"
      {
        "MoveSpeed"         "%burrow_speed"
        "StartRadius"       "%burrow_width"
        "EndRadius"         "%burrow_width"
        "TargetTeams"       "DOTA_UNIT_TARGET_TEAM_ENEMY"
        "TargetTypes"       "DOTA_UNIT_TARGET_HERO | DOTA_UNIT_TARGET_BASIC | DOTA_UNIT_TARGET_MECHANICAL"
        "HasFrontalCone"      "0"
      }
      
      "FireEffect"
      {
        "EffectName"        "particles/units/heroes/hero_sandking/sandking_burrowstrike.vpcf"
        "EffectAttachType"      "start_at_customorigin"
        "Target"          "CASTER"
        "ControlPoints"
        {
          "01"          "POINT"
        }
      }
      
      "FireSound"
      {
        "EffectName"        "Ability.SandKing_BurrowStrike"
        "Target"          "CASTER"
      }

      "RunScript"
      {
        "ScriptFile"        "hero/hero_sandking.lua"
        "Function"          "Burrowstrike"
        "TARGET"          "POINT"

        "modifier_caster"     "modifier_imba_burrowstrike_caster"
      }
    }
    
    "OnProjectileHitUnit"
    {
      "DeleteOnHit"         "0"

      "RunScript"
      {
        "ScriptFile"        "hero/hero_sandking.lua"
        "Function"          "BurrowstrikeHit"

        "modifier_caustic"      "modifier_imba_caustic_finale"
        "ability_caustic"     "imba_sandking_caustic_finale"
      }
    }
    
    "Modifiers"
    {
      "modifier_imba_burrowstrike_caster"
      {
        "Passive"         "0"
        "IsHidden"          "1"
        "IsDebuff"          "1"
        "IsPurgable"        "0"
      
        "States"
        {
          "MODIFIER_STATE_STUNNED"      "MODIFIER_STATE_VALUE_ENABLED"
          "MODIFIER_STATE_INVULNERABLE"   "MODIFIER_STATE_VALUE_ENABLED"
          "MODIFIER_STATE_OUT_OF_GAME"    "MODIFIER_STATE_VALUE_ENABLED"
          "MODIFIER_STATE_NO_HEALTH_BAR"    "MODIFIER_STATE_VALUE_ENABLED"
        }
      }
    }
  }

  //=================================================================================================================
  // Sand King's Sand Storm
  //=================================================================================================================
  "imba_sandking_sand_storm"
  {
    // General
    //-------------------------------------------------------------------------------------------------------------
    "BaseClass"           "ability_datadriven"
    "AbilityBehavior"       "DOTA_ABILITY_BEHAVIOR_NO_TARGET | DOTA_ABILITY_BEHAVIOR_CHANNELLED | DOTA_ABILITY_BEHAVIOR_DONT_RESUME_ATTACK"
    "AbilityUnitTargetTeam"     "DOTA_UNIT_TARGET_TEAM_ENEMY"
    "AbilityUnitTargetType"     "DOTA_UNIT_TARGET_HERO | DOTA_UNIT_TARGET_BASIC | DOTA_UNIT_TARGET_MECHANICAL"
    "AbilityUnitDamageType"     "DAMAGE_TYPE_MAGICAL" 
    "SpellImmunityType"       "SPELL_IMMUNITY_ENEMIES_NO"
    "FightRecapLevel"       "1"
    "AbilityTextureName"      "sandking_sand_storm"
    
    // Casting
    //-------------------------------------------------------------------------------------------------------------
    "AbilityCastRange"        "500"
    "AbilityCastPoint"        "0.0"

    // Time   
    //-------------------------------------------------------------------------------------------------------------
    "AbilityCooldown"       "0.0"
    "AbilityChannelTime"      "80.0"

    // Cost
    //-------------------------------------------------------------------------------------------------------------
    "AbilityManaCost"       "60 50 40 30"

    // Precache
    //-------------------------------------------------------------------------------------------------------------
    "precache"
    {
      "soundfile"         "soundevents/game_sounds_heroes/game_sounds_sandking.vsndevts"
      "soundfile"         "soundevents/imba_soundevents.vsndevts"
      "particle"          "particles/units/heroes/hero_sandking/sandking_sandstorm.vpcf"
    }
    
    // Special
    //-------------------------------------------------------------------------------------------------------------
    "AbilitySpecial"
    {
      "01"
      {
        "var_type"        "FIELD_FLOAT"
        "invis_duration"    "1.5"
      }
      "02"
      {
        "var_type"        "FIELD_INTEGER"
        "base_radius"     "500"
      }
      "03"
      {
        "var_type"        "FIELD_INTEGER"
        "base_damage"     "25 50 75 100"
      }
      "04"
      {
        "var_type"        "FIELD_INTEGER"
        "radius_step"     "50"
      }
      "05"
      {
        "var_type"        "FIELD_INTEGER"
        "damage_step"     "10"
      }
      "06"
      {
        "var_type"        "FIELD_INTEGER"
        "wind_force"      "90 110 130 150"
      }
      "07"
      {
        "var_type"        "FIELD_INTEGER"
        "max_duration"      "80"
      }
      "08"
      {
        "var_type"        "FIELD_INTEGER"
        "max_radius"      "1000"
      }
      "09"
      {
        "var_type"        "FIELD_INTEGER"
        "max_damage"      "80 120 160 200"
      }
      "10"
      {
        "var_type"        "FIELD_FLOAT"
        "cooldown"        "13 11 9 7"
      }
    }
    
    "OnSpellStart"
    {     
      "RunScript"
      {
        "ScriptFile"      "hero/hero_sandking.lua"
        "Function"        "SandStorm"

        "sound_cast"      "Ability.SandKing_SandStorm.start"
        "sound_loop"      "Ability.SandKing_SandStorm.loop"
        "sound_darude"      "Imba.SandKingSandStorm"
        "particle_sandstorm"  "particles/units/heroes/hero_sandking/sandking_sandstorm.vpcf"
        "modifier_aura"     "modifier_imba_sand_storm"
      }
    }

    "OnChannelFinish"
    {
      "RunScript"
      {
        "ScriptFile"      "hero/hero_sandking.lua"
        "Function"        "SandStormEnd"
      }
    }

    "Modifiers"
    {
      "modifier_imba_sand_storm"
      {
        "Passive"       "0"
        "IsHidden"        "0"
        "IsDebuff"        "1"
        "IsPurgable"      "0"
      }
    }
  }

  //=================================================================================================================
  // Sand King's Caustic Finale
  //=================================================================================================================
  "imba_sandking_caustic_finale"
  {
    // General
    //-------------------------------------------------------------------------------------------------------------
    "BaseClass"             "ability_datadriven"
    "AbilityBehavior"         "DOTA_ABILITY_BEHAVIOR_PASSIVE"
    "AbilityUnitTargetTeam"       "DOTA_UNIT_TARGET_TEAM_ENEMY"
    "AbilityUnitTargetType"       "DOTA_UNIT_TARGET_HERO | DOTA_UNIT_TARGET_BASIC"
    "AbilityUnitDamageType"       "DAMAGE_TYPE_MAGICAL" 
    "SpellImmunityType"         "SPELL_IMMUNITY_ENEMIES_YES"
    "AbilityTextureName"        "sandking_caustic_finale"

    // Precache
    //-------------------------------------------------------------------------------------------------------------
    "precache"
    {
      "soundfile"           "soundevents/game_sounds_heroes/game_sounds_sandking.vsndevts"
      "particle"            "particles/units/heroes/hero_sandking/sandking_caustic_finale_explode.vpcf"
      "particle"            "particles/hero/sand_king/sandking_caustic_shockwave.vpcf"
      "particle"            "particles/hero/sand_king/sandking_caustic_dust.vpcf"
    }
    
    // Special
    //-------------------------------------------------------------------------------------------------------------
    "AbilitySpecial"
    {
      "01"
      {
        "var_type"          "FIELD_INTEGER"
        "radius"          "425"
      }
      "02"
      {
        "var_type"          "FIELD_INTEGER"
        "damage"          "16 24 32 40"
      }
      "03"
      {
        "var_type"          "FIELD_INTEGER"
        "creep_damage"        "40 60 80 100"
      }
      "04"
      {
        "var_type"          "FIELD_FLOAT"
        "debuff_duration"     "7.0"
      }
      "05"
      {
        "var_type"          "FIELD_INTEGER"
        "initial_slow"        "10"
      }
      "06"
      {
        "var_type"          "FIELD_INTEGER"
        "stacking_slow"       "2"
      }
      "07"
      {
        "var_type"          "FIELD_FLOAT"
        "slow_duration"       "2.5"
      }
      "08"
      {
        "var_type"          "FIELD_FLOAT"
        "prevent_time"        "0.49"
      }
    }
    
    "Modifiers"
    {
      "modifier_imba_caustic_finale_caster"
      {
        "Passive"         "1"
        "IsHidden"          "1"
        "IsBuff"          "1"
        "IsPurgable"        "0"

        "OnAttackLanded"
        {
          "ApplyModifier"
          {
            "ModifierName"    "modifier_imba_caustic_finale"
            "Target"
            {
              "Center"    "TARGET"
              "Teams"     "DOTA_UNIT_TARGET_TEAM_ENEMY"
              "Types"     "DOTA_UNIT_TARGET_HERO | DOTA_UNIT_TARGET_BASIC"
              "Flags"     "DOTA_UNIT_TARGET_FLAG_MAGIC_IMMUNE_ENEMIES"
            }
          }
        }

        "OnCreated"
        {
          "RunScript"
          {
            "ScriptFile"    "internal/util.lua"
            "Function"      "IllusionPassiveRemover"

            "modifier"      "modifier_imba_caustic_finale_caster"
          }
        }
      }
      
      "modifier_imba_caustic_finale"
      {
        "Passive"         "0"
        "IsHidden"          "0"
        "IsDebuff"          "1"
        "IsPurgable"        "1"

        "Duration"          "%debuff_duration"

        "OnCreated"
        {
          "FireEffect"
          {
            "EffectName"    "particles/units/heroes/hero_sandking/sandking_caustic_finale_explode.vpcf"
            "EffectAttachType"  "follow_origin"
            "Target"
            {
              "Center"    "TARGET"
              "Teams"     "DOTA_UNIT_TARGET_TEAM_ENEMY"
              "Types"     "DOTA_UNIT_TARGET_HERO | DOTA_UNIT_TARGET_BASIC"
              "Flags"     "DOTA_UNIT_TARGET_FLAG_MAGIC_IMMUNE_ENEMIES"
            }
          }

          "FireSound"
          {
            "EffectName"    "Ability.SandKing_CausticFinale"
            "Target"
            {
              "Center"    "TARGET"
              "Teams"     "DOTA_UNIT_TARGET_TEAM_ENEMY"
              "Types"     "DOTA_UNIT_TARGET_HERO | DOTA_UNIT_TARGET_BASIC"
              "Flags"     "DOTA_UNIT_TARGET_FLAG_MAGIC_IMMUNE_ENEMIES"
            }
          }
        }
        
        "OnTakeDamage"
        {
          "RunScript"
          {
            "ScriptFile"    "hero/hero_sandking.lua"
            "Function"      "CausticFinale"

            "modifier_prevent"  "modifier_imba_caustic_finale_prevent"
            "modifier_slow"   "modifier_imba_caustic_finale_slow"
            "particle_1"    "particles/hero/sand_king/sandking_caustic_shockwave.vpcf"
            "particle_2"    "particles/hero/sand_king/sandking_caustic_dust.vpcf"
          }
        }
      }

      "modifier_imba_caustic_finale_prevent"
      {
        "Passive"         "0"
        "IsHidden"          "1"
        "IsDebuff"          "1"
        "IsPurgable"        "0"

        "Duration"          "%prevent_time"
      }

      "modifier_imba_caustic_finale_slow"
      {
        "Passive"         "0"
        "IsHidden"          "0"
        "IsDebuff"          "1"
        "IsPurgable"        "1"

        "Duration"          "%slow_duration"

        "Properties"
        {
            "MODIFIER_PROPERTY_MOVESPEED_BONUS_PERCENTAGE"  "-1"
        }
      }
    }
  }

  //=================================================================================================================
  // Sand King's Epicenter
  //=================================================================================================================
  "imba_sandking_epicenter"
  {
    // General
    //-------------------------------------------------------------------------------------------------------------
    "BaseClass"           "ability_datadriven"
    "AbilityType"         "DOTA_ABILITY_TYPE_ULTIMATE"
    "AbilityBehavior"       "DOTA_ABILITY_BEHAVIOR_CHANNELLED | DOTA_ABILITY_BEHAVIOR_NO_TARGET | DOTA_ABILITY_BEHAVIOR_IGNORE_BACKSWING"
    "AbilityUnitTargetTeam"     "DOTA_UNIT_TARGET_TEAM_ENEMY"
    "AbilityUnitTargetType"     "DOTA_UNIT_TARGET_HERO | DOTA_UNIT_TARGET_BASIC | DOTA_UNIT_TARGET_MECHANICAL"
    "AbilityUnitDamageType"     "DAMAGE_TYPE_MAGICAL" 
    "SpellImmunityType"       "SPELL_IMMUNITY_ENEMIES_NO"
    "FightRecapLevel"       "2"
    "AbilityTextureName"      "sandking_epicenter"

    // Time   
    //-------------------------------------------------------------------------------------------------------------
    "AbilityCooldown"       "120.0 110.0 100.0"
    "AbilityCastRange"        "675"
    "AbilityChannelTime"      "4.0"
    "AbilityCastPoint"        "0.0"

    // Cost
    //-------------------------------------------------------------------------------------------------------------
    "AbilityManaCost"       "175 225 275"

    // Precache
    //-------------------------------------------------------------------------------------------------------------
    "precache"
    {
      "soundfile"         "soundevents/game_sounds_heroes/game_sounds_sandking.vsndevts"
      "soundfile"         "soundevents/imba_soundevents.vsndevts"
      "particle"          "particles/generic_gameplay/generic_stunned.vpcf"
      "particle"          "particles/units/heroes/hero_sandking/sandking_epicenter.vpcf"
      "particle"          "particles/units/heroes/hero_sandking/sandking_epicenter_tell.vpcf"
    }
    
    // Special
    //-------------------------------------------------------------------------------------------------------------
    "AbilitySpecial"
    {
      "01"
      {
        "var_type"        "FIELD_INTEGER"
        "base_radius"     "650"
      }
      "02"
      {
        "var_type"        "FIELD_INTEGER"
        "step_radius"     "25"
      }
      "03"
      {
        "var_type"        "FIELD_INTEGER"
        "max_pulses"      "12 16 20"
      }
      "04"
      {
        "var_type"        "FIELD_INTEGER"
        "damage"        "110"
      }
      "05"
      {
        "var_type"        "FIELD_INTEGER"
        "slow"          "-30"
      }
      "06"
      {
        "var_type"        "FIELD_FLOAT"
        "slow_duration"     "2.0"
      }
      "07"
      {
        "var_type"        "FIELD_INTEGER"
        "max_pulses_scepter"  "16 20 24"
      }
      "08"
      {
        "var_type"        "FIELD_FLOAT"
        "cooldown_scepter"    "80.0"
      }
      "09"
      {
        "var_type"        "FIELD_FLOAT"
        "pulse_duration"    "3.0"
      }
      "10"
      {
        "var_type"        "FIELD_INTEGER"
        "pull_scepter"      "150"
      }
      "11"
      {
        "var_type"        "FIELD_INTEGER"
        "pull_radius_scepter" "2000"
      }
    } 
      
    "OnSpellStart"
    {
      "RunScript"
      {
        "ScriptFile"      "hero/hero_sandking.lua"
        "Function"        "EpicenterChannel"

        "modifier_caster"   "modifier_imba_epicenter_caster"
        "sound_cast"      "Ability.SandKing_Epicenter.spell"
        "sound_darude"      "Imba.SandKingEpicenter"
      }
    }
      
    "OnChannelFinish"
    {
      "RunScript"
      {
        "ScriptFile"      "hero/hero_sandking.lua"
        "Function"        "Epicenter"

        "modifier_caster"   "modifier_imba_epicenter_caster"
        "modifier_slow"     "modifier_imba_epicenter_slow"
        "sound_epicenter"   "Ability.SandKing_Epicenter"
        "sound_darude"      "Imba.SandKingEpicenter"
        "particle_epicenter"  "particles/units/heroes/hero_sandking/sandking_epicenter.vpcf"
      }
    }
    
    "Modifiers"
    {
      "modifier_imba_epicenter_scepter_check"
      {
        "Passive"       "1"
        "IsHidden"        "1"
        "IsBuff"        "1"
        "IsPurgable"      "0"
      
        "ThinkInterval"     "0.1"

        "OnIntervalThink"
        {
          "RunScript"
          {
            "ScriptFile"      "hero/hero_sandking.lua"
            "Function"        "ScepterCheck"

            "modifier_check"    "modifier_imba_epicenter_scepter_check"
            "epicenter_name"    "imba_sandking_epicenter"
          }
        }

        "OnCreated"
        {
          "RunScript"
          {
            "ScriptFile"      "internal/util.lua"
            "Function"        "IllusionPassiveRemover"

            "modifier"        "modifier_imba_epicenter_scepter_check"
          }
        }
      }

      "modifier_imba_epicenter_caster"
      {
        "Passive"       "0"
        "IsHidden"        "1"
        "IsBuff"        "1"
        "IsPurgable"      "0"
      
        "OnCreated"
        {
          "AttachEffect"
          {
            "Target"      "CASTER"
            "EffectName"    "particles/units/heroes/hero_sandking/sandking_epicenter_tell.vpcf"
            "EffectAttachType"  "start_at_custom_origin"

            "ControlPointEntities"
            {
              "CASTER"    "attach_tail"
              "CASTER"    "attach_tail"
              "CASTER"    "attach_tail"
            }
          }
        }
      }
      
      "modifier_imba_epicenter_slow"
      {
        "Passive"       "0"
        "IsHidden"        "0"
        "IsDebuff"        "1"
        "IsPurgable"      "1"

        "Duration"        "%slow_duration"
      
        "Properties"
        {
          "MODIFIER_PROPERTY_MOVESPEED_BONUS_PERCENTAGE"  "%slow"
          "MODIFIER_PROPERTY_ATTACKSPEED_BONUS_CONSTANT"  "%slow"
        }
      }
    }
  }

  //=================================================================================================================
  // Sand King's Epicenter (scepter version)
  //=================================================================================================================
  "imba_sandking_epicenter_scepter"
  {
    // General
    //-------------------------------------------------------------------------------------------------------------
    "BaseClass"           "ability_datadriven"
    "AbilityType"         "DOTA_ABILITY_TYPE_ULTIMATE"
    "AbilityBehavior"       "DOTA_ABILITY_BEHAVIOR_CHANNELLED | DOTA_ABILITY_BEHAVIOR_NO_TARGET | DOTA_ABILITY_BEHAVIOR_IGNORE_BACKSWING"
    "AbilityUnitTargetTeam"     "DOTA_UNIT_TARGET_TEAM_ENEMY"
    "AbilityUnitTargetType"     "DOTA_UNIT_TARGET_HERO | DOTA_UNIT_TARGET_BASIC | DOTA_UNIT_TARGET_MECHANICAL"
    "AbilityUnitDamageType"     "DAMAGE_TYPE_MAGICAL" 
    "SpellImmunityType"       "SPELL_IMMUNITY_ENEMIES_NO"
    "FightRecapLevel"       "2"
    "AbilityTextureName"      "sandking_epicenter"

    // Time   
    //-------------------------------------------------------------------------------------------------------------
    "AbilityCooldown"       "80.0"
    "AbilityChannelTime"      "4.0"
    "AbilityCastPoint"        "0.0"

    // Cost
    //-------------------------------------------------------------------------------------------------------------
    "AbilityManaCost"       "175 225 275"

    // Precache
    //-------------------------------------------------------------------------------------------------------------
    "precache"
    {
      "soundfile"         "soundevents/game_sounds_heroes/game_sounds_sandking.vsndevts"
      "soundfile"         "soundevents/imba_soundevents.vsndevts"
      "particle"          "particles/generic_gameplay/generic_stunned.vpcf"
      "particle"          "particles/units/heroes/hero_sandking/sandking_epicenter.vpcf"
      "particle"          "particles/units/heroes/hero_sandking/sandking_epicenter_tell.vpcf"
    }
    
    // Special
    //-------------------------------------------------------------------------------------------------------------
    "AbilitySpecial"
    {
      "01"
      {
        "var_type"        "FIELD_INTEGER"
        "base_radius"     "650"
      }
      "02"
      {
        "var_type"        "FIELD_INTEGER"
        "step_radius"     "25"
      }
      "03"
      {
        "var_type"        "FIELD_INTEGER"
        "max_pulses"      "12 16 20"
      }
      "04"
      {
        "var_type"        "FIELD_INTEGER"
        "damage"        "110"
      }
      "05"
      {
        "var_type"        "FIELD_INTEGER"
        "slow"          "-30"
      }
      "06"
      {
        "var_type"        "FIELD_FLOAT"
        "slow_duration"     "2.0"
      }
      "07"
      {
        "var_type"        "FIELD_INTEGER"
        "max_pulses_scepter"  "16 20 24"
      }
      "08"
      {
        "var_type"        "FIELD_FLOAT"
        "cooldown_scepter"    "80.0"
      }
      "09"
      {
        "var_type"        "FIELD_FLOAT"
        "pulse_duration"    "3.0"
      }
      "10"
      {
        "var_type"        "FIELD_INTEGER"
        "pull_scepter"      "150"
      }
      "11"
      {
        "var_type"        "FIELD_INTEGER"
        "pull_radius_scepter" "2000"
      }
    } 
      
    "OnSpellStart"
    {
      "RunScript"
      {
        "ScriptFile"      "hero/hero_sandking.lua"
        "Function"        "EpicenterChannel"

        "modifier_caster"   "modifier_imba_epicenter_caster"
        "sound_cast"      "Ability.SandKing_Epicenter.spell"
        "sound_darude"      "Imba.SandKingEpicenter"
      }
    }
      
    "OnChannelFinish"
    {
      "RunScript"
      {
        "ScriptFile"      "hero/hero_sandking.lua"
        "Function"        "Epicenter"

        "modifier_caster"   "modifier_imba_epicenter_caster"
        "modifier_slow"     "modifier_imba_epicenter_slow"
        "sound_epicenter"   "Ability.SandKing_Epicenter"
        "sound_darude"      "Imba.SandKingEpicenter"
        "particle_epicenter"  "particles/units/heroes/hero_sandking/sandking_epicenter.vpcf"
      }
    }
    
    "Modifiers"
    {
      "modifier_imba_epicenter_scepter_check"
      {
        "Passive"       "1"
        "IsHidden"        "1"
        "IsBuff"        "1"
        "IsPurgable"      "0"
      
        "ThinkInterval"     "0.1"

        "OnIntervalThink"
        {
          "RunScript"
          {
            "ScriptFile"      "hero/hero_sandking.lua"
            "Function"        "ScepterLostCheck"

            "modifier_check"    "modifier_imba_epicenter_scepter_check"
            "epicenter_name"    "imba_sandking_epicenter"
          }
        }

        "OnCreated"
        {
          "RunScript"
          {
            "ScriptFile"      "internal/util.lua"
            "Function"        "IllusionPassiveRemover"

            "modifier"        "modifier_imba_epicenter_scepter_check"
          }
        }
      }

      "modifier_imba_epicenter_caster"
      {
        "Passive"       "0"
        "IsHidden"        "1"
        "IsBuff"        "1"
        "IsPurgable"      "0"
      
        "OnCreated"
        {
          "AttachEffect"
          {
            "Target"      "CASTER"
            "EffectName"    "particles/units/heroes/hero_sandking/sandking_epicenter_tell.vpcf"
            "EffectAttachType"  "start_at_custom_origin"

            "ControlPointEntities"
            {
              "CASTER"    "attach_tail"
              "CASTER"    "attach_tail"
              "CASTER"    "attach_tail"
            }
          }
        }
      }
      
      "modifier_imba_epicenter_slow"
      {
        "Passive"       "0"
        "IsHidden"        "0"
        "IsDebuff"        "1"
        "IsPurgable"      "1"

        "Duration"        "%slow_duration"
      
        "Properties"
        {
          "MODIFIER_PROPERTY_MOVESPEED_BONUS_PERCENTAGE"  "%slow"
          "MODIFIER_PROPERTY_ATTACKSPEED_BONUS_CONSTANT"  "%slow"
        }
      }
    }
  }

  //=================================================================================================================
  // Tinker's Laser
  //=================================================================================================================
  "imba_tinker_laser"
  {
    // General
    //-------------------------------------------------------------------------------------------------------------
    "BaseClass"           "ability_datadriven"
    "AbilityBehavior"       "DOTA_ABILITY_BEHAVIOR_UNIT_TARGET"
    "AbilityUnitTargetTeam"     "DOTA_UNIT_TARGET_TEAM_ENEMY"
    "AbilityUnitTargetType"     "DOTA_UNIT_TARGET_HERO | DOTA_UNIT_TARGET_BASIC"
    "AbilityUnitDamageType"     "DAMAGE_TYPE_PURE"  
    "SpellImmunityType"       "SPELL_IMMUNITY_ENEMIES_NO"
    "FightRecapLevel"       "1"
    "AbilityTextureName"      "tinker_laser"
    
    // Casting
    //-------------------------------------------------------------------------------------------------------------
    "AbilityCastRange"        "575 650 725 800"
    "AbilityCastPoint"        "0.4"

    // Time   
    //-------------------------------------------------------------------------------------------------------------
    "AbilityCooldown"       "14.0"

    // Cost
    //-------------------------------------------------------------------------------------------------------------
    "AbilityManaCost"       "100 120 140 160"

    // Precache
    //-------------------------------------------------------------------------------------------------------------
    "precache"
    {
      "soundfile"         "soundevents/game_sounds_heroes/game_sounds_tinker.vsndevts"
      "particle"          "particles/units/heroes/hero_tinker/tinker_laser.vpcf"
    }

    // Special
    //-------------------------------------------------------------------------------------------------------------
    "AbilitySpecial"
    {
      "01"
      {
        "var_type"        "FIELD_FLOAT"
        "base_duration"     "3.0"
      }
      "02"
      {
        "var_type"        "FIELD_INTEGER"
        "damage"        "100 175 250 325"
      }
      "03"
      {
        "var_type"        "FIELD_INTEGER"
        "blind_aoe"       "300"
      }
      "04"
      {
        "var_type"        "FIELD_INTEGER"
        "blind_amount"      "100"
      }
      "05"
      {
        "var_type"        "FIELD_INTEGER"
        "vision_reduction"    "-1800"
      }
      "06"
      {
        "var_type"        "FIELD_INTEGER"
        "stack_damage"      "50"
      }
      "07"
      {
        "var_type"        "FIELD_FLOAT"
        "stack_duration"    "0.25"
      }
      "08"
      {
        "var_type"        "FIELD_INTEGER"
        "bounce_range_scepter"  "600"
      }
    }
    
    "OnSpellStart"
    {
      "RunScript"
      {
        "ScriptFile"      "hero/hero_tinker.lua"
        "Function"        "Laser"

        "ability_rearm"     "imba_tinker_rearm"
        "particle_laser"    "particles/units/heroes/hero_tinker/tinker_laser.vpcf"
        "sound_cast"      "Hero_Tinker.Laser"
        "sound_impact"      "Hero_Tinker.LaserImpact"
        "modifier_blind"    "modifier_imba_laser_blind"
        "modifier_rearm_stack"  "modifier_imba_rearm_stack"
        "modifier_rearm_mana" "modifier_imba_rearm_mana_penalty"
      }
    }

    "Modifiers"
    {
      "modifier_imba_laser_blind"
      {
        "Passive"       "0"
        "IsHidden"        "0"
        "IsDebuff"        "1"
        "IsPurgable"      "1"

        "EffectName"      "particles/ambient/tower_laser_blind.vpcf"
        "EffectAttachType"    "follow_overhead"
    
        "Properties"
        {
          "MODIFIER_PROPERTY_MISS_PERCENTAGE"   "%blind_amount"
          "MODIFIER_PROPERTY_BONUS_DAY_VISION"  "%vision_reduction"
          "MODIFIER_PROPERTY_BONUS_NIGHT_VISION"  "%vision_reduction"
        }
      }
    }
  }

  //=================================================================================================================
  // Tinker's Heat-Seeking Missiles
  //=================================================================================================================
  "imba_tinker_heat_seeking_missile"
  {
    // General
    //-------------------------------------------------------------------------------------------------------------
    "BaseClass"           "ability_datadriven"
    "AbilityBehavior"       "DOTA_ABILITY_BEHAVIOR_NO_TARGET | DOTA_ABILITY_BEHAVIOR_IMMEDIATE"
    "AbilityUnitDamageType"     "DAMAGE_TYPE_MAGICAL" 
    "SpellImmunityType"       "SPELL_IMMUNITY_ENEMIES_NO"
    "FightRecapLevel"       "1"
    "AbilityTextureName"      "tinker_heat_seeking_missile"

    // Casting
    //-------------------------------------------------------------------------------------------------------------
    "AbilityCastPoint"        "2500"
    
    // Time   
    //-------------------------------------------------------------------------------------------------------------
    "AbilityCooldown"       "25.0"

    // Cost
    //-------------------------------------------------------------------------------------------------------------
    "AbilityManaCost"       "120 140 160 180"

    // Precache
    //-------------------------------------------------------------------------------------------------------------
    "precache"
    {
      "soundfile"         "soundevents/game_sounds_heroes/game_sounds_tinker.vsndevts"
      "particle"          "particles/units/heroes/hero_tinker/tinker_missile.vpcf"
      "particle"          "particles/units/heroes/hero_tinker/tinker_missle_explosion.vpcf"
      "particle"          "particles/units/heroes/hero_tinker/tinker_missile_dud.vpcf"
    }

    // Special
    //-------------------------------------------------------------------------------------------------------------
    "AbilitySpecial"
    { 
      "01"
      {
        "var_type"        "FIELD_INTEGER"
        "search_range"      "2500"
      }
      "02"
      {
        "var_type"        "FIELD_INTEGER"
        "base_count"      "2"
      }
      "03"
      {
        "var_type"        "FIELD_INTEGER"
        "stack_count"     "1"
      }
      "04"
      {
        "var_type"        "FIELD_INTEGER"
        "damage"        "125 200 275 350"
      }
      "05"
      {
        "var_type"        "FIELD_FLOAT"
        "vision_duration"   "3.0"
      }
      "06"
      {
        "var_type"        "FIELD_INTEGER"
        "speed"         "900"
      }
    }
    
    "OnSpellStart"
    {
      "RunScript"
      {
        "ScriptFile"      "hero/hero_tinker.lua"
        "Function"        "Missile"

        "ability_rearm"     "imba_tinker_rearm"
        "particle_missile"    "particles/units/heroes/hero_tinker/tinker_missile.vpcf"
        "particle_dud"      "particles/units/heroes/hero_tinker/tinker_missile_dud.vpcf"
        "sound_cast"      "Hero_Tinker.Heat-Seeking_Missile"
        "sound_dud"       "Hero_Tinker.Heat-Seeking_Missile_Dud"
        "modifier_rearm_stack"  "modifier_imba_rearm_stack"
        "modifier_rearm_mana" "modifier_imba_rearm_mana_penalty"
      }
    }
    
    "OnProjectileHitUnit"
    {
      "FireEffect"
      {
        "Target"        "TARGET"
        "EffectName"      "particles/units/heroes/hero_tinker/tinker_missle_explosion.vpcf"
        "EffectAttachType"    "start_at_customorigin"
        "ControlPointEntities"
        {
          "TARGET"      "attach_origin"
        }
      }

      "FireSound"
      {
        "EffectName"      "Hero_Tinker.Heat-Seeking_Missile.Impact"
        "Target"        "TARGET"
      }

      "ApplyModifier"
      {
        "ModifierName"      "modifier_imba_heat_seeking_missile_vision"
        "Target"        "TARGET"
      }
    
      "Damage"
      {
        "Target"        "TARGET"
        "Damage"        "%damage"
        "Type"          "DAMAGE_TYPE_MAGICAL"
      }
    }

    "Modifiers"
    {
      "modifier_imba_heat_seeking_missile_vision"
      {
        "Passive"       "0"
        "IsHidden"        "0"
        "IsDebuff"        "1"
        "IsPurgable"      "1"

        "Duration"        "%vision_duration"
    
        "States"
        {
          "MODIFIER_STATE_PROVIDES_VISION"  "MODIFIER_STATE_VALUE_ENABLED"
        }
      }
    }
  }

  //=================================================================================================================
  // Tinker's March of the Machines
  //=================================================================================================================
  "imba_tinker_march_of_the_machines"
  {
    // General
    //-------------------------------------------------------------------------------------------------------------
    "BaseClass"           "ability_datadriven"
    "AbilityBehavior"       "DOTA_ABILITY_BEHAVIOR_POINT"
    "AbilityUnitDamageType"     "DAMAGE_TYPE_MAGICAL" 
    "SpellImmunityType"       "SPELL_IMMUNITY_ENEMIES_NO"
    "AbilityTextureName"      "tinker_march_of_the_machines"
    
    // Casting
    //-------------------------------------------------------------------------------------------------------------
    "AbilityCastRange"        "400"
    "AbilityCastPoint"        "0.4"

    // Time   
    //-------------------------------------------------------------------------------------------------------------
    "AbilityCooldown"       "35.0"

    // Cost
    //-------------------------------------------------------------------------------------------------------------
    "AbilityManaCost"       "130 150 170 190"

    // Data driven
    //-------------------------------------------------------------------------------------------------------------
    "precache"
    {
      "soundfile"         "soundevents/game_sounds_heroes/game_sounds_tinker.vsndevts"
      "particle"          "particles/units/heroes/hero_tinker/tinker_machine.vpcf"
      "model"           "models/heroes/tinker/mom.vmdl"
    }

    // Special
    //-------------------------------------------------------------------------------------------------------------
    "AbilitySpecial"
    {
      "01"
      {
        "var_type"        "FIELD_INTEGER"
        "spawner_width"     "1200"
      }
      "02"
      {
        "var_type"        "FIELD_INTEGER"
        "spawner_amount"    "3"
      }
      "03"
      {
        "var_type"        "FIELD_INTEGER"
        "spawn_radius"      "300"
      }
      "04"
      {
        "var_type"        "FIELD_INTEGER"
        "spawn_length"      "1200"
      }
      "05"
      {
        "var_type"        "FIELD_INTEGER"
        "collision_radius"    "100"
      }
      "06"
      {
        "var_type"        "FIELD_INTEGER"
        "damage"        "32 48 64 80"
      }
      "07"
      {
        "var_type"        "FIELD_INTEGER"
        "attacks_to_kill"   "3"
      }
      "08"
      {
        "var_type"        "FIELD_FLOAT"
        "max_spawns"      "30"
      }
      "09"
      {
        "var_type"        "FIELD_INTEGER"
        "speed"         "400"
      }
      "10"
      {
        "var_type"        "FIELD_FLOAT"
        "spawn_interval"    "0.3"
      }
      "11"
      {
        "var_type"        "FIELD_INTEGER"
        "movement_scepter"    "250"
      }
      "12"
      {
        "var_type"        "FIELD_INTEGER"
        "duration_tooltip"    "250"
      }
    }
    
    "OnAbilityPhaseStart"
    {
      "FireSound"
      {
        "Target"        "CASTER"
        "EffectName"      "Hero_Tinker.March_of_the_Machines.Cast"
      }
    }
    
    "OnSpellStart"
    {
      "RunScript"
      {
        "ScriptFile"      "hero/hero_tinker.lua"
        "Function"        "March"
        "Target"        "POINT"

        "ability_rearm"     "imba_tinker_rearm"
        "sound_cast"      "Hero_Tinker.March_of_the_Machines"
        "modifier_machine"    "modifier_imba_march_of_the_machines"
        "modifier_rearm_stack"  "modifier_imba_rearm_stack"
        "modifier_rearm_mana" "modifier_imba_rearm_mana_penalty"
      }
    }

    "OnProjectileHitUnit"
    {
      "DeleteOnHit"       "1"
      
      "Damage"
      {
        "Target"        "TARGET"
        "Type"          "DAMAGE_TYPE_MAGICAL"
        "Damage"        "%damage"
      }
    }

    "Modifiers"
    {
      "modifier_imba_march_of_the_machines"
      {
        "Passive"       "0"
        "IsHidden"        "1"
        "IsBuff"        "1"
        "IsPurgable"      "0"

        "ThinkInterval"     "%spawn_interval"

        "OnIntervalThink"
        {
          "RunScript"
          {
            "ScriptFile"      "hero/hero_tinker.lua"
            "Function"        "MarchSpawn"

            "particle_machine"    "particles/units/heroes/hero_tinker/tinker_machine.vpcf"
          }
        }
    
        "OnAttacked"
        {
          "RunScript"
          {
            "ScriptFile"      "hero/hero_tinker.lua"
            "Function"        "MarchDamage"
          }
        }

        "Properties"
        {
          "MODIFIER_PROPERTY_ABSOLUTE_NO_DAMAGE_PHYSICAL"   "1"
            "MODIFIER_PROPERTY_ABSOLUTE_NO_DAMAGE_MAGICAL"    "1"
            "MODIFIER_PROPERTY_ABSOLUTE_NO_DAMAGE_PURE"     "1"
        }

        "States"
        {
          "MODIFIER_STATE_MAGIC_IMMUNE"     "MODIFIER_STATE_VALUE_ENABLED"
          "MODIFIER_STATE_NO_UNIT_COLLISION"    "MODIFIER_STATE_VALUE_ENABLED"
        }
      }
    }
  }

  //=================================================================================================================
  // Tinker's Rearm
  //=================================================================================================================
  "imba_tinker_rearm"
  {
    // General
    //-------------------------------------------------------------------------------------------------------------
    "BaseClass"           "ability_datadriven"
    "AbilityBehavior"       "DOTA_ABILITY_BEHAVIOR_NO_TARGET"
    "AbilityType"         "DOTA_ABILITY_TYPE_ULTIMATE"
    "AbilityTextureName"      "tinker_rearm"

    // Casting
    //-------------------------------------------------------------------------------------------------------------
    "AbilityCastPoint"        "0.5"

    // Time   
    //-------------------------------------------------------------------------------------------------------------
    "AbilityCooldown"       "2.5 1.5 0.5"

    // Cost
    //-------------------------------------------------------------------------------------------------------------
    "AbilityManaCost"       "150 250 350"

    // Precache
    //-------------------------------------------------------------------------------------------------------------
    "precache"
    {
      "soundfile"         "soundevents/game_sounds_heroes/game_sounds_tinker.vsndevts"
      "particle"          "particles/units/heroes/hero_tinker/tinker_rearm.vpcf"
    }
    
    // Special
    //-------------------------------------------------------------------------------------------------------------
    "AbilitySpecial"
    {
      "01"
      {
        "var_type"        "FIELD_INTEGER"
        "cooldown_tooltip"    "3 2 1"
      }
      "02"
      {
        "var_type"        "FIELD_FLOAT"
        "stack_duration"    "3.0"
      }
      "03"
      {
        "var_type"        "FIELD_FLOAT"
        "mana_penalty"      "-2.0"
      }
    }
    
    "OnSpellStart"
    {
      "RunScript"
      {
        "ScriptFile"      "hero/hero_tinker.lua"
        "Function"        "Rearm"

        "particle_rearm"    "particles/units/heroes/hero_tinker/tinker_rearm.vpcf"
        "sound_cast"      "Hero_Tinker.Rearm"
        "modifier_stack"    "modifier_imba_rearm_stack"
        "modifier_mana"     "modifier_imba_rearm_mana_penalty"
      }
    }
    
    "Modifiers"
    {
      "modifier_imba_rearm_stack"
      {
        "Passive"       "0"
        "IsBuff"        "1"
        "IsHidden"        "0"
        "IsPurgable"      "0"

        "Duration"        "%stack_duration"

        "ThinkInterval"     "0.2"

        "OnIntervalThink"
        {
          "RunScript"
          {
            "ScriptFile"      "hero/hero_tinker.lua"
            "Function"        "RearmStacksCheck"

            "modifier_stack"    "modifier_imba_rearm_stack"
            "modifier_mana"     "modifier_imba_rearm_mana_penalty"
          }
        }
      }

      "modifier_imba_rearm_mana_penalty"
      {
        "Passive"       "0"
        "IsDebuff"        "1"
        "IsHidden"        "1"
        "IsPurgable"      "0"

        "Duration"        "%stack_duration"

        "Properties"
        {
          "MODIFIER_PROPERTY_MANA_REGEN_CONSTANT"   "%mana_penalty"
        }
      }
    }
  }

  //=================================================================================================================
  // Faceless Void's Chronosphere
  //=================================================================================================================
  "imba_faceless_void_chronosphere"
  {
    // General
    //-------------------------------------------------------------------------------------------------------------
    "BaseClass"           "ability_datadriven"
    "AbilityBehavior"       "DOTA_ABILITY_BEHAVIOR_POINT"
    "AbilityType"         "DOTA_ABILITY_TYPE_ULTIMATE"
    "SpellImmunityType"       "SPELL_IMMUNITY_ENEMIES_YES"
    "FightRecapLevel"       "2"
    "AbilityTextureName"      "faceless_void_chronosphere"

    // Precache
    //-------------------------------------------------------------------------------------------------------------
    "precache"
    {
      "soundfile"         "soundevents/game_sounds_heroes/game_sounds_faceless_void.vsndevts"
      "particle"          "particles/units/heroes/hero_faceless_void/faceless_void_chronosphere.vpcf"
      "particle"          "particles/units/heroes/hero_faceless_void/faceless_void_chrono_speed.vpcf"
    }
    
    // Casting
    //-------------------------------------------------------------------------------------------------------------
    "AbilityCastRange"        "900"
    "AbilityCastPoint"        "0.3"

    // Time   
    //-------------------------------------------------------------------------------------------------------------
    "AbilityCooldown"       "50.0 40.0 30.0"

    // Cost
    //-------------------------------------------------------------------------------------------------------------
    "AbilityManaCost"       "100"

    // Special
    //-------------------------------------------------------------------------------------------------------------
    "AbilitySpecial"
    {
      "01"
      {
        "var_type"        "FIELD_INTEGER"
        "base_radius"     "200 300 400"
      }
      "02"
      {
        "var_type"        "FIELD_FLOAT"
        "base_duration"     "6.0 7.5 9.0"
      }
      "03"
      {
        "var_type"        "FIELD_INTEGER"
        "extra_radius"      "50"
      }
      "04"
      {
        "var_type"        "FIELD_FLOAT"
        "extra_duration"    "0.2"
      }
      "05"
      {
        "var_type"        "FIELD_FLOAT"
        "tick_interval"     "0.1"
      }
      "06"
      {
        "var_type"        "FIELD_FLOAT"
        "linger_duration"   "0.2"
      }
      "07"
      {
        "var_type"        "FIELD_INTEGER"
        "bonus_as"        "60 90 120"
      }
      "08"
      {
        "var_type"        "FIELD_INTEGER"
        "slow_scepter"      "-80"
      }
    }

    "OnSpellStart"
    {
      "RunScript"
      {
        "ScriptFile"      "hero/hero_faceless_void.lua"
        "Function"        "Chronosphere"
        "Target"        "POINT"

        "sound_cast"      "Hero_FacelessVoid.Chronosphere"
        "particle_chrono"   "particles/units/heroes/hero_faceless_void/faceless_void_chronosphere.vpcf"
        "modifier_caster"   "modifier_imba_chronosphere_caster"
        "modifier_enemy"    "modifier_imba_chronosphere_enemy"
        "modifier_ally"     "modifier_imba_chronosphere_ally_scepter"
      }
    }

    "Modifiers"
    {
      "modifier_imba_chronosphere_caster"
      {
        "Passive"       "0"
        "IsHidden"        "1"
        "IsBuff"        "1"
        "IsPurgable"      "0"

        "Duration"        "%linger_duration"

        "EffectName"      "particles/units/heroes/hero_faceless_void/faceless_void_chrono_speed.vpcf"
        "EffectAttachType"    "follow_origin"

        "OnDestroy"
        {
          "RunScript"
          {
            "ScriptFile"  "hero/hero_faceless_void.lua"
            "Function"    "ChronoBuffEnd"
          }

          "DestroyTrees"
          {
            "Target"    "TARGET"
            "Radius"    "200"
          }
        }

        "Properties"
        {
          "MODIFIER_PROPERTY_MOVESPEED_ABSOLUTE"      "1000"
          "MODIFIER_PROPERTY_ATTACKSPEED_BONUS_CONSTANT"  "%bonus_as"
        }

        "States"
        {
          "MODIFIER_STATE_FLYING_FOR_PATHING_PURPOSES_ONLY" "MODIFIER_STATE_VALUE_ENABLED"
          "MODIFIER_STATE_NO_UNIT_COLLISION"          "MODIFIER_STATE_VALUE_ENABLED"
        }
      }

      "modifier_imba_chronosphere_enemy"
      {
        "Passive"       "0"
        "IsHidden"        "1"
        "IsDebuff"        "1"
        "IsPurgable"      "0"

        "StatusEffectName"    "particles/status_fx/status_effect_faceless_chronosphere.vpcf"
        "StatusEffectPriority"  "1"

        "States"
        {
          "MODIFIER_STATE_STUNNED"      "MODIFIER_STATE_VALUE_ENABLED"
          "MODIFIER_STATE_FROZEN"       "MODIFIER_STATE_VALUE_ENABLED"
          "MODIFIER_STATE_PROVIDES_VISION"  "MODIFIER_STATE_VALUE_ENABLED"
          "MODIFIER_STATE_INVISIBLE"      "MODIFIER_STATE_VALUE_DISABLED"
        }
      }

      "modifier_imba_chronosphere_ally_scepter"
      {
        "Passive"       "0"
        "IsHidden"        "1"
        "IsDebuff"        "1"
        "IsPurgable"      "0"

        "Duration"        "%linger_duration"

        "StatusEffectName"    "particles/status_fx/status_effect_faceless_chronosphere.vpcf"
        "StatusEffectPriority"  "1"

        "Properties"
        {
          "MODIFIER_PROPERTY_TURN_RATE_PERCENTAGE"      "%slow_scepter"
          "MODIFIER_PROPERTY_MOVESPEED_BONUS_PERCENTAGE"    "%slow_scepter"
          "MODIFIER_PROPERTY_ATTACKSPEED_BONUS_CONSTANT"    "-300"
        }
      }
    }
  }

  //=================================================================================================================
  // Faceless Void's Time Walk
  //=================================================================================================================
  "imba_faceless_void_time_walk"
  {
    // General
    //-------------------------------------------------------------------------------------------------------------
    "BaseClass"           "ability_datadriven"
    "AbilityBehavior"       "DOTA_ABILITY_BEHAVIOR_POINT"
    "AbilityTextureName"      "faceless_void_time_walk"

    // Precache
    //-------------------------------------------------------------------------------------------------------------
    "precache"
    {
      "soundfile"         "soundevents/game_sounds_heroes/game_sounds_faceless_void.vsndevts"
      "particle"          "particles/units/heroes/hero_faceless_void/faceless_void_time_walk.vpcf"
    }
    
    // Casting
    //-------------------------------------------------------------------------------------------------------------
    "AbilityCastRange"        "850 1000 1150 1300"
    "AbilityCastPoint"        "0.3"

    // Time   
    //-------------------------------------------------------------------------------------------------------------
    "AbilityCooldown"       "18 16 14 12"

    // Cost
    //-------------------------------------------------------------------------------------------------------------
    "AbilityManaCost"       "0"

    // Special
    //-------------------------------------------------------------------------------------------------------------
    "AbilitySpecial"
    {
      "01"
      {
        "var_type"        "FIELD_INTEGER"
        "speed"         "3000"
      }
      "02"
      {
        "var_type"        "FIELD_INTEGER"
        "slow_radius"     "325"
      }
      "03"
      {
        "var_type"        "FIELD_INTEGER"
        "chrono_radius"     "225"
      }
      "04"
      {
        "var_type"        "FIELD_FLOAT"
        "duration"        "3.0"
      }
      "05"
      {
        "var_type"        "FIELD_INTEGER"
        "move_slow"       "-20 -30 -40 -50"
      }
      "06"
      {
        "var_type"        "FIELD_INTEGER"
        "attack_speed_slow"   "-20 -30 -40 -50"
      }
      "07"
      {
        "var_type"        "FIELD_INTEGER"
        "move_bonus"      "10"
      }
      "08"
      {
        "var_type"        "FIELD_INTEGER"
        "attack_speed_bonus"  "10 15 20 25"
      }
      "09"
      {
        "var_type"        "FIELD_INTEGER"
        "tooltip_range"     "850 1000 1150 1300"
      }
      "10"
      {
        "var_type"        "FIELD_FLOAT"
        "chrono_linger"     "0.3"
      }
    }

    "OnSpellStart"
    {
      "RunScript"
      {
        "ScriptFile"      "hero/hero_faceless_void.lua"
        "Function"        "TimeWalk"

        "Target"        "POINT"
        "sound_cast"      "Hero_FacelessVoid.TimeWalk"
        "particle_cast"     "particles/units/heroes/hero_faceless_void/faceless_void_time_walk_preimage.vpcf"
        "modifier_caster"   "modifier_imba_time_walk_caster"
        "modifier_buff"     "modifier_imba_time_walk_buff"
      }
    }

    "Modifiers"
    {
      "modifier_imba_time_walk_caster"
      {
        "Passive"       "0"
        "IsHidden"        "1"
        "IsBuff"        "1"
        "IsPurgable"      "0"

        "EffectName"      "particles/units/heroes/hero_faceless_void/faceless_void_chrono_speed.vpcf"
        "EffectAttachType"    "follow_origin"

        "States"
        {
          "MODIFIER_STATE_INVULNERABLE" "MODIFIER_STATE_VALUE_ENABLED"
        }
      }

      "modifier_imba_time_walk_buff"
      {
        "Passive"       "0"
        "IsHidden"        "0"
        "IsBuff"        "1"
        "IsPurgable"      "1"

        "Duration"        "%duration"

        "EffectName"      "particles/units/heroes/hero_faceless_void/faceless_void_time_walk.vpcf"
        "EffectAttachType"    "follow_origin"

        "Properties"
        {
          "MODIFIER_PROPERTY_MOVESPEED_BONUS_PERCENTAGE"    "%move_bonus"
          "MODIFIER_PROPERTY_ATTACKSPEED_BONUS_CONSTANT"    "%attack_speed_bonus"
        }
      }
    }
  }

  //=================================================================================================================
  // Faceless Void's Time Lock
  //=================================================================================================================
  "imba_faceless_void_time_lock"
  {
    // General
    //-------------------------------------------------------------------------------------------------------------
    "BaseClass"           "ability_datadriven"
    "AbilityBehavior"       "DOTA_ABILITY_BEHAVIOR_PASSIVE"
    "AbilityUnitDamageType"     "DAMAGE_TYPE_MAGICAL" 
    "SpellImmunityType"       "SPELL_IMMUNITY_ENEMIES_YES"
    "AbilityTextureName"      "faceless_void_time_lock"

    // Precache
    //-------------------------------------------------------------------------------------------------------------
    "precache"
    {
      "soundfile"         "soundevents/game_sounds_heroes/game_sounds_faceless_void.vsndevts"
      "particle"          "particles/status_fx/status_effect_faceless_chronosphere.vpcf"
      "particle"          "particles/generic_gameplay/generic_stunned.vpcf"
    }

    // Special
    //-------------------------------------------------------------------------------------------------------------
    "AbilitySpecial"
    {
      "01"
      {
        "var_type"          "FIELD_INTEGER"
        "bash_chance"       "10 15 20 25"
      }
      "02"
      {
        "var_type"          "FIELD_INTEGER"
        "bash_damage"       "40 50 60 70"
      }
      "03"
      {
        "var_type"          "FIELD_FLOAT"
        "bash_duration"       "1.0"
      }
      "04"
      {
        "var_type"          "FIELD_INTEGER"
        "bash_radius"       "250"
      }
    }

    "Modifiers"
    {
      "modifier_imba_time_lock"
      {
        "Passive"         "1"
        "IsHidden"          "1"
        "IsBuff"          "1"
        "IsPurgable"        "0"

        "OnAttackLanded"
        {
          "RunScript"
          {
            "ScriptFile"    "hero/hero_faceless_void.lua"
            "Function"      "TimeLock"

            "sound_bash"    "Hero_FacelessVoid.TimeLockImpact"
            "particle_chrono" "particles/units/heroes/hero_faceless_void/faceless_void_chronosphere.vpcf"
          }
        }

        "OnCreated"
        {
          "RunScript"
          {
            "ScriptFile"    "internal/util.lua"
            "Function"      "IllusionPassiveRemover"

            "modifier"      "modifier_imba_time_lock"
          }
        }
      }
    }
  }

  //=================================================================================================================
  // Disruptor: Thunder Strike
  //=================================================================================================================
  "imba_disruptor_thunder_strike"
  {
    
    // General
    //-------------------------------------------------------------------------------------------------------------
    "BaseClass"                 "ability_datadriven"
    "AbilityBehavior"           "DOTA_ABILITY_BEHAVIOR_UNIT_TARGET | DOTA_ABILITY_BEHAVIOR_IGNORE_BACKSWING"
    "AbilityUnitTargetTeam"     "DOTA_UNIT_TARGET_TEAM_ENEMY |DOTA_UNIT_TARGET_BASIC"
    "AbilityUnitTargetType"     "DOTA_UNIT_TARGET_HERO"
    "AbilityUnitTargetFlags"    "DOTA_UNIT_TARGET_FLAG_NOT_CREEP_HERO"
    "SpellImmunityType"         "SPELL_IMMUNITY_ENEMIES_NO"
    "FightRecapLevel"           "1"
    "AbilityTextureName"        "disruptor_thunder_strike"

    // Casting
    //-------------------------------------------------------------------------------------------------------------
    "AbilityCastPoint"        "0.05 0.05 0.05 0.05"
    "AbilityDuration"       "6.0 6.0 6.0 6.0"

    // Time   
    //-------------------------------------------------------------------------------------------------------------
    "AbilityCooldown"       "20.0 15.0 10.0 5.0"

    // Cost
    //-------------------------------------------------------------------------------------------------------------
    "AbilityManaCost"       "80"
    
    // Cast Range
    //-------------------------------------------------------------------------------------------------------------
    "AbilityCastRange"        "600 700 800 900"

    // Damage.
    //-------------------------------------------------------------------------------------------------------------
    "AbilityDamage"         "40 60 80 100"

    // Precache
    //-------------------------------------------------------------------------------------------------------------
    "precache"
    {
      "soundfile"     "soundevents/game_sounds_heroes/game_sounds_disruptor.vsndevts"
      "particle"      "particles/units/heroes/hero_disruptor/disruptor_thunder_strike_bolt.vpcf"
      "particle"      "particles/units/heroes/hero_disruptor/disruptor_thunder_strike_buff_sphere.vpcf"
 
    }

    // Special
    //-------------------------------------------------------------------------------------------------------------
    "AbilitySpecial"
    {
      "01"
      {
        "var_type"          "FIELD_INTEGER"
        "radius"          "240 240 240 240"
      }
      "02"
      {
        "var_type"          "FIELD_INTEGER"
        "strikes"         "4 4 4 4"
      }
      "03"
      {
        "var_type"          "FIELD_FLOAT"
        "strike_interval"     "2.0 2.0 2.0 2.0"
      }
      "04"
      {
        "var_type"          "FIELD_FLOAT"
        "duration"          "6.0 6.0 6.0 6.0"
      }
    }

    "OnSpellStart"
    {
      "FireSound"
      {
        "EffectName"    "Hero_Disruptor.ThunderStrike.Target"
        "Target"        "TARGET"
      }

      "FireEffect"
      {
        "Target"  "TARGET"
        "EffectName"  "particles/units/heroes/hero_disruptor/disruptor_thunder_strike_bolt.vpcf"
        "EffectAttachType"  "follow_origin"
      }
    }
  } 

  //=================================================================================================================
  // Disruptor: Glimpse
  //=================================================================================================================
  "imba_disruptor_glimpse"
  {
    
    // General
    //-------------------------------------------------------------------------------------------------------------
    "BaseClass"                 "ability_datadriven"
    "AbilityBehavior"           "DOTA_ABILITY_BEHAVIOR_UNIT_TARGET"
    "AbilityUnitTargetTeam"     "DOTA_UNIT_TARGET_TEAM_ENEMY"
    "AbilityUnitTargetType"     "DOTA_UNIT_TARGET_HERO"
    "AbilityUnitTargetFlags"    "DOTA_UNIT_TARGET_FLAG_NOT_CREEP_HERO"
    "SpellImmunityType"         "SPELL_IMMUNITY_ENEMIES_NO"
    "FightRecapLevel"           "1"
    "AbilityTextureName"        "disruptor_glimpse"

    // Casting
    //-------------------------------------------------------------------------------------------------------------
    "AbilityCastPoint"        "0.05 0.05 0.05 0.05"

    // Time   
    //-------------------------------------------------------------------------------------------------------------
    "AbilityCooldown"       "60.0 46.0 32.0 18.0"

    // Cost
    //-------------------------------------------------------------------------------------------------------------
    "AbilityManaCost"       "100"
    
    // Cast Range
    //-------------------------------------------------------------------------------------------------------------
    "AbilityCastRange"        "1500 1600 1700 1800"

    // Precache
    //-------------------------------------------------------------------------------------------------------------
    "precache"
    {
      "soundfile"     "soundevents/game_sounds_heroes/game_sounds_disruptor.vsndevts"
      "particle"      "particles/units/heroes/hero_disruptor/disruptor_glimpse_targetstart.vpcf"
      "particle"      "particles/units/heroes/hero_disruptor/disruptor_glimpse_targetend.vpcf"
      "particle"      "particles/units/heroes/hero_disruptor/disruptor_glimpse_travel.vpcf"
      "particle"      "particles/decompiled_particles/units/heroes/hero_disruptor/disruptor_glimpse_travel.vpcf"
    }

    // Special
    //-------------------------------------------------------------------------------------------------------------
    "AbilitySpecial"
    {
      "01"
      {
        "var_type"          "FIELD_FLOAT"
        "backtrack_time"      "4.0 5.0 6.0 8.0"
      }
      "02"
      {
        "var_type"          "FIELD_INTEGER"
        "cast_range"        "1500 1600 1700 1800"
      }
    }

    "OnSpellStart"
    {
      "FireSound"
      {
        "EffectName"    "Hero_Disruptor.Glimpse.Target"
        "Target"        "CASTER"
      }

      "FireEffect"
      {
        "EffectName"     "particles/units/heroes/hero_disruptor/disruptor_glimpse_targetstart.vpcf"
        "EffectAttachType"   "follow_origin"
        "Target"       "TARGET"
      }

      "RunScript"
      {
        "particle_glimpse" "particles/units/heroes/hero_disruptor/disruptor_glimpse_travel.vpcf"
        "ScriptFile"      "hero/hero_disruptor.lua"
        "Function"        "Glimpse_projectile"
        "target"       "TARGET"
      }

      "DelayedAction"
      {
        "Delay"           "%backtrack_time"
        "Action"
        {
          "RunScript"
          {
            "ScriptFile"      "hero/hero_disruptor.lua"
            "Function"        "Glimpse"
            "target"          "TARGET"
          }
        }
      }
    }
  }



  //=================================================================================================================
  // Disruptor: Kinetic Field
  //=================================================================================================================
  "imba_disruptor_kinetic_field"
  {

    // General
    //-------------------------------------------------------------------------------------------------------------
    "BaseClass"                 "ability_datadriven"
    "AbilityBehavior"           "DOTA_ABILITY_BEHAVIOR_POINT | DOTA_ABILITY_BEHAVIOR_AOE| DOTA_ABILITY_BEHAVIOR_IGNORE_BACKSWING"
    "SpellImmunityType"         "SPELL_IMMUNITY_ENEMIES_NO"
    "FightRecapLevel"           "1"
    "AbilityTextureName"        "disruptor_kinetic_field"

    // Casting
    //-------------------------------------------------------------------------------------------------------------
    "AbilityCastPoint"          "0.55 0.55 0.55 0.55"

    // Time   
    //-------------------------------------------------------------------------------------------------------------
    "AbilityCooldown"           "10.0 10.0 10.0 10.0"

    // Cost
    //-------------------------------------------------------------------------------------------------------------
    "AbilityManaCost"           "75"
    
    // Cast Range
    //-------------------------------------------------------------------------------------------------------------
    "AbilityCastRange"          "1000 1100 1200 1400"

    // AOE radius (just for tooltip)
    //-------------------------------------------------------------------------------------------------------------
    "AoERadius"                 "300"

    // Precache
    //-------------------------------------------------------------------------------------------------------------
    "precache"
    {
      "soundfile"         "soundevents/game_sounds_heroes/game_sounds_disruptor.vsndevts"
      "particle"          "particles/units/heroes/hero_disruptor/disruptor_kineticfield.vpcf"
      "particle"          "particles/units/heroes/hero_disruptor/disruptor_kineticfield_formation.vpcf"
      "particle"          "particles/units/heroes/hero_disruptor/disruptor_kineticfield_formation_markers.vpcf"
    }

    // Special
    //-------------------------------------------------------------------------------------------------------------
    "AbilitySpecial"
    {
      "01"
      {
        "var_type"          "FIELD_INTEGER"
        "radius"            "300"
      }
      "02"
      {
        "var_type"          "FIELD_FLOAT"
        "formation_time"      "1.0 0.8 0.6 0.4"
      }
      "03"
      {
        "var_type"          "FIELD_FLOAT"
        "duration"          "10.0 11.0 12.0 13.0"
      }
      "04"
      {
        "var_type"                    "FIELD_INTEGER"
        "radius_outer_ring"            "600"
      }
    }

    "OnSpellStart"
    {   
      "FireSound"
      {
        "EffectName"  "Hero_Disruptor.KineticField"
        "Target"      "POINT"
      }

      "RunScript"
      {
        "ScriptFile"      "hero/hero_disruptor.lua"
        "modifier_enemy"  "modifier_imba_kineticfield_enemy"
        "Function"        "KineticField"
        "Target"          "POINT"        
      }
    }

    "Modifiers"
    {
      "modifier_imba_kineticfield_enemy"
      {
        "Passive"         "0"
        "IsHidden"        "0"

        "StatusEffectName"    "particles/status_fx/status_effect_disruptor_kinetic_fieldslow.vpcf"
        "StatusEffectPriority"  "1"

        "OnDestroy"
        {
          "FireSound"
          {
            "EffectName"  "Hero_Disruptor.KineticField.End"
            "Target"      "POINT"
          }
        }

        "States"
        {
          "MODIFIER_STATE_FROZEN"       "MODIFIER_STATE_VALUE_ENABLED"
          "MODIFIER_STATE_PROVIDES_VISION"  "MODIFIER_STATE_VALUE_ENABLED"
          "MODIFIER_STATE_ROOTED" "MODIFIER_STATE_VALUE_ENABLED"
        }
      }
    }
  }

  //=================================================================================================================
  // Disruptor: Static Storm
  //=================================================================================================================
  "imba_disruptor_static_storm"
  {

    // General
    //-------------------------------------------------------------------------------------------------------------
    "BaseClass"                 "ability_datadriven"
    "AbilityBehavior"           "DOTA_ABILITY_BEHAVIOR_POINT | DOTA_ABILITY_BEHAVIOR_AOE"
    "AbilityType"               "DOTA_ABILITY_TYPE_ULTIMATE"
    "SpellImmunityType"         "SPELL_IMMUNITY_ENEMIES_NO"
    "FightRecapLevel"           "1"
    "AbilityTextureName"        "disruptor_static_storm"

    // Casting
    //-------------------------------------------------------------------------------------------------------------
    "AbilityCastPoint"        "0.55 0.55 0.55 0.55"

    // Time   
    //-------------------------------------------------------------------------------------------------------------
    "AbilityCooldown"       "10.0 10.0 10.0 10.0"

    // Cost
    //-------------------------------------------------------------------------------------------------------------
    "AbilityManaCost"       "150"
    
    // Cast Range
    //-------------------------------------------------------------------------------------------------------------
    "AbilityCastRange"        "800 900 1000 1100"

    // AOE radius (just for tooltip)
    //-------------------------------------------------------------------------------------------------------------
    "AoERadius"               "800"


    // Precache
    //-------------------------------------------------------------------------------------------------------------
    "precache"
    {
      "soundfile"         "soundevents/game_sounds_heroes/game_sounds_disruptor.vsndevts"
      "particle"          "particles/units/heroes/hero_disruptor/disruptor_static_storm.vpcf"
    }

    // Special
    //-------------------------------------------------------------------------------------------------------------
    "AbilitySpecial"
    {
      "01"
      {
        "var_type"          "FIELD_INTEGER"
        "radius"            "800"
      }
      "02"
      {
        "var_type"          "FIELD_INTEGER"
        "pulses"            "20"
      }
      "03"
      {
        "var_type"          "FIELD_INTEGER"
        "damage_max"        "200 280 360"
      }
      "04"
      {
        "var_type"          "FIELD_FLOAT"
        "duration"          "20"
      }
      "05"
      {
        "var_type"          "FIELD_FLOAT"
        "duration_scepter"  "30.0"
      }
      "06"
      {
        "var_type"          "FIELD_INTEGER"
        "pulses_scepter"    "28"
      }
    }

    "OnAbilityPhaseStart"
    {
      "FireSound"
      {
        "EffectName"  "Hero_Disruptor.StaticStorm.Cast"
        "Target"      "CASTER"
      }
    }

    "OnSpellStart"
    {
      "FireSound"
      {
        "EffectName"  "Hero_Disruptor.StaticStorm"
        "Target"      "CASTER"
      }

      "RunScript"
      {
        "ScriptFile"      "hero/hero_disruptor.lua"
        "modifier_enemy"  "modifier_imba_staticstorm_enemy"
        "Function"        "StaticStorm"
        "target"          "POINT"        
      }
    }

    "Modifiers"
    {
      "modifier_imba_staticstorm_enemy"
      {
        "Passive"         "0"
        "IsHidden"        "0"
        "IsDebuff"        "1"

        "States"
        {
          "MODIFIER_STATE_MUTED"            "MODIFIER_STATE_VALUE_ENABLED"
          "MODIFIER_STATE_SILENCED"         "MODIFIER_STATE_VALUE_ENABLED"
          "MODIFIER_STATE_PROVIDES_VISION"  "MODIFIER_STATE_VALUE_ENABLED"    
        }
      }
    }
  }

 //=================================================================================================================
 // Ancient Apparition : chilling touch
 //=================================================================================================================

  "imba_ancient_apparition_chilling_touch"
  {
    // General
    //-------------------------------------------------------------------------------------------------------------
    "BaseClass"                   "ability_datadriven"
    "AbilityBehavior"             "DOTA_ABILITY_BEHAVIOR_AOE | DOTA_ABILITY_BEHAVIOR_POINT | DOTA_ABILITY_BEHAVIOR_IGNORE_BACKSWING"
    "AbilityUnitDamageType"       "DAMAGE_TYPE_MAGICAL"
    "SpellImmunityType"           "SPELL_IMMUNITY_ENEMIES_YES"
    "AbilityTextureName"          "ancient_apparition_chilling_touch"
    "AOERadius"                   "%radius"

    // Precache
    //-------------------------------------------------------------------------------------------------------------
    "precache"
    {
      "soundfile"     "soundevents/game_sounds_heroes/game_sounds_ancient_apparition.vsndevts"
      "particle"      "particles/units/heroes/hero_ancient_apparition/ancient_apparition_chilling_touch.vpcf"
      "particle"      "particles/units/heroes/hero_ancient_apparition/ancient_apparition_chilling_touch_buff.vpcf"  
    }

    // Casting
    //-------------------------------------------------------------------------------------------------------------
    "AbilityCastRange"        "1000 1000 1000 1000"
    "AbilityCastPoint"        "0.01 0.01 0.01 0.01"

    // Time   
    //-------------------------------------------------------------------------------------------------------------
    "AbilityCooldown"       "50.0 42.0 34.0 26.0"
    "AbilityDuration"       "30.0"

    // Cost
    //-------------------------------------------------------------------------------------------------------------
    "AbilityManaCost"       "130 150 170 190"

    // Special
    //-------------------------------------------------------------------------------------------------------------
    "AbilitySpecial"
    {
      "01"
      {
        "var_type"        "FIELD_INTEGER"
        "radius"          "1500"
      }
      "02"
      {
        "var_type"        "FIELD_INTEGER"
        "max_attacks"     "5 6 7 8"
      }
      "03"
      {
        "var_type"        "FIELD_INTEGER"
        "bonus_damage"      "100 120 130 140"
      }
      "04"
      {
        "var_type"        "FIELD_FLOAT"
        "attack_speed_pct"    "-10"
      }
      // Extra
      "05"
      {
        "var_type"        "FIELD_FLOAT"
        "duration"        "30.0"
      }
    }

    "OnSpellStart"
    {
      "FireSound"
      {
        "EffectName"  "Hero_Ancient_Apparition.ChillingTouchCast" 
        "Target"    "CASTER"
      }

      "FireEffect"
      {
        "EffectName"        "particles/units/heroes/hero_ancient_apparition/ancient_apparition_chilling_touch.vpcf"
        "EffectAttachType"  "start_at_customorigin"
        "TargetPoint"       "POINT"

        "ControlPoints"
        {
          "01"  "%radius 0 0"
        }
      }

      "ActOnTargets"
      {
        "Target"
        {
          "Center"  "POINT"
          "Radius"  "%radius"
          "Teams"   "DOTA_UNIT_TARGET_TEAM_FRIENDLY"
          "Types"   "DOTA_UNIT_TARGET_HERO"
        }
    
        "Action"    
        {
          "RemoveModifier"
          {
            "ModifierName"  "modifier_chilling_touch_stack_datadriven"
            "Target"    "TARGET"
          }

          "ApplyModifier"
          {
            "ModifierName"  "modifier_chilling_touch_stack_datadriven"
            "Target"    "TARGET"
            "Duration"    "%duration"
          }
        } 
      }

      "RemoveModifier"
      {
        "ModifierName"  "modifier_chilling_touch_stack_datadriven"
        "Target"    "CASTER"
      }

      "ApplyModifier"
      {
        "ModifierName"  "modifier_chilling_touch_stack_datadriven"
        "Target"    "CASTER"
        "Duration"    "%duration"
      }
    }

    "Modifiers"
    {
      "modifier_chilling_touch_stack_datadriven"
      {
        "IsBuff"      "1"
  
        "EffectName"    "particles/units/heroes/hero_ancient_apparition/ancient_apparition_chilling_touch_buff.vpcf"
        "EffectAttachType"  "attach_attack1"
  
        "OnCreated"
        {
          "RunScript"
          {
            "ScriptFile"  "hero/hero_ancient_apparition.lua"
            "Function"    "ChillingTouchInitialize"
            "modifier_stack"  "modifier_chilling_touch_stack_datadriven"
          }

          "ApplyModifier"
          {
            "ModifierName"  "modifier_chilling_touch_attack_speed_datadriven"
            "Target"    "TARGET"
          }
        }

        "OnDestroy"
        {
          "RemoveModifier"
          {
            "ModifierName"  "modifier_chilling_touch_attack_speed_datadriven"
            "Target"    "TARGET"
          }
        }

        "OnAttackLanded"
        {
          "RunScript"
          {
            "ScriptFile"  "hero/hero_ancient_apparition.lua"
            "Function"    "ChillingTouchDecrement"
            "modifier_stack"  "modifier_chilling_touch_stack_datadriven"
          }

          "Damage"
          {
            "Target"    "TARGET"
            "Type"      "DAMAGE_TYPE_MAGICAL"
            "Damage"    "%bonus_damage"
          }
        }     
      }

      "modifier_chilling_touch_attack_speed_datadriven"
      {
        "IsHidden"    "1"

        "Properties"
        {
          "MODIFIER_PROPERTY_ATTACKSPEED_BONUS_CONSTANT" "%attack_speed_pct"
        }
      }
    }
  }


 //=================================================================================================================
 // Ancient Apparition : cold feet
 //=================================================================================================================
  "imba_ancient_apparition_cold_feet"
{
  // General
  //-------------------------------------------------------------------------------------------------------------
  "BaseClass"                   "ability_datadriven"
  "AbilityBehavior"             "DOTA_ABILITY_BEHAVIOR_UNIT_TARGET | DOTA_ABILITY_BEHAVIOR_IGNORE_BACKSWING"
  "AbilityUnitTargetTeam"       "DOTA_UNIT_TARGET_TEAM_ENEMY"
  "AbilityUnitTargetType"       "DOTA_UNIT_TARGET_HERO | DOTA_UNIT_TARGET_BASIC"
  "AbilityUnitDamageType"       "DAMAGE_TYPE_MAGICAL"
  "SpellImmunityType"           "SPELL_IMMUNITY_ENEMIES_NO"
  "FightRecapLevel"             "1"
  "AbilityTextureName"          "ancient_apparition_cold_feet"

  // Precache
  //-------------------------------------------------------------------------------------------------------------
  "precache"
  {
    "soundfile"     "soundevents/game_sounds_heroes/game_sounds_ancient_apparition.vsndevts"
    "particle"      "particles/units/heroes/hero_ancient_apparition/ancient_apparition_cold_feet.vpcf"
    "particle"      "particles/units/heroes/hero_ancient_apparition/ancient_apparition_cold_feet_frozen.vpcf"
    "particle"      "particles/units/heroes/hero_ancient_apparition/ancient_apparition_cold_feet_marker.vpcf"
    "particle"      "particles/generic_gameplay/generic_stunned.vpcf" 
  }
  
  // Casting
  //-------------------------------------------------------------------------------------------------------------
  "AbilityCastRange"        "900 1000 1100 1200"
  "AbilityCastPoint"        "0.01 0.01 0.01 0.01"

  // Time   
  //-------------------------------------------------------------------------------------------------------------
  "AbilityCooldown"       "15.0 13.0 11.0 9.0"
  "AbilityDuration"       "4.0 4.0 4.0 4.0"

  // Cost
  //-------------------------------------------------------------------------------------------------------------
  "AbilityManaCost"       "150 150 150 150"

  // Special
  //-------------------------------------------------------------------------------------------------------------
  "AbilitySpecial"
  {
    "01"
    {
      "var_type"        "FIELD_FLOAT"
      "damage"          "60 75 90 102"
    }
    "02"
    {
      "var_type"        "FIELD_INTEGER"
      "break_distance"    "250 250 250 250"
    }
    "03"
    {
      "var_type"        "FIELD_FLOAT"
      "stun_duration"     "1.25 2.0 2.75 3.5"
    }
    // Extra
    "04"
    {
      "var_type"        "FIELD_FLOAT"
      "damage_interval"   "0.8"
    }
    "05"
    {
      "var_type"        "FIELD_FLOAT"
      "leash_interval"    "0.1"
    }
    "06"
    {
      "var_type"        "FIELD_FLOAT"
      "duration"        "2.0"
    }
  }

  "OnSpellStart"
  {
    "FireSound"
    {
      "EffectName"  "Hero_Ancient_Apparition.ColdFeetCast"
      "Target"      "TARGET"
    }

    "ApplyModifier"
    {
      "ModifierName"  "modifier_cold_feet_debuff_datadriven"
      "Target"        "TARGET"
      "Duration"      "%duration"
    }

    "RunScript"
    {
      "ScriptFile"  "hero/hero_ancient_apparition.lua"
      "Function"    "ColdFeetInitializeCaster"
    }

    "CreateThinker"
    {
      "ModifierName"  "modifier_cold_feet_thinker_datadriven"
      "Target"        "TARGET"
    }
  }

  "Modifiers"
  {
    "modifier_cold_feet_thinker_datadriven"
    {
      "Duration"      "%duration"
  
      "EffectName"    "particles/units/heroes/hero_ancient_apparition/ancient_apparition_cold_feet_marker.vpcf"
      "EffectAttachType"  "follow_origin"

      "OnCreated"
      {
        "RunScript"
        {
          "ScriptFile"  "hero/hero_ancient_apparition.lua"
          "Function"    "ColdFeetInitializeThinker"
        }
      }

      "ThinkInterval"  "%leash_interval"
      "OnIntervalThink"
      {
        "RunScript"
        {
          "ScriptFile"  "hero/hero_ancient_apparition.lua"
          "Function"    "ColdFeetLeashCheck"
          "modifier"    "modifier_cold_feet_debuff_datadriven"
        }
      }
    }

    "modifier_cold_feet_damage_datadriven"
    {
      "IsHidden"    "1"

      "ThinkInterval"  "%damage_interval"
      "OnIntervalThink"
      {
        "FireSound"
        {
          "EffectName"  "Hero_Ancient_Apparition.ColdFeetTick"
          "Target"      "TARGET"
        }
        "Damage"
        {
          "Target"    "TARGET"
          "Type"      "DAMAGE_TYPE_MAGICAL"
          "Damage"    "%damage"
        }
      }
    }

    "modifier_cold_feet_debuff_datadriven"
    {
      "IsDebuff"    "1"

      "EffectName"  "particles/units/heroes/hero_ancient_apparition/ancient_apparition_cold_feet.vpcf"
      "EffectAttachType"  "follow_overhead"

      "OnCreated"
      {
        "ApplyModifier"
        {
          "ModifierName"  "modifier_cold_feet_damage_datadriven"
          "Target"    "TARGET"
          "Duration"    "%duration"
        }
      }

      "OnDestroy"
      {
        "RemoveModifier"
        {
          "ModifierName"  "modifier_cold_feet_damage_datadriven"
          "Target"    "TARGET"
        }
      }

      "ThinkInterval"  "%duration"
      "OnIntervalThink"
      {
        "ApplyModifier"
        {
          "ModifierName"  "modifier_cold_feet_stun_datadriven"
          "Target"    "TARGET"
          "Duration"    "%stun_duration"
        }
      }
    }

    "modifier_cold_feet_stun_datadriven"
    {
      "IsDebuff"    "1"
      "IsPurgable"  "0"

      "EffectName"  "particles/units/heroes/hero_ancient_apparition/ancient_apparition_cold_feet_frozen.vpcf"
      "EffectAttachType"  "follow_origin"

      "OnCreated"
      {
        "FireSound"
        {
          "EffectName"  "Hero_Ancient_Apparition.ColdFeetFreeze"
          "Target"    "TARGET"
        }

        "AttachEffect"
        {
          "EffectName"        "particles/generic_gameplay/generic_stunned.vpcf"
          "EffectAttachType"  "follow_overhead"
          "Target"            "TARGET"
        }
      }

      "States"
      {
        "MODIFIER_STATE_STUNNED"    "MODIFIER_STATE_VALUE_ENABLED"
        "MODIFIER_STATE_FROZEN"     "MODIFIER_STATE_VALUE_ENABLED"
      }
    }
  }
}


 //=================================================================================================================
 // Ancient Apparition : ice vortex
 //=================================================================================================================
"imba_ancient_apparition_ice_vortex"
{
  // General
  //-------------------------------------------------------------------------------------------------------------
  "BaseClass"               "ability_datadriven"
  "AbilityBehavior"         "DOTA_ABILITY_BEHAVIOR_AOE | DOTA_ABILITY_BEHAVIOR_POINT | DOTA_ABILITY_BEHAVIOR_IGNORE_BACKSWING"
  "SpellImmunityType"       "SPELL_IMMUNITY_ENEMIES_NO"
  "AbilityTextureName"      "ancient_apparition_ice_vortex"
  "AOERadius"               "%radius"

  // Precache
  //-------------------------------------------------------------------------------------------------------------
  "precache"
  {
    "soundfile"     "soundevents/game_sounds_heroes/game_sounds_ancient_apparition.vsndevts"
    "particle"      "particles/units/heroes/hero_ancient_apparition/ancient_ice_vortex.vpcf"
    "particle"      "particles/status_fx/status_effect_frost_armor.vpcf"    
  }
  
  // Casting
  //-------------------------------------------------------------------------------------------------------------
  "AbilityCastRange"        "3000 3000 3000 3000"
  "AbilityCastPoint"        "0.01 0.01 0.01 0.01"

  // Time   
  //-------------------------------------------------------------------------------------------------------------
  "AbilityCooldown"       "4.0"
  "AbilityDuration"       "16"

  // Cost
  //-------------------------------------------------------------------------------------------------------------
  "AbilityManaCost"       "80 90 100 110"

  // Special
  //-------------------------------------------------------------------------------------------------------------
  "AbilitySpecial"
  {
    "01"
    {
      "var_type"        "FIELD_INTEGER"
      "radius"        "1000 1250 1500 1750"
    }
    "02"
    {
      "var_type"        "FIELD_INTEGER"
      "movement_speed_pct"  "-15 -20 -25 -30"
    }
    "03"
    {
      "var_type"        "FIELD_INTEGER"
      "spell_resist_pct"    "-15 -20 -25 -30"
    }
    "04"
    {
      "var_type"        "FIELD_INTEGER"
      "vision_aoe"    "800 1000 1200 1400"
    }
    // Extra
    "05"
    {
      "var_type"        "FIELD_FLOAT"
      "duration"        "16"
    }
  }

  "OnSpellStart"
  { 
    "FireSound"
    {
      "EffectName"  "Hero_Ancient_Apparition.IceVortexCast"
      "Target"    "CASTER"
    }

    "CreateThinker"
    {
      "ModifierName"  "modifier_ice_vortex_thinker_datadriven"
      "Target"    "POINT"
    }

    "RunScript"
    {
      "ScriptFile"  "hero/hero_ancient_apparition.lua"
      "Function"    "IceVortexVision"
      "Target"    "POINT"
    }
  }

  "Modifiers"
  {
    "modifier_ice_vortex_thinker_datadriven"
    {
      "Duration"      "%duration"

      "Aura"          "modifier_ice_vortex_datadriven"
      "Aura_Radius"     "%radius"
      "Aura_Teams"      "DOTA_UNIT_TARGET_TEAM_ENEMY"
      "Aura_Types"      "DOTA_UNIT_TARGET_HERO | DOTA_UNIT_TARGET_BASIC | DOTA_UNIT_TARGET_MECHANICAL"

      "OnCreated"
      {
        "FireSound"
        {
          "EffectName"  "Hero_Ancient_Apparition.IceVortex"
          "Target"    "TARGET"
        }

        "AttachEffect"
        {
          "EffectName"        "particles/units/heroes/hero_ancient_apparition/ancient_ice_vortex.vpcf"
          "EffectAttachType"  "follow_overhead"
          "Target"            "TARGET"

          "ControlPoints"
          {
            "01"  "%radius 0 0"
            "05"  "%radius 0 0"
          }
        }
      }

      "OnDestroy"
      {
        "RunScript"
        {
          "ScriptFile"  "hero/hero_ancient_apparition.lua"
          "Function"    "IceVortexStopSound"
          "sound"     "Hero_Ancient_Apparition.IceVortex"
        }
      }
    }

    "modifier_ice_vortex_datadriven"
    {
      "IsDebuff"    "1"

      "StatusEffectName"    "particles/status_fx/status_effect_frost_armor.vpcf"     
      "StatusEffectPriority"  "10"

      "Properties"
      {
        "MODIFIER_PROPERTY_MAGICAL_RESISTANCE_BONUS"  "%spell_resist_pct"
          "MODIFIER_PROPERTY_MOVESPEED_BONUS_PERCENTAGE"  "%movement_speed_pct" 
      }
    }
  }
}


 //=================================================================================================================
 // Ancient Apparition : ice blast
 //=================================================================================================================
"imba_ancient_apparition_ice_blast"
{
  // General
  //-------------------------------------------------------------------------------------------------------------
  "BaseClass"               "ability_datadriven"
  "AbilityBehavior"         "DOTA_ABILITY_BEHAVIOR_POINT | DOTA_ABILITY_BEHAVIOR_AOE"
  "AbilityType"             "DOTA_ABILITY_TYPE_ULTIMATE"
  "AbilityUnitDamageType"   "DAMAGE_TYPE_MAGICAL"
  "SpellImmunityType"       "SPELL_IMMUNITY_ENEMIES_YES"
  "FightRecapLevel"         "2"
  "AbilityTextureName"      "ancient_apparition_ice_blast"

  // Precache
  //-------------------------------------------------------------------------------------------------------------
  "precache"
  {
    "soundfile"     "soundevents/game_sounds_heroes/game_sounds_ancient_apparition.vsndevts"
    "particle"      "particles/units/heroes/hero_ancient_apparition/ancient_apparition_ice_blast_initial.vpcf"  // Start projectile
    "particle"      "particles/units/heroes/hero_ancient_apparition/ancient_apparition_ice_blast_final.vpcf"  // End projectile
    "particle"      "particles/units/heroes/hero_ancient_apparition/ancient_apparition_ice_blast_explode.vpcf"
    "particle"      "particles/units/heroes/hero_ancient_apparition/ancient_apparition_ice_blast_debuff.vpcf"
    "particle"      "particles/units/heroes/hero_ancient_apparition/ancient_apparition_ice_blast_death.vpcf"
    "particle"      "particles/units/heroes/hero_ancient_apparition/ancient_apparition_ice_blast_sphere_b.vpcf"
    "particle"      "particles/units/heroes/hero_ancient_apparition/ancient_apparition_ice_blast_initial_grid.vpcf"
    "particle"      "particles/units/heroes/hero_ancient_apparition/ancient_apparition_ice_blast_main.vpcf"
    "particle"      "particles/units/heroes/hero_ancient_apparition/ancient_apparition_ice_blast_marker.vpcf"
    "particle"      "particles/status_fx/status_effect_iceblast_half.vpcf"
    "particle"      "particles/status_fx/status_effect_iceblast.vpcf"
  }

  // Casting
  //-------------------------------------------------------------------------------------------------------------
  "AbilityCastPoint"        "0.01 0.01 0.01"
  "AbilityCastRange"        "0"
  
  // Time   
  //-------------------------------------------------------------------------------------------------------------
  "AbilityCooldown"       "40.0"
  
  // Cost
  //-------------------------------------------------------------------------------------------------------------
  "AbilityManaCost"       "100 125 150"
  
  // Damage.
  //-------------------------------------------------------------------------------------------------------------
  "AbilityDamage"         "250 350 450"
  
  // Special
  //-------------------------------------------------------------------------------------------------------------
  "AbilitySpecial"
  {
    "01"
    {
      "var_type"        "FIELD_INTEGER"
      "radius_min"      "750 750 750"
    }
    "02"
    {
      "var_type"        "FIELD_FLOAT"
      "radius_grow"     "50.0 50.0 50.0"
    }
    "03"
    {
      "var_type"        "FIELD_INTEGER"
      "radius_max"      "1400 1400 1400"
    }
    "04"
    {
      "var_type"        "FIELD_INTEGER"
      "path_radius"     "275 275 275"
    }
    "05"
    { 
      "var_type"        "FIELD_FLOAT"
      "frostbite_duration"  "8.0 9.0 10.0"
    }
    "06"
    { 
      "var_type"        "FIELD_FLOAT"
      "dot_damage"      "12.5 20.0 32.0"
    }
    "07"
    { 
      "var_type"        "FIELD_INTEGER"
      "speed"         "1500 1500 1500 1500"
    }
    "08"
    { 
      "var_type"        "FIELD_FLOAT"
      "kill_pct"        "10.0 11.0 12.0"
    }
    "09"
    {
      "var_type"        "FIELD_INTEGER"
      "target_sight_radius" "500 500 500"
    }
    "10"
    { 
      "var_type"        "FIELD_FLOAT"
      "frostbite_duration_scepter"  "17"
    }
    // Extra
    "11"
    {
      "var_type"        "FIELD_FLOAT"
      "min_time"        "2"
    }
    "12"
    {
      "var_type"        "FIELD_FLOAT"
      "base_speed"      "750" // This is the actual projectile, not the tracer
    }
    "13"
    {
      "var_type"        "FIELD_FLOAT"
      "travel_vision"     "500"
    }
    "14"
    {
      "var_type"        "FIELD_FLOAT"
      "travel_vision_duration"  "3.0"
    }
    "15"
    {
      "var_type"        "FIELD_FLOAT"
      "area_vision"     "650"
    }
    "16"
    {
      "var_type"        "FIELD_FLOAT"
      "area_vision_duration"  "4.0"
    }
    "17"
    {
      "var_type"        "FIELD_FLOAT"
      "think_interval"    "1.0"
    }
  }

  "OnSpellStart"
  {
    "FireSound"
    {
      "EffectName"  "Hero_Ancient_Apparition.IceBlast.Tracker" 
      "Target"      "CASTER"
    }

    "RunScript"
    {
      "ScriptFile"             "hero/hero_ancient_apparition.lua"
      "Function"               "ice_blast_launch"
      "Target"                 "POINT"
      "projectile_particle"    "particles/units/heroes/hero_ancient_apparition/ancient_apparition_ice_blast_initial.vpcf"
      "tracer_modifier"        "modifier_dummy_tracer"
      "tracer_sphere"          "particles/units/heroes/hero_ancient_apparition/ancient_apparition_ice_blast_sphere_b.vpcf"
      "tracer_grid"            "particles/units/heroes/hero_ancient_apparition/ancient_apparition_ice_blast_initial_grid.vpcf"
      "final_particle"         "particles/units/heroes/hero_ancient_apparition/ancient_apparition_ice_blast_final.vpcf"
      "main_ability_name"      "imba_ancient_apparition_ice_blast"
      "sub_ability_name"       "imba_ancient_apparition_ice_blast_release"
    }
  }

  "OnUpgrade"
  {
    "LevelUpAbility"
    {
      "Target"      "CASTER"
      "AbilityName" "imba_ancient_apparition_ice_blast_release"
    }
  }

  "OnProjectileHitUnit"
  {
    "DeleteOnHit" "0"
    
    "ApplyModifier"
    {
      "ModifierName"  "modifier_ice_blast_debuff_datadriven"
      "Target"
      {
        "Center"  "TARGET"
        "Types"   "DOTA_UNIT_TARGET_HERO"
      }
      "Duration"    "%frostbite_duration"
    }
  }

  "OnProjectileFinish"
  {   
    "RunScript"
    {
      "ScriptFile"  "hero/hero_ancient_apparition.lua"
      "Function"    "ice_blast_explode"
      "modifier"    "modifier_ice_blast_debuff_datadriven"
      "sound"       "Hero_Ancient_Apparition.IceBlast.Target"
      "explosion_particle"  "particles/units/heroes/hero_ancient_apparition/ancient_apparition_ice_blast_explode.vpcf"
    }
  }

  "Modifiers"
  {
    "modifier_dummy_tracer"
    {
      "OnCreated"
      {
        "AttachEffect"
        {
          "EffectName"        "particles/units/heroes/hero_ancient_apparition/ancient_apparition_ice_blast_initial_grid.vpcf"
          "EffectAttachType"  "follow_origin"
          "Target"            "TARGET"

          "ControlPointEntities"
          {
            "TARGET"  "follow_origin"
            "TARGET"  "follow_origin"
            "TARGET"  "follow_origin"
            "TARGET"  "follow_origin"
          }
        }

        "AttachEffect"
        {
          "EffectName"        "particles/units/heroes/hero_ancient_apparition/ancient_apparition_ice_blast_sphere_b.vpcf"
          "EffectAttachType"  "follow_origin"
          "Target"            "TARGET"

          "ControlPointEntities"
          {
            "TARGET"  "follow_origin"
            "TARGET"  "follow_origin"
            "TARGET"  "follow_origin"
            "TARGET"  "follow_origin"
          }
        }
      }

      "States"
      {
        "MODIFIER_STATE_FLYING"         "MODIFIER_STATE_VALUE_ENABLED"
        "MODIFIER_STATE_NO_HEALTH_BAR"      "MODIFIER_STATE_VALUE_ENABLED"
        "MODIFIER_STATE_INVISIBLE"        "MODIFIER_STATE_VALUE_ENABLED"
        "MODIFIER_STATE_NO_UNIT_COLLISION"    "MODIFIER_STATE_VALUE_ENABLED"
        "MODIFIER_STATE_UNSELECTABLE"     "MODIFIER_STATE_VALUE_ENABLED"
        "MODIFIER_STATE_INVULNERABLE"     "MODIFIER_STATE_VALUE_ENABLED"
      }

      "Properties"
      {
        "MODIFIER_PROPERTY_BONUS_DAY_VISION"  "%target_sight_radius"
        "MODIFIER_PROPERTY_BONUS_NIGHT_VISION"  "%target_sight_radius" 
      }
    }

    "modifier_ice_blast_debuff_datadriven"
    {
      "IsDebuff"    "1"
      "IsPurgable"  "0"

      "StatusEffectName"    "particles/status_fx/status_effect_iceblast.vpcf"      
      "StatusEffectPriority"  "10"

      "ThinkInterval"  "%think_interval"
      "OnIntervalThink"
      {
        "FireSound"
        {
          "EffectName"  "Hero_Ancient_Apparition.IceBlastRelease.Tick"
          "Target"    "TARGET"
        }

        "Damage"
        {
          "Target"    "TARGET"
          "Type"      "DAMAGE_TYPE_MAGICAL"
          "Damage"    "%dot_damage"
        }
      }

      "OnTakeDamage"
      {
        "RunScript"
        {
          "ScriptFile"  "hero/hero_ancient_apparition.lua"
          "Function"    "ice_blast_frostbite"
        }
      }

      "OnDeath"
      {
        "FireEffect"
        {
          "EffectName"        "particles/units/heroes/hero_ancient_apparition/ancient_apparition_ice_blast_death.vpcf"
          "EffectAttachType"  "follow_origin"
          "Target"            "UNIT"
        }
      }

      "Properties"
      {
        "MODIFIER_PROPERTY_DISABLE_HEALING" "1" 
      }
    }
  }
}


 //=================================================================================================================
 // Ancient Apparition : ice blast release
 //=================================================================================================================
"imba_ancient_apparition_ice_blast_release"
{
  // General
  //-------------------------------------------------------------------------------------------------------------
  "BaseClass"              "ability_datadriven"
  "AbilityBehavior"        "DOTA_ABILITY_BEHAVIOR_HIDDEN | DOTA_ABILITY_BEHAVIOR_NO_TARGET"
  "AbilityType"            "DOTA_ABILITY_TYPE_ULTIMATE"
  "MaxLevel"               "1"
  "AbilityTextureName"     "ancient_apparition_ice_blast_release"
  
  // Casting
  //-------------------------------------------------------------------------------------------------------------
  "AbilityCastPoint"        "0 0 0"

  // Time   
  //-------------------------------------------------------------------------------------------------------------
  "AbilityCooldown"         "1.0 1.0 1.0"

  // Precache
  //-------------------------------------------------------------------------------------------------------------
  "precache"
  {
    "soundfile"     "soundevents/game_sounds_heroes/game_sounds_ancient_apparition.vsndevts"
    "particle"      "particles/units/heroes/hero_ancient_apparition/ancient_apparition_ice_blast_initial.vpcf"  // Start projectile
    "particle"      "particles/units/heroes/hero_ancient_apparition/ancient_apparition_ice_blast_final.vpcf"  // End projectile
    "particle"      "particles/units/heroes/hero_ancient_apparition/ancient_apparition_ice_blast_explode.vpcf"
    "particle"      "particles/units/heroes/hero_ancient_apparition/ancient_apparition_ice_blast_debuff.vpcf"
    "particle"      "particles/units/heroes/hero_ancient_apparition/ancient_apparition_ice_blast_death.vpcf"
    "particle"      "particles/units/heroes/hero_ancient_apparition/ancient_apparition_ice_blast_sphere_b.vpcf"
    "particle"      "particles/units/heroes/hero_ancient_apparition/ancient_apparition_ice_blast_initial_grid.vpcf"
    "particle"      "particles/units/heroes/hero_ancient_apparition/ancient_apparition_ice_blast_main.vpcf"
    "particle"      "particles/units/heroes/hero_ancient_apparition/ancient_apparition_ice_blast_marker.vpcf"
    "particle"      "particles/status_fx/status_effect_iceblast_half.vpcf"
    "particle"      "particles/status_fx/status_effect_iceblast.vpcf"
  }

  "OnSpellStart"
  {
    "FireSound"
    {
      "EffectName"  "Hero_Ancient_Apparition.IceBlastRelease.Cast"
      "Target"      "CASTER"
    }
    
    "RunScript"
    {
      "ScriptFile"  "hero/hero_ancient_apparition.lua"
      "Function"    "ice_blast_release"
    }
  }

  "Modifiers"
  {
    "modifier_ice_blast_release_datadriven"
    {
      "Passive"       "1"
      "IsHidden"      "1"

      "OnDeath"
      {
        "RunScript"
        {
          "ScriptFile"  "hero/hero_ancient_apparition.lua"
          "Function"    "ice_blast_release"
        }
      }
    }
  }
}

//=================================================================================================================
// Earthshaker : fissure
//=================================================================================================================

"imba_earthshaker_fissure"
{
  // General
  //-------------------------------------------------------------------------------------------------------------
  "BaseClass"                 "ability_datadriven"
  "AbilityBehavior"           "DOTA_ABILITY_BEHAVIOR_POINT | DOTA_ABILITY_BEHAVIOR_IGNORE_BACKSWING"
  "AbilityUnitTargetTeam"     "DOTA_UNIT_TARGET_TEAM_ENEMY"
  "AbilityUnitTargetType"     "DOTA_UNIT_TARGET_HERO | DOTA_UNIT_TARGET_BASIC"
  "AbilityUnitDamageType"     "DAMAGE_TYPE_MAGICAL" 
  "SpellImmunityType"         "SPELL_IMMUNITY_ENEMIES_NO"
  "FightRecapLevel"           "1"
  "AbilityTextureName"        "earthshaker_fissure"

  // Casting
  //-------------------------------------------------------------------------------------------------------------
  "AbilityCastRange"        "1400"
  "AbilityCastPoint"        "0.69 0.69 0.69 0.69"

  // Time   
  //-------------------------------------------------------------------------------------------------------------
  "AbilityCooldown"       "15.0 15.0 15.0 15.0"
  "AbilityDuration"       "1.0 2.0 3.0 4.0"

  // Damage.
  //-------------------------------------------------------------------------------------------------------------
  "AbilityDamage"         "50 100 150 175"

  // Cost
  //-------------------------------------------------------------------------------------------------------------
  "AbilityManaCost"       "125 140 155 170"  

  // Precache
  //-------------------------------------------------------------------------------------------------------------
  "precache"
  {
    "soundfile"     "soundevents/game_sounds_heroes/game_sounds_earthshaker.vsndevts"
    "particle"      "particles/units/heroes/hero_earthshaker/earthshaker_fissure.vpcf"
  } 

  // Special
  //-------------------------------------------------------------------------------------------------------------
  "AbilitySpecial"
    {
    "01"
    {
      "var_type"          "FIELD_INTEGER"
      "fissure_range"       "1800"
    }
    "02"
    {
      "var_type"          "FIELD_FLOAT"
      "fissure_duration"      "8.0"
    }
    "03"
    {
      "var_type"          "FIELD_INTEGER"
      "fissure_radius"        "100"
    }
    "04"
    {
      "var_type"          "FIELD_FLOAT"
      "stun_duration"       "1.0 1.25 1.5 1.75"
    }
   }
    
  "OnSpellStart"
    {
      "FireSound"
      {
        "EffectName"        "Hero_EarthShaker.Whoosh"
        "Target"            "CASTER"
      }
      
      "RunScript"
      {
        "ScriptFile"        "hero/hero_earthshaker.lua"
        "Function"          "Fissure"
        "Target"            "POINT"
        "sound_fissure"     "Hero_EarthShaker.Fissure"
        

        "particle_fissure"    "particles/units/heroes/hero_earthshaker/earthshaker_fissure.vpcf"
      }
    }

    "OnProjectileHitUnit"
    {
      "ApplyModifier"
      {
        "ModifierName"  "modifer_fissure_stunned"
        "Target"        "TARGET"
        "Duration"      "%stun_duration"
      }

      "Damage"
      {
        "Type"            "DAMAGE_TYPE_MAGICAL"
        "Damage"          "%AbilityDamage"
        "Target"          "TARGET"
      } 

      "Stun"
      {
        "Duration"        "%stun_duration"
        "Target"          "TARGET"          
      }
    }

    "modifiers"
    {
      "modifer_fissure_stunned"
      { 
        "Passive"          "0"    
        "IsDebuff"         "0"
        "IsHidden"         "0"
        "IsPurgable"       "0"

        "EffectName"       "particles/generic_gameplay/generic_stunned.vpcf"
        "EffectAttachType"  "follow_origin"
      }
    }  
  }


//=================================================================================================================
// Earthshaker : enchant totem
//=================================================================================================================

  "imba_earthshaker_enchant_totem"
  {
    // General
    //-------------------------------------------------------------------------------------------------------------
    "BaseClass"               "ability_datadriven"
    "AbilityTextureName"      "earthshaker_enchant_totem"
    "AbilityBehavior"         "DOTA_ABILITY_BEHAVIOR_NO_TARGET"

    // Casting
    //-------------------------------------------------------------------------------------------------------------
    "AbilityCastRange"        "0"
    "AbilityCastPoint"        "0.69 0.69 0.69 0.69"
    "FightRecapLevel"         "1"
    "AbilityTextureName"      "earthshaker_enchant_totem"

    // Time   
    //-------------------------------------------------------------------------------------------------------------
    "AbilityCooldown"       "5.0"
    "AbilityDuration"       "14.0 14.0 14.0 14.0"

    // Damage.
    //-------------------------------------------------------------------------------------------------------------
    "AbilityDamage"         "0 0 0 0"

    // Cost
    //-------------------------------------------------------------------------------------------------------------
    "AbilityManaCost"       "50"    

    // Precache
    //-------------------------------------------------------------------------------------------------------------
    "precache"
    {
      "soundfile"     "soundevents/game_sounds_heroes/game_sounds_earthshaker.vsndevts"
      "particle"      "particles/units/heroes/hero_earthshaker/earthshaker_totem_hero_effect.vpcf"
      "particle"      "particles/units/heroes/hero_earthshaker/earthshaker_totem_buff.vpcf"
      "particle"      "particles/units/heroes/hero_earthshaker/earthshaker_enchant_totem.vpcf"
    } 

    // Special
    //-------------------------------------------------------------------------------------------------------------
    "AbilitySpecial"
    {
      "01"
      {
        "var_type"                "FIELD_INTEGER"
        "totem_damage_percentage" "200 300 400 500"
      }
      "02"
      {
        "var_type"                "FIELD_FLOAT"
        "tooltip_duration"        "14.0 14.0 14.0 14.0"
      }
    }

    "OnSpellStart"
    {
      "FireSound"
      {
        "EffectName"        "Hero_Earthshaker.Totem"
        "Target"            "CASTER"
      }

      "RunScript"
      {
        "ScriptFile"    "hero/hero_earthshaker.lua"
        "Function"      "Enchant_Totem"

        "particle_buff"               "particles/units/heroes/hero_earthshaker/earthshaker_totem_buff.vpcf"
        "particle_hero_effect"        "particles/units/heroes/hero_earthshaker/earthshaker_totem_hero_effect.vpcf"
        "particle_enchant_totem"      "particles/units/heroes/hero_earthshaker/earthshaker_enchant_totem.vpcf"
      }

      "ApplyModifier"
      {
        "ModifierName"      "modifier_enchant_totem_buff"
        "Target"            "CASTER"
      }
    }


    "modifiers"
    {
      "modifier_enchant_totem_buff"
      {
        "IsBuff"   "1"
        "IsHidden" "0"
        "Passive"  "0"

        "Properties"
        {
          "MODIFIER_PROPERTY_BASEDAMAGEOUTGOING_PERCENTAGE" "%totem_damage_percentage" 
        }

        "OnAttackLanded"
        {
          "RemoveModifier"
          {
            "ModifierName"  "modifier_enchant_totem_buff"
            "Target"        "CASTER"
          }
        }
      }
    }
  }


//=================================================================================================================
// Earthshaker : Aftershock
//=================================================================================================================

 "imba_earthshaker_aftershock"
  {
    // General
    //-------------------------------------------------------------------------------------------------------------
    "BaseClass"               "ability_datadriven"
    "AbilityBehavior"         "DOTA_ABILITY_BEHAVIOR_PASSIVE"
    "AbilityTextureName"      "earthshaker_aftershock"
    "AbilityUnitDamageType"   "DAMAGE_TYPE_MAGICAL" 
    "SpellImmunityType"       "SPELL_IMMUNITY_ENEMIES_NO"
    "AbilityUnitDamageType"   "DAMAGE_TYPE_MAGICAL" 
    // Precache
    //-------------------------------------------------------------------------------------------------------------
    "precache"
    {
      "soundfile"         "soundevents/game_sounds_heroes/game_sounds_earthshaker.vsndevts"
      "soundfile"         "soundevents/game_sounds_heroes/game_sounds_earth_spirit.vsndevts"
      "particle"          "particles/units/heroes/hero_centaur/centaur_warstomp.vpcf"   
    }
    
    // Special
    //-------------------------------------------------------------------------------------------------------------
    "AbilitySpecial"
    {
      "01"
      {
        "var_type"        "FIELD_INTEGER"
        "radius"          "400"
      }
      "02"
      {
        "var_type"        "FIELD_INTEGER"
        "damage"          "50 75 100 125"
      }
      "03"
      {
        "var_type"        "FIELD_FLOAT"
        "stun_duration"   "0.8 1.0 1.3 1.6"
      }
    }

    "Modifiers"
    {

      "modifier_after_shock_buff"
      {
        "Passive"       "1"
        "IsHidden"      "1"       
        "OnSpentMana"
         {
          "RunScript"
          {
            "ScriptFile"       "heroes/hero_earthshaker/hero_earthshaker.lua"
            "Function"         "Aftershock"
            "Target"           "UNIT"
            "aftershock_sound" "Hero_EarthSpirit.BoulderSmash.Cast"
          }
         }
      }
      "modifier_shock_particle"
      {
        "Duration"   "0.1"
        "OnCreated"
         {
            "FireEffect"
              {
                "EffectName"        "particles/units/heroes/hero_centaur/centaur_warstomp.vpcf"
                "EffectAttachType"  "follow_origin"
                "EffectRadius"      "%radius"
                "Target"            "CASTER"
                "ControlPoints"
                {
                  "01" "%radius 0 %radius"
                }
              }
          }
        }     
      }

      "modifier_stunned"
      {
        "Passive"      "0"
        "IsHidden"     "0"
        "duration"     "%stun_duration"

        "States"
        {
          "MODIFIER_STATE_STUNNED"  "MODIFIER_STATE_VALUE_ENABLED"
        }
      }
  }

//=================================================================================================================
// Earthshaker : echo slam
//=================================================================================================================
  "imba_earthshaker_echo_slam"
  {
    // General
    //-------------------------------------------------------------------------------------------------------------
    "BaseClass"                   "ability_datadriven"
    "ScriptFile"                  "hero/hero_earthshaker/earthshaker_echo_slam.lua"
    "AbilityTextureName"          "earthshaker_echo_slam"
    "AbilityType"                 "DOTA_ABILITY_TYPE_ULTIMATE"
    "AbilityBehavior"             "DOTA_ABILITY_BEHAVIOR_NO_TARGET"
    "AbilityUnitDamageType"       "DAMAGE_TYPE_MAGICAL" 
    "SpellImmunityType"           "SPELL_IMMUNITY_ENEMIES_NO"
    "FightRecapLevel"             "2"
    "AbilityTextureName"          "earthshaker_echo_slam"
  
    // Casting
    //-------------------------------------------------------------------------------------------------------------
    "AbilityCastPoint"        "0 0 0 0"
  
    // Time   
    //-------------------------------------------------------------------------------------------------------------
    "AbilityCooldown"       "150.0 130.0 110.0"
  
    // Damage.
    //-------------------------------------------------------------------------------------------------------------
    "AbilityDamage"         "160 210 270"
  
    // Cost
    //-------------------------------------------------------------------------------------------------------------
    "AbilityManaCost"       "145 205 265"   
  
    // Special
    //-------------------------------------------------------------------------------------------------------------
    "precache"
    {
      "particle"  "particles/units/heroes/hero_earthshaker/earthshaker_echoslam.vpcf"
      "particle"  "particles/units/heroes/hero_earthshaker/earthshaker_echoslam_start.vpcf"
      "soundfile" "soundevents/game_sounds_heroes/game_sounds_earthshaker.vsndevts"
    }
    "AbilitySpecial"
    {
      "01"
      {
        "var_type"          "FIELD_INTEGER"
        "echo_slam_damage_range"  "575"
      }
      "02"
      {
        "var_type"          "FIELD_INTEGER"
        "echo_slam_echo_range"    "575"
      }
      "03"
      {
        "var_type"          "FIELD_INTEGER"
        "echo_slam_echo_damage"   "40 55 70"
      }
    }

    "OnSpellStart"
    {
      "RunScript"
      {
        "ScriptFile"    "hero/hero_earthshaker.lua"
        "Function"      "earthshaker_echo_slam"

        "particle_echo"               "particles/units/heroes/hero_earthshaker/earthshaker_echoslam.vpcf"
        "particle_echo_start"         "particles/units/heroes/hero_earthshaker/earthshaker_echoslam_start.vpcf"
        "sound_big"                   "Hero_EarthShaker.EchoSlam"
        "sound_echo"                  "Hero_EarthShaker.EchoSlamEcho"
        "sound_small"                 "Hero_EarthShaker.EchoSlamSmall"
      }
    }

    "OnProjectileHitUnit"
    {
      "DeleteOnHit" "1"

      "RunScript"
      {
        "ScriptFile"  "hero/hero_earthshaker.lua"
        "Function"    "earthshaker_echo_slam_lua"

        "target"      "TARGET"

      }
    }

    "Modifiers"
    {

      "modifier_echo_slam_echo"
      {
        "hidden"   "1"
        "passive"  "0"

        "OnCreated"
        {
          "RunScript"
          {
          "ScriptFile"    "hero/hero_earthshaker.lua"
          "Function"      "earthshaker_echo_slam_Echoes"

          "target"        "TARGET"        
          }
        }
      }
    }
  }


  //=================================================================================================================
  // Chaos Knight : chaos bolt
  //=================================================================================================================
  "imba_chaos_knight_chaos_bolt"
  {
    // General
    //-------------------------------------------------------------------------------------------------------------
    "BaseClass"       "ability_datadriven"
    "AbilityBehavior"       "DOTA_ABILITY_BEHAVIOR_UNIT_TARGET"
    "AbilityUnitTargetTeam"     "DOTA_UNIT_TARGET_TEAM_ENEMY"
    "AbilityUnitTargetType"     "DOTA_UNIT_TARGET_HERO | DOTA_UNIT_TARGET_BASIC"
    "AbilityUnitDamageType"     "DAMAGE_TYPE_MAGICAL"
    "SpellImmunityType"       "SPELL_IMMUNITY_ENEMIES_NO"
    "FightRecapLevel"       "1"
    "AbilityTextureName"      "chaos_knight_chaos_bolt"

    // Precache
    //-------------------------------------------------------------------------------------------------------------
    "precache"
    {
      "soundfile"   "soundevents/game_sounds_heroes/game_sounds_chaos_knight.vsndevts"
      "particle"    "particles/units/heroes/hero_chaos_knight/chaos_knight_chaos_bolt.vpcf"
      "particle"    "particles/units/heroes/hero_chaos_knight/chaos_knight_bolt_msg.vpcf"
    }

    // Casting
    //-------------------------------------------------------------------------------------------------------------
    "AbilityCastRange"        "500"
    "AbilityCastPoint"        "0.4 0.4 0.4 0.4"
  
    // Time   
    //-------------------------------------------------------------------------------------------------------------
    "AbilityCooldown"       "10.0 10.0 10.0 10.0"

    // Cost
    //-------------------------------------------------------------------------------------------------------------
    "AbilityManaCost"       "140 140 140 140"

    // Special
    //-------------------------------------------------------------------------------------------------------------
    "AbilitySpecial"
    {
      "01"
      {
        "var_type"        "FIELD_INTEGER"
        "chaos_bolt_speed"    "1000"
      }
      "02"
      {
        "var_type"        "FIELD_INTEGER"
        "stun_min"        "1 1 1 2"
      }
      "03"
      {
        "var_type"        "FIELD_INTEGER"
        "stun_max"        "2 3 4 4"
      }
      "04"
      {
        "var_type"        "FIELD_INTEGER"
        "damage_min"      "1 50 75 100"
      }
      "05"
      {
        "var_type"        "FIELD_INTEGER"
        "damage_max"      "200 225 250 275"
      }
      "06"
      {
        "var_type"          "FIELD_FLOAT"
        "illusion_duration"     "34"
      } 
      "07"
      {
        "var_type"          "FIELD_INTEGER"
        "outgoing_damage"     "0 0 0"
      }
      "08"
      {
        "var_type"          "FIELD_INTEGER"
        "outgoing_damage_tooltip"     "100 100 100"
      } 
      "09"
      {
        "var_type"          "FIELD_INTEGER"
        "incoming_damage"     "100 100 100"
      }
      "10"
      {
        "var_type"          "FIELD_INTEGER"
        "incoming_damage_tooltip"     "200 200 200"
      }     
      "11"
      {
        "var_type"        "FIELD_FLOAT"
        "invuln_duration"   "0.5"
      }
      "12"
      {
        "var_type"        "FIELD_INTEGER"
        "vision_radius"     "400"
      }  
    }

    "OnSpellStart"
    {
      "FireSound"
      {
        "EffectName"  "Hero_ChaosKnight.ChaosBolt.Cast"
        "Target"    "CASTER"
      }

      "TrackingProjectile"
      {
        "Target"            "TARGET"
        "EffectName"    "particles/units/heroes/hero_chaos_knight/chaos_knight_chaos_bolt.vpcf"
        "Dodgeable"     "1"
        "ProvidesVision"  "0"
        "MoveSpeed"         "%chaos_bolt_speed"
        "SourceAttachment"  "DOTA_PROJECTILE_ATTACHMENT_ATTACK_1"
      }
    }

    "OnProjectileHitUnit"
    { 
      "DeleteOnHit" "1"

      "FireSound"
      {
        "EffectName"  "Hero_ChaosKnight.ChaosBolt.Impact"
        "Target"    "TARGET"
      }
    
      "RunScript"
      {
        "ScriptFile"  "hero/hero_chaos_knight.lua"
        "Function"    "ChaosBolt"
        "chaos_bolt_particle" "particles/units/heroes/hero_chaos_knight/chaos_knight_bolt_msg.vpcf"
        "sound"     "Hero_ChaosKnight.Phantasm.Plus"
      }
    }
  }


  //=================================================================================================================
  // Chaos Knight : chaos strike
  //=================================================================================================================
  "imba_chaos_knight_chaos_strike"
  {
    // General
    //-------------------------------------------------------------------------------------------------------------
    "BaseClass"       "ability_datadriven"
    "AbilityBehavior"       "DOTA_ABILITY_BEHAVIOR_PASSIVE"
    "AbilityTextureName"      "chaos_knight_chaos_strike"

    // Precache
    //-------------------------------------------------------------------------------------------------------------
    "precache"
    {
      "soundfile"   "soundevents/game_sounds_heroes/game_sounds_chaos_knight.vsndevts"
      "particle"    "particles/units/heroes/hero_chaos_knight/chaos_knight_weapon_blur_critical.vpcf"
    }

    // Special
    //-------------------------------------------------------------------------------------------------------------
    "AbilitySpecial"
    {
      "01"
      {
        "var_type"          "FIELD_INTEGER"
        "crit_damage"       "150 200 250 300"
      }
      "02"
      {
        "var_type"          "FIELD_INTEGER"
        "crit_chance"       "10 10 20 20"
      }
      "03"
      {
        "var_type"          "FIELD_FLOAT"
        "illusion_duration"     "34"
      } 
      "04"
      {
        "var_type"          "FIELD_INTEGER"
        "outgoing_damage"     "0 0 0"
      }
      "05"
      {
        "var_type"          "FIELD_INTEGER"
        "outgoing_damage_tooltip"     "100 100 100"
      } 
      "06"
      {
        "var_type"          "FIELD_INTEGER"
        "incoming_damage"     "100 100 100"
      }
      "07"
      {
        "var_type"          "FIELD_INTEGER"
        "incoming_damage_tooltip"     "200 200 200"
      }     
      "08"
      {
        "var_type"        "FIELD_FLOAT"
        "invuln_duration"   "0.5"
      }
      "09"
      {
        "var_type"        "FIELD_INTEGER"
        "vision_radius"     "400"
      } 
    }

    "Modifiers"
    {
      "modifier_chaos_strike_datadriven"
      {
        "Passive"   "1"
        "IsHidden"  "1"

        "OnAttackStart"
        {
          "RemoveModifier"
          {
            "ModifierName"  "modifier_chaos_strike_crit_datadriven"
            "Target"    "CASTER"
          }

          "Random"
          {
            "Chance"  "%crit_chance"
            "OnSuccess"
            {
              "FireSound"
              {
                "EffectName"  "Hero_ChaosKnight.ChaosStrike"
                "Target"    "CASTER"
              }

              "FireEffect"
              {
                "EffectName"    "particles/units/heroes/hero_chaos_knight/chaos_knight_weapon_blur_critical.vpcf"
                "EffectAttachType"  "attach_attack1"
                "Target"        "CASTER"
              }

              "ApplyModifier"
              {
                "ModifierName"  "modifier_chaos_strike_crit_datadriven"
                "Target"      "CASTER"    
              }
              "RunScript"
              {
                "ScriptFile"  "hero/hero_chaos_knight.lua"
                "Function"    "Spawnillusion"

                "sound"     "Hero_ChaosKnight.Phantasm.Plus"
              }         
            }
          }
        }
      }

      "modifier_chaos_strike_crit_datadriven"
      {
        "IsHidden"  "1"
        "Properties"
        {
          "MODIFIER_PROPERTY_PREATTACK_CRITICALSTRIKE" "%crit_damage"
        }

        "OnAttackLanded"
        {
          "RemoveModifier"
          {
            "ModifierName"  "modifier_chaos_strike_crit_datadriven"
            "Target"      "CASTER"    
          }
        }
      }
    }
  }


//=================================================================================================================
// Chaos Knight : phantasm
//=================================================================================================================
  "imba_chaos_knight_phantasm"
  {
    // General
    //-------------------------------------------------------------------------------------------------------------
    "BaseClass"       "ability_datadriven"
    "AbilityBehavior"       "DOTA_ABILITY_BEHAVIOR_NO_TARGET"
    "AbilityType"         "DOTA_ABILITY_TYPE_ULTIMATE"
    "FightRecapLevel"       "2"
    "AbilityTextureName"      "chaos_knight_phantasm"

    // Precache
    //-------------------------------------------------------------------------------------------------------------
    "precache"
    {
      "soundfile"   "soundevents/game_sounds_heroes/game_sounds_chaos_knight.vsndevts"
      "particle"    "particles/units/heroes/hero_chaos_knight/chaos_knight_phantasm.vpcf"
    }
  
    // Casting
    //-------------------------------------------------------------------------------------------------------------
    "AbilityCastPoint"        "0.4 0.4 0.4"

    // Time   
    //-------------------------------------------------------------------------------------------------------------
    "AbilityCooldown"       "140.0 140.0 140.0"

    // Cost
    //-------------------------------------------------------------------------------------------------------------
    "AbilityManaCost"       "125 200 275"

    // Special
    //-------------------------------------------------------------------------------------------------------------
    "AbilitySpecial"
    {
      "01"
      {
        "var_type"          "FIELD_INTEGER"
        "images_count"        "3 4 6"
      }
      "02"
      {
        "var_type"        "FIELD_INTEGER"
        "extra_phantasm_chance_pct_tooltip"     "50"
      }
      "03"
      {
        "var_type"          "FIELD_FLOAT"
        "illusion_duration"     "34"
      } 
      "04"
      {
        "var_type"          "FIELD_INTEGER"
        "outgoing_damage"     "0 0 0"
      }
      "05"
      {
        "var_type"          "FIELD_INTEGER"
        "outgoing_damage_tooltip"     "100 100 100"
      } 
      "06"
      {
        "var_type"          "FIELD_INTEGER"
        "incoming_damage"     "100 100 100"
      }
      "07"
      {
        "var_type"          "FIELD_INTEGER"
        "incoming_damage_tooltip"     "200 200 200"
      }     
      "08"
      {
        "var_type"        "FIELD_FLOAT"
        "invuln_duration"   "0.5"
      }
      "09"
      {
        "var_type"        "FIELD_INTEGER"
        "vision_radius"     "400"
      }     
    }

    "OnSpellStart"
    {
      "RunScript"
      {
        "ScriptFile"  "hero/hero_chaos_knight.lua"
        "Function"    "PhantasmVision"
      }

      "ApplyModifier"
      {
        "ModifierName"  "modifier_phantasm_datadriven"
        "Target"    "CASTER"
        "Duration"    "%invuln_duration"
      }   
    }

    "Modifiers"
    {
      "modifier_phantasm_datadriven"
      {
        "IsHidden"    "1"
        "IsPurgable"  "0"

        "OnCreated"
        {
          "AttachEffect"
          {
            "EffectName"    "particles/units/heroes/hero_chaos_knight/chaos_knight_phantasm.vpcf"
            "EffectAttachType"  "follow_origin"
            "Target"      "CASTER"
          }

          "FireSound"
          {
            "EffectName"  "Hero_ChaosKnight.Phantasm"
            "Target"    "CASTER"
          }
        }

        "OnDestroy"
        {
          "RunScript"
          {
            "ScriptFile"    "hero/hero_chaos_knight.lua"
            "Function"      "Phantasm"
            "sound"     "Hero_ChaosKnight.Phantasm.Plus"
          }
        }

        "States"
        {
          "MODIFIER_STATE_INVULNERABLE"       "MODIFIER_STATE_VALUE_ENABLED"
          "MODIFIER_STATE_LOW_ATTACK_PRIORITY"  "MODIFIER_STATE_VALUE_ENABLED"
          "MODIFIER_STATE_NO_HEALTH_BAR"      "MODIFIER_STATE_VALUE_ENABLED"
          "MODIFIER_STATE_UNSELECTABLE"     "MODIFIER_STATE_VALUE_ENABLED"
          "MODIFIER_STATE_STUNNED"        "MODIFIER_STATE_VALUE_ENABLED"
        }
      }
    }
  }

//=================================================================================================================
// Chaos Knight : reality rift
//=================================================================================================================
  "imba_chaos_knight_reality_rift"
  {
    // General
    //-------------------------------------------------------------------------------------------------------------
    "BaseClass"                   "ability_datadriven"
    "AbilityBehavior"             "DOTA_ABILITY_BEHAVIOR_UNIT_TARGET"
    "AbilityUnitTargetTeam"       "DOTA_UNIT_TARGET_TEAM_ENEMY"
    "AbilityUnitTargetType"       "DOTA_UNIT_TARGET_HERO | DOTA_UNIT_TARGET_BASIC"
    "SpellImmunityType"           "SPELL_IMMUNITY_ENEMIES_NO"
    "FightRecapLevel"             "1"
    "AbilityTextureName"          "chaos_knight_reality_rift"

    // Precache
    //-------------------------------------------------------------------------------------------------------------
    "precache"
    {
      "soundfile"   "soundevents/game_sounds_heroes/game_sounds_chaos_knight.vsndevts"
      "particle"    "particles/units/heroes/hero_chaos_knight/chaos_knight_reality_rift.vpcf"
      "particle"    "particles/units/heroes/hero_chaos_knight/chaos_knight_reality_rift_buff.vpcf"
    }
  
    // Casting
    //-------------------------------------------------------------------------------------------------------------
    "AbilityCastRange"        "550 600 650 700"
    "AbilityCastPoint"        "0.4 0.4 0.4 0.4"

    // Time   
    //-------------------------------------------------------------------------------------------------------------
    "AbilityCooldown"       "24 18 12 6"


    // Cost
    //-------------------------------------------------------------------------------------------------------------
    "AbilityManaCost"       "70 70 70 70"
  
    // Special
    //-------------------------------------------------------------------------------------------------------------
    "AbilitySpecial"
    {
      "01"
      {
        "var_type"          "FIELD_INTEGER"
        "cast_range"        "550 600 650 700"
      }
      "02"
      {
        "var_type"          "FIELD_INTEGER"
        "bonus_damage"        "25 50 75 100"
      }
      "03"
      {
        "var_type"          "FIELD_FLOAT"
        "bonus_duration"      "1.2"
      }
      // Extra
      "04"
      {
        "var_type"          "FIELD_FLOAT"
        "illusion_search_radius"  "1375"
      }
      "05"
      {
        "var_type"          "FIELD_FLOAT"
        "min_range"         "0.3"
      }
      "06"
      {
        "var_type"          "FIELD_FLOAT"
        "max_range"         "0.8"
      }
      "07"
      {
        "var_type"          "FIELD_FLOAT"
        "illusion_duration"     "34"
      } 
      "08"
      {
        "var_type"          "FIELD_INTEGER"
        "outgoing_damage"     "0 0 0"
      }
      "09"
      {
        "var_type"          "FIELD_INTEGER"
        "outgoing_damage_tooltip"     "100 100 100"
      } 
      "10"
      {
        "var_type"          "FIELD_INTEGER"
        "incoming_damage"     "100 100 100"
      }
      "11"
      {
        "var_type"          "FIELD_INTEGER"
        "incoming_damage_tooltip"     "200 200 200"
      }     
      "12"
      {
        "var_type"        "FIELD_FLOAT"
        "invuln_duration"   "0.5"
      }
      "13"
      {
        "var_type"        "FIELD_INTEGER"
        "vision_radius"     "400"
      } 
    }

    "OnAbilityPhaseStart"
    {
      "FireSound"
      {
        "EffectName"  "Hero_ChaosKnight.RealityRift"
        "Target"    "CASTER"
      }

      "RunScript"
      {
        "ScriptFile"  "hero/hero_chaos_knight.lua"
        "Function"    "RealityRiftPosition"
        "reality_rift_particle" "particles/units/heroes/hero_chaos_knight/chaos_knight_reality_rift.vpcf"
      }
    }

    "OnSpellStart"
    {
      "FireSound"
      {
        "EffectName"  "Hero_ChaosKnight.RealityRift.Target"
        "Target"    "TARGET"
      }

      "ApplyModifier"
      {
        "ModifierName"  "modifier_reality_rift_datadriven"
        "Target"    "CASTER"
        "Duration"    "%bonus_duration"
      }

      "RunScript"
      {
        "ScriptFile"  "hero/hero_chaos_knight.lua"
        "Function"    "RealityRift"
        "bonus_modifier"  "modifier_reality_rift_datadriven"
        "sound"     "Hero_ChaosKnight.Phantasm.Plus"
      }
    }

    "Modifiers"
    {
      "modifier_reality_rift_datadriven"
      {
        "IsBuff"    "1"
  
        "EffectName"    "particles/units/heroes/hero_chaos_knight/chaos_knight_reality_rift_buff.vpcf"
        "EffectAttachType"  "attach_attack"

        "OnAttackLanded"
        // "%attack_damage" is set to the damage value before mitigation
        {
          "RemoveModifier"
          {
            "ModifierName"  "modifier_reality_rift_datadriven"
            "Target"    "ATTACKER"
          }
        }
  
        "Properties"
        {
          "MODIFIER_PROPERTY_PREATTACK_BONUS_DAMAGE" "%bonus_damage"
        }
      }
    }
  }


  //=================================================================================================================
  // Kunkka : Ghostship
  //=================================================================================================================

  "imba_kunkka_ghostship"
  {
    // General
    //-------------------------------------------------------------------------------------------------------------
    "BaseClass"       "ability_datadriven"
    "AbilityType"         "DOTA_ABILITY_TYPE_ULTIMATE"
    "AbilityBehavior"       "DOTA_ABILITY_BEHAVIOR_DIRECTIONAL | DOTA_ABILITY_BEHAVIOR_POINT | DOTA_ABILITY_BEHAVIOR_IGNORE_BACKSWING"
    "AbilityUnitDamageType"     "DAMAGE_TYPE_MAGICAL" 
    "SpellImmunityType"       "SPELL_IMMUNITY_ENEMIES_NO"
    "FightRecapLevel"       "2"
    "AbilityTextureName"      "kunkka_ghostship"
  
    // Casting
    //-------------------------------------------------------------------------------------------------------------
    "AbilityCastRange"        "1000"
    "AbilityCastPoint"        "0.4 0.4 0.4"
  
    // Time   
    //-------------------------------------------------------------------------------------------------------------
    "AbilityCooldown"       "60.0 50.0 40.0"

    // Damage.
    //-------------------------------------------------------------------------------------------------------------
    "AbilityDamage"         "250" // "400 500 600"

    // Cost
    //-------------------------------------------------------------------------------------------------------------
    "AbilityManaCost"       "150 200 250"

    // Special
    //-------------------------------------------------------------------------------------------------------------
    "AbilitySpecial"
    {
      "01"
      {
        "var_type"          "FIELD_FLOAT"
        "tooltip_delay"       "3.07"
      }
      "02"
      {
        "var_type"          "FIELD_INTEGER"
        "ghostship_distance"   "1000 1250 1500"
      }
      "03"
      {
        "var_type"          "FIELD_INTEGER"
        "ghostship_width"     "525 550 575"
      }      
      "04"
      {
        "var_type"          "FIELD_INTEGER"
        "movespeed_bonus"     "10 10 10"
      }
      "05"
      {
        "var_type"          "FIELD_FLOAT"
        "buff_duration"       "10"
      }
      "06"
      {
        "var_type"          "FIELD_FLOAT"
        "stun_duration"     "1.4 1.8 2.2"
      }
      "07"
      {
        "var_type"          "FIELD_INTEGER"
        "ghostship_speed"   "1050 1450 1850"
      }

      // Extra variable
      "08"
      {
        "var_type"          "FIELD_INTEGER"
        "rum_reduce_pct"      "50"
      }
      "09"
      {
        "var_type"          "FIELD_FLOAT"
        "damage_duration"     "10.0"
      }
      "10"
      {
        "var_type"          "FIELD_FLOAT"
        "damage_interval"     "10.0"
      }
    }
  
    // Data driven
    //-------------------------------------------------------------------------------------------------------------
    "precache"
    {
      "soundfile"           "soundevents/game_sounds_heroes/game_sounds_kunkka.vsndevts"
      "particle"            "particles/units/heroes/hero_kunkka/kunkka_ghostship_marker.vpcf"
      "particle"            "particles/units/heroes/hero_kunkka/kunkka_ghost_ship.vpcf"
      "particle"            "particles/status_fx/status_effect_rum.vpcf"
    }
  
    "OnSpellStart"
    {
      "FireSound"
      {
        "Target"          "CASTER"
        "EffectName"        "Ability.Ghostship.bell"
      }
  
      "FireSound"
      {
        "Target"          "CASTER"
        "EffectName"        "Ability.Ghostship"
      }
  
      "RunScript"
      {
        "ScriptFile"        "hero/hero_kunkka.lua"
        "Function"          "ghostship_start_traverse"
        "Target"            "POINT"
      }
    }
  
    "OnProjectileHitUnit"
    {
      "DeleteOnHit"         "0"
    
      "ApplyModifier"
      {
        "Target"          "TARGET"
        "ModifierName"        "modifier_ghostship_rum_datadriven"
      }
    }
  
    "Modifiers"
    {
      "modifier_ghostship_rum_datadriven"
      {
        "IsBuff"        "1"
      
        "Duration"        "%buff_duration"
      
        "StatusEffectName"    "particles/status_fx/status_effect_rum.vpcf"
        "StatusEffectPriority"  "10"
      
        "OnTakeDamage"
        {
          "RunScript"
          {
            "ScriptFile"    "hero/hero_kunkka.lua"
            "Function"      "ghostship_register_damage"
            "DamageTaken"   "%attack_damage"
          }
        }
      
        "OnDestroy"
        {
          "RunScript"
          {
            "ScriptFile"    "hero/hero_kunkka.lua"
            "Function"      "ghostship_spread_damage"
            "Target"      "TARGET"
          }
        }
      
        "Properties"
        {
          "MODIFIER_PROPERTY_INCOMING_DAMAGE_PERCENTAGE"    "%rum_reduce_pct"
          "MODIFIER_PROPERTY_MOVESPEED_BONUS_PERCENTAGE"    "%movespeed_bonus"
        }
      }
    }
  }


  //=================================================================================================================
  // Kunkka : Return
  //=================================================================================================================
  // NOTE: This ability use same script as kunkka_x_marks_the_spot_datadriven
  "imba_kunkka_return"
  {
    // General
    //-------------------------------------------------------------------------------------------------------------
    "BaseClass"       "ability_datadriven"
    "AbilityBehavior"       "DOTA_ABILITY_BEHAVIOR_HIDDEN | DOTA_ABILITY_BEHAVIOR_NO_TARGET | DOTA_ABILITY_BEHAVIOR_IGNORE_BACKSWING"
    "SpellImmunityType"       "SPELL_IMMUNITY_ENEMIES_NO"
    "AbilityTextureName"      "kunkka_return"
  
    // Casting
    //-------------------------------------------------------------------------------------------------------------
    "AbilityCastPoint"        "0.4 0.4 0.4 0.4"

    // Time   
    //-------------------------------------------------------------------------------------------------------------
    "AbilityCooldown"       "5.0 5.0 5.0 5.0"

    // Cost
    //-------------------------------------------------------------------------------------------------------------
    "AbilityManaCost"       "50"
  
    // Data driven
    //-------------------------------------------------------------------------------------------------------------
    "OnSpellStart"
    {
      "RunScript"
      {
        "ScriptFile"      "hero/hero_kunkka.lua"
        "Function"        "x_marks_the_spot_force_return"
      }
    }
  }

  //=================================================================================================================
  // Kunkka : Tidebringer
  //=================================================================================================================

  "imba_kunkka_tidebringer"
  {
    // General
    //-------------------------------------------------------------------------------------------------------------
    "BaseClass"       "ability_datadriven"
    "AbilityBehavior"       "DOTA_ABILITY_BEHAVIOR_PASSIVE"
    "AbilityUnitDamageType"     "DAMAGE_TYPE_PHYSICAL"  
    "SpellImmunityType"       "SPELL_IMMUNITY_ENEMIES_YES"
    "AbilityTextureName"      "kunkka_tidebringer"

    // Time   
    //-------------------------------------------------------------------------------------------------------------
    "AbilityCooldown"       "13.0 10.0 7.0 4.0"

    // Special
    //-------------------------------------------------------------------------------------------------------------
    "AbilitySpecial"
    {
      "01"
      {
        "var_type"          "FIELD_INTEGER"
        "radius"          "1000 1000 1100 1200"
      }
      "02"
      {
        "var_type"          "FIELD_INTEGER"
        "damage_bonus"        "15 30 45 60"
      }
    }
  
    // Data driven
    //-------------------------------------------------------------------------------------------------------------
    "Modifiers"
    {
      "precache"
      {
        "soundfile"         "soundevents/game_sounds_heroes/game_sounds_kunkka.vsndevts"
        "particle"          "particles/units/heroes/hero_kunkka/kunkka_weapon_tidebringer.vpcf"
        "particle"          "particles/units/heroes/hero_kunkka/kunkka_spell_tidebringer.vpcf"
      }
  
      "modifier_tidebringer_splash_datadriven"
      {
        "Passive"         "1"
        "IsHidden"          "1"
        "IsPurgable"        "0"
      
        "OnCreated"
        {
          "FireEffect"
          {
            "Target"      "CASTER"
            "EffectName"    "Hero_Kunkaa.Tidebringer"
          }
      
          "AttachEffect"
          {
            "Target"      "CASTER"
            "EffectName"    "particles/units/heroes/hero_kunkka/kunkka_weapon_tidebringer.vpcf"
            "EffectAttachType"  "start_at_customorigin"
            "ControlPointEntities"
            {
              "CASTER"    "attach_sword"
              "CASTER"    "attach_sword"
              "CASTER"    "attach_sword"
            }
          }
        }
      
        "OnAttackLanded"
        {
          "FireSound"
          {
            "Target"      "TARGET"
            "EffectName"    "Hero_Kunkka.Tidebringer.Attack"
          }
      
          "ActOnTargets"
          {
            "Target"
            {
              "Center"    "TARGET"
              "Teams"     "DOTA_UNIT_TARGET_TEAM_ENEMY"
            }
          
            "Action"
            {
              "FireSound"
              {
                "Target"      "TARGET"
                "EffectName"    "Hero_Kunkka.TidebringerDamage"
              }
          
              "CleaveAttack"
              {
                "CleavePercent"   "100"
                "CleaveRadius"    "%radius"
                "CleaveEffect"    "particles/units/heroes/hero_kunkka/kunkka_spell_tidebringer.vpcf"
              }
            
              "RunScript"
              {
                "ScriptFile"    "hero/hero_kunkka.lua"
                "Function"      "tidebringer_set_cooldown"
              }
            }
          }
        }
      
        "Properties"
        {
          "MODIFIER_PROPERTY_PREATTACK_BONUS_DAMAGE"    "%damage_bonus"
        }
      }
    }
  }

  //=================================================================================================================
  // Kunkka : Torrent
  //================================================================================================================= 

   "imba_kunkka_torrent"
  {
    // General
    //-------------------------------------------------------------------------------------------------------------
    "BaseClass"       "ability_datadriven"
    "AbilityBehavior"       "DOTA_ABILITY_BEHAVIOR_AOE | DOTA_ABILITY_BEHAVIOR_POINT | DOTA_ABILITY_BEHAVIOR_IGNORE_BACKSWING"
    "AbilityUnitDamageType"     "DAMAGE_TYPE_MAGICAL" 
    "SpellImmunityType"       "SPELL_IMMUNITY_ENEMIES_NO"
    "FightRecapLevel"       "1"
    "AbilityTextureName"      "kunkka_torrent"
    "AOERadius"           "650"
  
    // Casting
    //-------------------------------------------------------------------------------------------------------------
    "AbilityCastRange"        "1500"
    "AbilityCastPoint"        "0.4"
  
    // Time   
    //-------------------------------------------------------------------------------------------------------------
    "AbilityCooldown"       "12.0 12.0 12.0 12.0"

    // Damage.
    //-------------------------------------------------------------------------------------------------------------
    "AbilityDamage"         "120 180 240 300"

    // Cost
    //-------------------------------------------------------------------------------------------------------------
    "AbilityManaCost"       "120 120 120 120"

    // Stats
    //-------------------------------------------------------------------------------------------------------------
    "AbilityModifierSupportValue" "0.5" // applies 2 modifiers
  
    // Special
    //-------------------------------------------------------------------------------------------------------------
    "AbilitySpecial"
    {
      "01"
      {
        "var_type"          "FIELD_INTEGER"
        "radius"          "1150"
      }
      "02"
      {
        "var_type"          "FIELD_INTEGER"
        "movespeed_bonus"     "-35"
      }
      "03"
      {
        "var_type"          "FIELD_FLOAT"
        "slow_duration"       "1.0 2.0 3.0 4.0"
      }
      "04"
      {
        "var_type"          "FIELD_FLOAT"
        "stun_duration"       "1.53 1.53 1.53 1.53"
      }
      "05"
      {
        "var_type"          "FIELD_FLOAT"
        "delay"           "2 2 2 2"
      }
      // Extra variables
      "06"
      {
        "var_type"          "FIELD_INTEGER"
        "tick_count"        "10"
      }
      "07"
      {
        "var_type"          "FIELD_FLOAT"
        "vision_duration"     "2.0"       // I just guess
      }
      "08"
      {
        "var_type"          "FIELD_INTEGER"
        "torrent_height"      "1100"
      }
    }

    // Data driven
    //------------------------------------------------------------------------------------------------------------- 
    "precache"
    {
      "soundfile"           "soundevents/game_sounds_heroes/game_sounds_kunkka.vsndevts"
      "particle"            "particles/units/heroes/hero_kunkka/kunkka_spell_torrent_bubbles.vpcf"
      "particle"            "particles/units/heroes/hero_kunkka/kunkka_spell_torrent_splash.vpcf"
    }
  
    "OnSpellStart"
    {
      "RunScript"
      {
        "ScriptFile"        "hero/hero_kunkka.lua"
        "Function"          "torrent_bubble_allies"
        "Target"          "POINT"
      }
    
      "DelayedAction"
      {
        "Delay"           "%delay"
        "Action"
        {
          "RunScript"
          {
            "ScriptFile"      "hero/hero_kunkka.lua"
            "Function"        "torrent_emit_sound"
            "Target"        "POINT"
          }
      
          "FireEffect"
          {
            "Target"        "CASTER"
            "EffectName"      "particles/units/heroes/hero_kunkka/kunkka_spell_torrent_splash.vpcf"
            "EffectAttachType"    "start_at_customorigin"
            "EffectRadius"      "%radius"
            "ControlPoints"
            {
              "00"        "POINT"
            }
          }
      
          "ActOnTargets"
          {
            "Target"
            {
              "Center"      "POINT"
              "Radius"      "%radius"
              "Teams"       "DOTA_UNIT_TARGET_TEAM_ENEMY"
              "Types"       "DOTA_UNIT_TARGET_HERO | DOTA_UNIT_TARGET_BASIC"
            }
          
            "Action"
            {
              "Damage"
              {
                "Target"      "TARGET"
                "Damage"      "%AbilityDamage / 2"
                "Type"        "DAMAGE_TYPE_MAGICAL"
              }
            
              "RemoveModifier"
              {
                "Target"      "TARGET"
                "ModifierName"    "modifier_knockback"
              }
            
              "Knockback"
              {
                "Target"      "TARGET"
                "Center"      "CASTER"
                "Duration"      "%stun_duration"
                "Distance"      "0"
                "Height"      "%torrent_height"
                "IsFixedDistance" "1"
                "ShouldStun"    "1"
              }
            
              "ApplyModifier"
              {
                "Target"      "TARGET"
                "ModifierName"    "modifier_torrent_damage_thinker_datadriven"
              }
            
              "ApplyModifier"
              {
                "Target"      "TARGET"
                "ModifierName"    "modifier_torrent_slow_debuff_datadriven"
              }
            }
          }
        
          "RunScript"
          {
           "ScriptFile"        "hero/hero_kunkka.lua"
            "Function"          "torrent_post_vision"
            "Target"          "POINT"
          }
        }
      }
    }
  
    "Modifiers"
    {
      "modifier_torrent_damage_thinker_datadriven"
      {
        "IsPurgable"        "0"
        "IsHidden"          "1"
      
        "Attributes"        "MODIFIER_ATTRIBUTE_MULTIPLE"
      
        "Duration"          "%stun_duration"
        "ThinkInterval"       "%stun_duration / %tick_count"
        "OnIntervalThink"
        {
          "Damage"
          {
            "Target"      "TARGET"
            "Damage"      "%AbilityDamage / ( 2 * %tick_count )"
            "Type"        "DAMAGE_TYPE_MAGICAL"
          }
        }
      
        "States"
        {
          "MODIFIER_STATE_NO_UNIT_COLLISION"    "MODIFIER_STATE_VALUE_ENABLED"
        }
      }
    
      "modifier_torrent_slow_debuff_datadriven"
      {
        "IsDebuff"          "1"
    
        "Duration"          "%stun_duration + %slow_duration"
    
        "Properties"
        {
          "MODIFIER_PROPERTY_MOVESPEED_BONUS_PERCENTAGE"    "movespeed_bonus"
        }
      }
    }
  }

  //=================================================================================================================
  // Kunkka : x marks the spot
  //=================================================================================================================

  "imba_kunkka_x_marks_the_spot"
  {
    // General
    //-------------------------------------------------------------------------------------------------------------
    "BaseClass"       "ability_datadriven"
    "AbilityBehavior"       "DOTA_ABILITY_BEHAVIOR_UNIT_TARGET | DOTA_ABILITY_BEHAVIOR_IGNORE_BACKSWING"
    "AbilityUnitTargetTeam"     "DOTA_UNIT_TARGET_TEAM_BOTH"
    "AbilityUnitTargetType"     "DOTA_UNIT_TARGET_HERO | DOTA_UNIT_TARGET_BASIC"
    "AbilityUnitTargetFlags"    "DOTA_UNIT_TARGET_FLAG_NOT_MAGIC_IMMUNE_ALLIES"
    "SpellImmunityType"       "SPELL_IMMUNITY_ALLIES_NO"
    "FightRecapLevel"       "1"
    "AbilityTextureName"      "kunkka_x_marks_the_spot"
  
    // Casting
    //-------------------------------------------------------------------------------------------------------------
    "AbilityCastRange"        "1000 1650 1800 1950"
    "AbilityCastPoint"        "0.4 0.4 0.4 0.4"
  
    // Time   
    //-------------------------------------------------------------------------------------------------------------
    "AbilityCooldown"       "14 13 12 11"

    // Cost
    //-------------------------------------------------------------------------------------------------------------
    "AbilityManaCost"       "80"

    // Special
    //-------------------------------------------------------------------------------------------------------------
    "AbilitySpecial"
    {
      "01"
      {
        "var_type"          "FIELD_FLOAT"
        "duration"          "3.0 4.0 5.0 6.0"
      } 
      "02"
      {
        "var_type"          "FIELD_FLOAT"
        "allied_duration_tooltip" "2.0 3.0 4.0 5.0"
      }
      "03"
      { 
        "var_type"          "FIELD_INTEGER"
        "tooltip_range"       "1000 1650 1800 1950"
      }
      "04"
      {
        "var_type"          "FIELD_INTEGER"
        "fow_range"       "400"
      }      
      "05"
      {
        "var_type"          "FIELD_FLOAT"
        "fow_duration"        "5.94"
      } 
    }
  
    // Data driven
    //-------------------------------------------------------------------------------------------------------------
    "precache"
    {
      "soundfile"           "soundevents/game_sounds_heroes/game_sounds_kunkka.vsndevts"
      "particle"            "particles/units/heroes/hero_kunkka/kunkka_spell_x_spot.vpcf"
    }
  
    "OnUpgrade"
    {
      "RunScript"
      {
        "ScriptFile"        "hero/hero_kunkka.lua"
        "Function"          "LevelUpReturn"
        "ability_name"      "imba_kunkka_return"
      }
    }
  
    "OnSpellStart"
    {
      "ApplyModifier"
      {
        "Target"
        {
          "Center"    "TARGET"
          "Teams"     "DOTA_UNIT_TARGET_TEAM_FRIENDLY"
        }
        "ModifierName"    "modifier_x_marks_the_spot_debuff_datadriven"
        "Duration"      "%allied_duration_tooltip"
      }
    
      "ApplyModifier"
      {
        "Target"
        {
          "Center"    "TARGET"
          "Teams"     "DOTA_UNIT_TARGET_TEAM_ENEMY"
        }
        "ModifierName"    "modifier_x_marks_the_spot_debuff_datadriven"
        "Duration"      "%duration"
      }
    }
  
    "Modifiers"
    {
      "modifier_x_marks_the_spot_debuff_datadriven"
      {
        "IsDebuff"      "1"
        "IsHidden"      "0"
        "IsPurgable"    "0"
    
        "OnCreated"
        {
          "FireSound"
          {
            "Target"          "TARGET"
            "EffectName"        "Ability.XMarksTheSpot.Target"
          }
      
          "AttachEffect"
          {
            "Target"          "TARGET"
            "EffectName"        "particles/units/heroes/hero_kunkka/kunkka_spell_x_spot.vpcf"
            "EffectAttachType"      "start_at_customorigin"
            "ControlPointEntities"
            {
              "TARGET"        "attach_origin"
            }
          }
      
          "RunScript"
          {
            "ScriptFile"        "hero/hero_kunkka.lua"
            "Function"          "x_marks_the_spot_init"
          }

          "RunScript"
          {
            "ScriptFile"   "hero/hero_kunkka.lua"
            "Function"      "transfer_x"

            "duration"      "Duration"
          }
        } 
      
        "OnDestroy"
        {
          "FireSound"
          {
            "Target"          "TARGET"
            "EffectName"        "Ability.XMarksTheSpot.Return"
          }
      
          "RunScript"
          {
            "ScriptFile"        "hero/hero_kunkka.lua"
            "Function"          "x_marks_the_spot_return"
          }
        }
      }

      "modifier_x_marks_the_spot_transfered_datadriven"
      {
        "IsDebuff"      "1"
        "IsHidden"      "0"
        "IsPurgable"    "0"

        "duration"      "%duration"
    
        "OnCreated"
        {
          "FireSound"
          {
            "Target"          "TARGET"
            "EffectName"        "Ability.XMarksTheSpot.Target"
          }
      
          "AttachEffect"
          {
            "Target"          "TARGET"
            "EffectName"        "particles/units/heroes/hero_kunkka/kunkka_spell_x_spot.vpcf"
            "EffectAttachType"      "start_at_customorigin"
            "ControlPointEntities"
            {
              "TARGET"        "attach_origin"
            }
          }
          "RunScript"
          {
            "ScriptFile"        "hero/hero_kunkka.lua"
            "Function"          "x_marks_the_spot_transfer_init"
          }

          "RunScript"
          {
            "ScriptFile"   "hero/hero_kunkka.lua"
            "Function"      "transfer_x"
          }
        } 
      
        "OnDestroy"
        {
          "FireSound"
          {
            "Target"          "TARGET"
            "EffectName"        "Ability.XMarksTheSpot.Return"
          }
      
          "RunScript"
          {
            "ScriptFile"        "hero/hero_kunkka.lua"
            "Function"          "x_marks_the_spot_transfer_return"
          }
        }
      }
    }
  }

  //=================================================================================================================
  // lion : impale
  //=================================================================================================================
  "imba_lion_impale"
    {
    // General
    //-------------------------------------------------------------------------------------------------------------
    "BaseClass"       "ability_datadriven"
    "AbilityBehavior"       "DOTA_ABILITY_BEHAVIOR_POINT | DOTA_ABILITY_BEHAVIOR_UNIT_TARGET | DOTA_ABILITY_BEHAVIOR_IGNORE_BACKSWING"
    "AbilityUnitTargetTeam"     "DOTA_UNIT_TARGET_TEAM_ENEMY"
    "AbilityUnitTargetType"     "DOTA_UNIT_TARGET_HERO | DOTA_UNIT_TARGET_BASIC"
    "AbilityUnitDamageType"     "DAMAGE_TYPE_MAGICAL" 
    "SpellImmunityType"       "SPELL_IMMUNITY_ENEMIES_NO"
    "FightRecapLevel"       "1"
    "AbilityTextureName"      "lion_impale"

    // Precache
    //-------------------------------------------------------------------------------------------------------------
    "precache"
    {
      "soundfile"     "soundevents/game_sounds_heroes/game_sounds_lion.vsndevts"
      "particle"      "particles/units/heroes/hero_lion/lion_spell_impale.vpcf"
    }

    // Casting
    //-------------------------------------------------------------------------------------------------------------
    "AbilityCastRange"        "650"
    "AbilityCastPoint"        "0.3 0.3 0.3 0.3"
  
    // Time   
    //-------------------------------------------------------------------------------------------------------------
    "AbilityCooldown"       "12.0 12.0 12.0 12.0"

    // Cost
    //-------------------------------------------------------------------------------------------------------------
    "AbilityManaCost"       "100 120 145 170"
  
    // Damage.
    //-------------------------------------------------------------------------------------------------------------
    "AbilityDamage"         "90 160 210 270"
  
    // Special
    //-------------------------------------------------------------------------------------------------------------
    "AbilitySpecial"
    {
      "01"
      {
        "var_type"      "FIELD_INTEGER"
        "width"       "325 425 525 625"
      }
      "02"
      { 
        "var_type"      "FIELD_FLOAT"
        "duration"      "1.02 1.52 2.02 2.52"
      }
      "03"
      {
        "var_type"      "FIELD_INTEGER"
        "length"      "1500"
      }
      "04"
      {
        "var_type"      "FIELD_INTEGER"
        "speed"       "1700 1700 2000 2500"
      }
      // Extra variables
      "05"
      {
        "var_type"      "FIELD_FLOAT"
        "air_time"      "0.52"
      }
    }

    "OnSpellStart"
    {
      "FireSound"
      {
        "EffectName"  "Hero_Lion.Impale"
        "Target"    "CASTER"
      }

      "LinearProjectile"
      {
        "Target"      "POINT"
        "EffectName"    "particles/units/heroes/hero_lion/lion_spell_impale.vpcf"
        "StartRadius"   "%width"
        "EndRadius"     "%width"
        "MoveSpeed"     "%speed"
        "TargetTeams"   "DOTA_UNIT_TARGET_TEAM_ENEMY"
        "TargetTypes"   "DOTA_UNIT_TARGET_HERO | DOTA_UNIT_TARGET_BASIC"
        "FixedDistance"   "%length"
        "ProvidesVision"  "0"
        "HasFrontalCone"  "0"
      }
    }

    "OnProjectileHitUnit"
    {
      "DeleteOnHit"   "0"

      "FireSound"
      { 
        "EffectName"  "Hero_Lion.ImpaleHitTarget"
        "Target"    "TARGET"
      }

      "RemoveModifier"
      {
        "ModifierName"  "modifier_knockback"
        "Target"    "TARGET"
      }

      "Knockback"
      {
        "Target"  "TARGET"
        "Center"  "CASTER"
        "Distance"  "0"
        "Duration"  "%air_time"
        "Height"  "200"
        "IsFixedDistance" "1"
      }

      "DelayedAction"
      {
        "Delay"   "%air_time"

        "Action"
        {
          "FireSound"
          {
            "EffectName"  "Hero_Lion.ImpaleTargetLand"
            "Target"    "TARGET"
          }

          "Stun"
          {
            "Target"    "TARGET"
            "Duration"    "%duration"
          }

          "Damage"
          {
            "Target"    "TARGET"
            "Type"      "DAMAGE_TYPE_MAGICAL"
            "Damage"    "%AbilityDamage"
          }
        }
      }
    }
  }


  //=================================================================================================================
  // lion : hex
  //=================================================================================================================
  "imba_lion_voodoo"
  {
    // General
    //-------------------------------------------------------------------------------------------------------------
    "BaseClass"       "ability_datadriven"
    "AbilityBehavior"       "DOTA_ABILITY_BEHAVIOR_UNIT_TARGET"
    "AbilityUnitTargetTeam"     "DOTA_UNIT_TARGET_TEAM_ENEMY"
    "AbilityUnitTargetType"     "DOTA_UNIT_TARGET_HERO | DOTA_UNIT_TARGET_BASIC"
    "SpellImmunityType"       "SPELL_IMMUNITY_ENEMIES_NO"
    "FightRecapLevel"       "1"
    "AbilityTextureName"      "lion_voodoo"

    // Precache
    //-------------------------------------------------------------------------------------------------------------
    "precache"
    {
      "soundfile"     "soundevents/game_sounds_heroes/game_sounds_lion.vsndevts"
      "particle"      "particles/units/heroes/hero_lion/lion_spell_voodoo.vpcf"
      "model"         "models/props_gameplay/mango.vmdl"
    }
  
    // Casting
    //-------------------------------------------------------------------------------------------------------------
    "AbilityCastRange"        "500"
    "AbilityCastPoint"        "0 0 0 0"

    // Time   
    //-------------------------------------------------------------------------------------------------------------
    "AbilityCooldown"       "30.0 24.0 18.0 12.0"

    // Cost
    //-------------------------------------------------------------------------------------------------------------
    "AbilityManaCost"       "125 150 175 200"
  
    // Special
    //-------------------------------------------------------------------------------------------------------------
    "AbilitySpecial"
    {
      "01"
      {
        "var_type"          "FIELD_FLOAT"
        "duration"          "2.5 3 3.5 4"
      }
      "02"
      {
        "var_type"          "FIELD_INTEGER"
        "movespeed"         "140"
      }
    }

    "OnSpellStart"
    {
      "FireSound"
      {
        "EffectName"  "Hero_Lion.Voodoo"
        "Target"    "TARGET"
      }

      "FireSound"
      {
        "EffectName"  "Hero_Lion.Hex.Target"
        "Target"    "TARGET"
      }

      "FireEffect"
      {
        "EffectName"  "particles/units/heroes/hero_lion/lion_spell_voodoo.vpcf"
        "EffectAttachType"  "follow_origin"
        "Target"    "TARGET"
      }

      "RunScript"
      {
        "ScriptFile"  "hero/hero_lion.lua"
        "Function"    "voodoo_start"
        "Target"      "TARGET"
      }
    }
  }


  //=================================================================================================================
  // lion : mana drain
  //=================================================================================================================
  "imba_lion_mana_drain"
  {
    // General
    //-------------------------------------------------------------------------------------------------------------
    "BaseClass"       "ability_datadriven"
    "AbilityBehavior"       "DOTA_ABILITY_BEHAVIOR_UNIT_TARGET | DOTA_ABILITY_BEHAVIOR_CHANNELLED | DOTA_ABILITY_BEHAVIOR_IGNORE_BACKSWING"
    "AbilityUnitTargetTeam"     "DOTA_UNIT_TARGET_TEAM_ENEMY"
    "AbilityUnitTargetType"     "DOTA_UNIT_TARGET_HERO | DOTA_UNIT_TARGET_BASIC"
    "AbilityUnitTargetFlags"    "DOTA_UNIT_TARGET_FLAG_FOW_VISIBLE"
    "SpellImmunityType"       "SPELL_IMMUNITY_ENEMIES_NO"
    "AbilityTextureName"      "lion_mana_drain"

    // Precache
    //-------------------------------------------------------------------------------------------------------------
    "precache"
    {
      "soundfile"     "soundevents/game_sounds_heroes/game_sounds_lion.vsndevts"
      "particle"      "particles/units/heroes/hero_lion/lion_spell_mana_drain.vpcf"
    }
  
    // Casting
    //-------------------------------------------------------------------------------------------------------------
    "AbilityCastRange"        "1550"
    "AbilityCastPoint"        "0.3 0.3 0.3 0.3"
    "AbilityChannelTime"        "5.1"

    // Time   
    //-------------------------------------------------------------------------------------------------------------
    "AbilityCooldown"       "20.0 15.0 10.0 5.0"

    // Cost
    //-------------------------------------------------------------------------------------------------------------
    "AbilityManaCost"       "10 10 10 10"
  
    // Stats
    //-------------------------------------------------------------------------------------------------------------
    "AbilityModifierSupportValue" "5.0" // better then the mana cost implies

    // Special
    //-------------------------------------------------------------------------------------------------------------
    "AbilitySpecial"
    {
      "01"
      {
        "var_type"          "FIELD_FLOAT"
        "duration"          "8.0"
      }
      "02"
      {
        "var_type"          "FIELD_INTEGER"
        "mana_per_second"     "50 80 120 180"
      }
      "03"
      {
        "var_type"          "FIELD_INTEGER"
        "break_distance"      "1500"
      }
      "04"
      {
        "var_type"          "FIELD_FLOAT"
        "illusion_kill_time"    "0.25"
      }
      "05"
      {
        "var_type"          "FIELD_FLOAT"
        "tick_interval"       "0.25"
      }
    }

    "OnSpellStart"
    {
      "FireSound"
      {
        "EffectName"  "Hero_Lion.ManaDrain"
        "Target"    "TARGET"
      }

      "ApplyModifier"
      {
        "ModifierName"    "modifier_mana_drain_datadriven"
        "Target"      "TARGET"
      }
    }

    "OnChannelInterrupted"
    {
      "RunScript"
      {
        "ScriptFile"  "hero/hero_lion.lua"
        "Function"    "mana_drain_stop_sound"
        "sound"     "Hero_Lion.ManaDrain"
      }

      "RemoveModifier"
      {
        "ModifierName"    "modifier_mana_drain_datadriven"
        "Target"      "TARGET"
      }
    }

    "OnChannelFinish"
    {
      "RunScript"
      {
        "ScriptFile"  "hero/hero_lion.lua"
        "Function"    "mana_drain_stop_sound"
        "sound"     "Hero_Lion.ManaDrain"
      }

      "RemoveModifier"
      {
        "ModifierName"    "modifier_mana_drain_datadriven"
        "Target"      "TARGET"
      }
    }

    "Modifiers"
    {
      "modifier_mana_drain_datadriven"
      {
        "IsDebuff"  "1"
        "Duration"  "%duration"

        "OnCreated"
        {
          "AttachEffect"
          {
            "EffectName"  "particles/units/heroes/hero_lion/lion_spell_mana_drain.vpcf"
            "EffectAttachType"  "start_at_customorigin"
            "Target"    "TARGET"

            "ControlPointEntities"
            {
              "TARGET"  "attach_hitloc"
              "CASTER"  "attach_hitloc"
            }
          }
        }

        "ThinkInterval" "%tick_interval"

        "OnIntervalThink"
        {
          "RunScript"
          {
            "ScriptFile"  "hero/hero_lion.lua"
            "Function"    "mana_drain"
          }
        }
      }
    }
  }


  //=================================================================================================================
  // lion : finger of death
  //=================================================================================================================
  "imba_lion_finger_of_death"
  {
    // General
    //-------------------------------------------------------------------------------------------------------------
    "BaseClass"       "ability_datadriven"
    "AbilityType"         "DOTA_ABILITY_TYPE_ULTIMATE"
    "AbilityBehavior"       "DOTA_ABILITY_BEHAVIOR_UNIT_TARGET | DOTA_ABILITY_BEHAVIOR_AOE"
    "AbilityUnitTargetTeam"     "DOTA_UNIT_TARGET_TEAM_ENEMY"
    "AbilityUnitTargetType"     "DOTA_UNIT_TARGET_HERO | DOTA_UNIT_TARGET_BASIC"
    "AbilityUnitDamageType"     "DAMAGE_TYPE_MAGICAL" 
    "SpellImmunityType"       "SPELL_IMMUNITY_ENEMIES_NO"
    "FightRecapLevel"       "2"
    "AbilityTextureName"      "lion_finger_of_death"

    // Precache
    //-------------------------------------------------------------------------------------------------------------
    "precache"
    {
      "soundfile"     "soundevents/game_sounds_heroes/game_sounds_lion.vsndevts"
      "particle"      "particles/units/heroes/hero_lion/lion_spell_finger_of_death.vpcf"
    }
  
    // Casting
    //-------------------------------------------------------------------------------------------------------------
    "AbilityCastRange"        "900"
    "AbilityCastPoint"        "0.3 0.3 0.3"

    // Time   
    //-------------------------------------------------------------------------------------------------------------
    "AbilityCooldown"       "160.0 100.0 40.0"

    // Cost
    //-------------------------------------------------------------------------------------------------------------
    "AbilityManaCost"       "200 420 650"
  
    // Stats
    //-------------------------------------------------------------------------------------------------------------
    "AbilityModifierSupportValue" "0.0" // Modifier just delays damage

    // Special
    //-------------------------------------------------------------------------------------------------------------
    "AbilitySpecial"
    {
      "01"
      {
        "var_type"          "FIELD_INTEGER"
        "damage"          "600 725 850"
      } 
      "02"
      {
        "var_type"          "FIELD_INTEGER"
        "damage_scepter"      "725 875 1025"
      }
      "03"
      {
        "var_type"          "FIELD_INTEGER"
        "mana_cost_scepter"     "200 420 625"
      }
      "04"
      { 
        "var_type"          "FIELD_FLOAT"
        "damage_delay"        "0.25"
      }
      "05"
      {
        "var_type"          "FIELD_FLOAT"
        "cooldown_scepter"      "100.0 60.0 20.0"
      }
      "06"
      {
        "var_type"          "FIELD_FLOAT"
        "splash_radius_scepter"   "200"
      }
      "07"
      {
        "var_type"           "FIELD_FLOAT"
        "hex_radius"         "400"
      }
      "08"
      {
        "var_type"            "FIELD_FLOAT"
        "hex_radius_scepter"         "800"
      }
      "09"
      {
        "var_type"          "FIELD_FLOAT"
        "duration"          "2.5 3 3.5"
      }
    }

    "OnSpellStart"
    {
      "FireSound"
      { 
        "EffectName"  "Hero_Lion.FingerOfDeath"
        "Target"    "CASTER"
      }

      "FireSound"
      {
        "EffectName"  "Hero_Lion.FingerOfDeathImpact"
        "Target"    "TARGET"
      }

      "FireEffect"
      {
        "EffectName"  "particles/units/heroes/hero_lion/lion_spell_finger_of_death.vpcf"
        "EffectAttachType"  "start_at_customorigin"
      

        "ControlPointEntities"
        {
          "CASTER"  "attach_attack1"
          "TARGET"  "attach_hitloc"
        }
      }

      "ApplyModifier"
      {
        "ModifierName"    "modifier_finger_of_death_datadriven"
        "Target"      "TARGET"
      }
    }

    "Modifiers"
    {
      "modifier_finger_of_death_datadriven"
      {
        "IsHidden"  "1"
        "Duration"  "%damage_delay"

        "OnDestroy"
        {
          "Damage"
          {
            "Target"  "TARGET"
            "Type"    "DAMAGE_TYPE_MAGICAL"
            "Damage"  "%damage"
          }

          "RunScript"
          {
            "ScriptFile"   "hero/hero_lion.lua"
            "Function"     "finger_hex"

            "Target"       "TARGET"
            "Duration"     "%duration"
          }
        }
      }
    }
  }

  //=================================================================================================================
  // Furion: Sprout 
  //=================================================================================================================
  "imba_furion_sprout"
  {
    // General
    //-------------------------------------------------------------------------------------------------------------
    "BaseClass"       "ability_datadriven"
    "AbilityBehavior"       "DOTA_ABILITY_BEHAVIOR_UNIT_TARGET | DOTA_ABILITY_BEHAVIOR_POINT"
    "FightRecapLevel"       "1"
    "AbilityTextureName"      "furion_sprout"
  
    // Unit Targeting
    //-------------------------------------------------------------------------------------------------------------
    "AbilityUnitTargetTeam"     "DOTA_UNIT_TARGET_TEAM_BOTH"
    "AbilityUnitTargetType"     "DOTA_UNIT_TARGET_HERO | DOTA_UNIT_TARGET_BASIC"
    "AbilityUnitTargetFlags"    "DOTA_UNIT_TARGET_FLAG_NOT_ANCIENTS"

    // Stats
    //-------------------------------------------------------------------------------------------------------------
    "AbilityCastRange"        "600 700 800 900"
    "AbilityCastPoint"        "0.5 0.5 0.5 0.5"
    "AbilityCooldown"       "11 10 9 8"
    "AbilityManaCost"       "100 120 140 160"
  
    // Special
    //-------------------------------------------------------------------------------------------------------------
    "AbilitySpecial"
    {
      "01"
      {
        "var_type"        "FIELD_INTEGER"
        "vision_range"      "900"
      }
      "02"
      {
        "var_type"        "FIELD_FLOAT"
        "duration"        "3.0 3.75 4.5 5.25"
      }
      "03"
      {
        "var_type"        "FIELD_INTEGER"
        "radius_a"          "100 100 100 100"
      }
      "04"
      {
        "var_type"        "FIELD_INTEGER"
        "radius_B"          "300 300 300 300"
      }
      "05"
      {
        "var_type"        "FIELD_INTEGER"
        "radius_C"          "500 500 500 500"
      }
    }

    "OnSpellStart"
    {
      "RunScript"
      {
        "ScriptFile"  "hero/hero_furion.lua"
        "Function"    "furion_sprout"
        "target"       "POINT"
      }
    }
  }
    
  //=================================================================================================================
  // Furion: Teleportation Lua
  //=================================================================================================================
  "imba_furion_teleportation"
  {
    // General
    //-------------------------------------------------------------------------------------------------------------
    "BaseClass"             "ability_datadriven"
    "AbilityBehavior"       "DOTA_ABILITY_BEHAVIOR_POINT | DOTA_ABILITY_BEHAVIOR_NORMAL_WHEN_STOLEN | DOTA_ABILITY_BEHAVIOR_ROOT_DISABLES"
    "AbilityTextureName"    "furion_teleportation"

    // Stats
    //-------------------------------------------------------------------------------------------------------------
    "AbilityCastRange"        "25000" // ?? global
    "AbilityCastPoint"        "3 3 3 3"
    "AbilityCooldown"       "50 40 30 20"
    "AbilityManaCost"       "50 50 50 50"

    "precache"
    {
      "particle"  "particles/units/heroes/hero_furion/furion_teleport_end.vpcf"
      "particle"  "particles/units/heroes/hero_furion/furion_teleport_end_team.vpcf"
      "particle"  "particles/units/heroes/hero_furion/furion_teleport.vpcf"
      "particle"  "particles/units/heroes/hero_furion/furion_teleport_e.vpcf" //Endcap if canceled
      "soundfile" "soundevents/game_sounds_heroes/game_sounds_furion.vsndevts"
    }

    "OnAbilityPhaseStart"
    {
      "ApplyModifier"
      {
        "ModifierName"  "modifier_teleportation"
        "Target"    "CASTER"
        "Duration"    "3"
      }

      "FireSound"
      {
        "EffectName"  "Hero_Furion.Teleport_Grow"
        "Target"    "CASTER"
      }

      "RunScript"
      {
        "ScriptFile"  "hero/hero_furion.lua"
        "Function"    "CreateTeleportParticles"
        "Target"    "POINT"
      }
    }

    "OnSpellStart"
    {
      "FireSound"
      {
        "EffectName"  "Hero_Furion.Teleport_Disappear"
        "Target"    "CASTER"
      }

      "RunScript"
      {
        "ScriptFile"  "hero/hero_furion.lua"
        "Function"    "Teleport"
        "Target"    "POINT"
      }

      "FireSound"
      {
        "EffectName"  "Hero_Furion.Teleport_Appear"
        "Target"    "CASTER"
      }

      "RunScript"
      {
        "ScriptFile"  "hero/hero_furion.lua"
        "Function"    "createillusion"
      }
    }

    "Modifiers"
    {
      "modifier_teleportation"
      {
        "IsHidden"      "0"
  
        "EffectName"    "particles/units/heroes/hero_furion/furion_teleport.vpcf"
        "EffectAttachType"  "follow_origin"

        "OnOrder"
        {
          "FireSound"
          {
            "EffectName"  "Hero_Furion.Teleport_Disappear"
            "Target"    "CASTER"
          }

          "RunScript"
          {
            "ScriptFile"  "hero/hero_furion.lua"
            "Function"    "EndTeleport"
          }

          "RemoveModifier"
          {
            "ModifierName"  "modifier_teleportation"
            "Target"    "CASTER"
          }
        }
      }
    }
  }
  
  //=================================================================================================================
  // Furion: Force of Nature Lua
  //=================================================================================================================
  "imba_furion_force_of_nature"
  {
    // General
    //-------------------------------------------------------------------------------------------------------------
    "BaseClass"               "ability_datadriven"
    "AbilityBehavior"         "DOTA_ABILITY_BEHAVIOR_POINT | DOTA_ABILITY_BEHAVIOR_AOE"
    "AbilityTextureName"      "furion_force_of_nature"
  
    // Stats
    //-------------------------------------------------------------------------------------------------------------
    "AbilityCastRange"        "750"
    "AbilityCastPoint"        "0.5 0.5 0.5 0.5"
    "AbilityCooldown"       "37 37 37 37"
    "AbilityManaCost"       "160 160 160 160"
    "AOERadius"             "%area_of_effect"
    
    // Special
    //-------------------------------------------------------------------------------------------------------------
    "AbilitySpecial"
    {
      "01"
      {
        "var_type"        "FIELD_INTEGER"
        "area_of_effect"    "300 450 500 600"
      }
      "02"
      {
        "var_type"        "FIELD_INTEGER"
        "max_treants"     "5 8 10 12"
      }
      "03"
      {
        "var_type"        "FIELD_FLOAT"
        "duration"        "60 60 60 60"
      }

      // If this is set to 1, the spell wont go on cooldown and waste mana if cast on a position with no trees
      "04"
      {  
        "var_type"        "FIELD_INTEGER"
        "check_trees_precast" "1"
      }
    }

    "precache"
    {
      "particle"  "particles/units/heroes/hero_furion/furion_force_of_nature_cast.vpcf"
      "soundfile" "soundevents/game_sounds_heroes/game_sounds_furion.vsndevts"
      "model"   "models/heroes/furion/treant.vmdl"
    }

    "OnAbilityPhaseStart"
    {
      "RunScript"
      {
        "ScriptFile"  "hero/hero_furion.lua"
        "Function"    "CheckTrees"
        "Target"    "POINT"
      }
    }

    "OnSpellStart"
    {    
      "RunScript"
      {
        "ScriptFile"  "hero/hero_furion.lua"
        "Function"    "ForceOfNature"
        "Target"    "POINT"
        "UnitName"    "npc_dota_furion_treant"
      }  

      "DestroyTrees"
      {
        "Target"    "POINT"
        "Radius"    "%area_of_effect"
      }

      "FireSound"
      {
        "EffectName"  "Hero_Furion.ForceOfNature"
        "Target"    "CASTER"
      }                 
    }
  }
  
  //=================================================================================================================
  // Furion: Wrath of Nature
  //=================================================================================================================
  "imba_furion_wrath_of_nature"
  {
    // General
    //-------------------------------------------------------------------------------------------------------------
    "BaseClass"       "ability_datadriven"
    "AbilityBehavior"       "DOTA_ABILITY_BEHAVIOR_UNIT_TARGET | DOTA_ABILITY_BEHAVIOR_POINT"
    "AbilityType"         "DOTA_ABILITY_TYPE_ULTIMATE"
    "AbilityUnitTargetFlags"    "DOTA_UNIT_TARGET_FLAG_MAGIC_IMMUNE_ENEMIES"
    "SpellImmunityType"       "SPELL_IMMUNITY_ENEMIES_YES"
    "AbilityUnitDamageType"     "DAMAGE_TYPE_MAGICAL"
    "FightRecapLevel"       "2"
    "AbilityTextureName"      "furion_wrath_of_nature"
  
    // Unit Targeting
    //-------------------------------------------------------------------------------------------------------------
    "AbilityUnitTargetTeam"     "DOTA_UNIT_TARGET_TEAM_ENEMY"
    "AbilityUnitTargetType"     "DOTA_UNIT_TARGET_HERO | DOTA_UNIT_TARGET_CREEP"
  
    // Stats
    //-------------------------------------------------------------------------------------------------------------
    "AbilityCastRange"        "0"
    "AbilityCastPoint"        "0.5 0.5 0.5"
    "AbilityCooldown"       "90 75 60"
    "AbilityManaCost"       "175 225 275"
    
    // Special
    //-------------------------------------------------------------------------------------------------------------
    "AbilitySpecial"
    {
      "01"
      {
        "var_type"        "FIELD_INTEGER"
        "max_targets"     "16 16 16"
      }
      "02"
      { 
        "var_type"        "FIELD_INTEGER"
        "damage"        "140 180 225"
      }
      "03"
      {
        "var_type"        "FIELD_INTEGER"
        "damage_percent_add"  "7"
      }
      "04"
      {
        "var_type"        "FIELD_FLOAT"
        "jump_delay"      "0.25"
      }
      "05"
      {
        "var_type"        "FIELD_INTEGER"
        "max_targets_scepter" "18 18 18"
      }
      "06"
      {
        "var_type"        "FIELD_INTEGER"
        "damage_scepter"    "155 210 275"
      }
    }

    "precache"
    { 
      "particle"  "particles/units/heroes/hero_furion/furion_wrath_of_nature.vpcf"
      "particle"  "particles/units/heroes/hero_furion/furion_wrath_of_nature_cast.vpcf"
      "soundfile" "soundevents/game_sounds_heroes/game_sounds_furion.vsndevts"
    }

    "OnAbilityPhaseStart"
    {
      "FireEffect"
      {
        "EffectName"        "particles/units/heroes/hero_furion/furion_wrath_of_nature_cast.vpcf"
        "EffectAttachType"  "follow_origin"
        "Target"            "CASTER"
        "ControlPointEntities"
        {
          "CASTER"  "attach_origin"
          "CASTER"  "attach_hitloc" //attach_weapon in furion.vmdl
        }
      }
      "FireSound"
      {
        "EffectName"  "Hero_Furion.WrathOfNature_Cast.Self"
        "Target"    "CASTER"
      }
    }

    "OnSpellStart"
    {
      "CreateThinker"
      {
        "ModifierName"  "modifier_wrath_of_nature_thinker"
        "Target"    "POINT"
      }
    }

    "Modifiers"
    {
      "modifier_wrath_of_nature_thinker"
      {
        "IsHidden"      "1"
        "OnCreated"
        {
          "RunScript"
          {
            "ScriptFile"  "hero/hero_furion.lua"
            "Function"    "WrathOfNature"
            "target"      "POINT"
          }
        }  
      }
    }
  }

  //=================================================================================================================
  // Wisp: empty spell 1
  //=================================================================================================================

  "imba_wisp_empty1"
  {
    // General
    //-------------------------------------------------------------------------------------------------------------
    "BaseClass"       "ability_datadriven"
    "AbilityBehavior"       "DOTA_ABILITY_BEHAVIOR_PASSIVE | DOTA_ABILITY_BEHAVIOR_NOT_LEARNABLE"
    "MaxLevel"            "0"
  }
  
  //=================================================================================================================
  // Wisp: empty spell 2
  //=================================================================================================================
  "imba_wisp_empty2"
  {
    // General
    //-------------------------------------------------------------------------------------------------------------
    "BaseClass"       "ability_datadriven"
    "AbilityBehavior"       "DOTA_ABILITY_BEHAVIOR_PASSIVE | DOTA_ABILITY_BEHAVIOR_NOT_LEARNABLE"
    "MaxLevel"            "0"
  }

  //=================================================================================================================
  // Wisp: overcharge
  //=================================================================================================================
  
  "imba_wisp_overcharge"
  {
    // General
    //-------------------------------------------------------------------------------------------------------------
    "BaseClass"       "ability_datadriven"
    "AbilityBehavior"       "DOTA_ABILITY_BEHAVIOR_NO_TARGET | DOTA_ABILITY_BEHAVIOR_TOGGLE"
    "AbilityTextureName"      "wisp_overcharge"
  
    // Casting
    //-------------------------------------------------------------------------------------------------------------
    "AbilityCastPoint"        "0 0 0 0"
  
    // Time   
    //-------------------------------------------------------------------------------------------------------------
    "AbilityCooldown"       "2.0"
  
    // Special
    //-------------------------------------------------------------------------------------------------------------
    "AbilitySpecial"
    {
      "01"
      {
        "var_type"          "FIELD_INTEGER"
        "bonus_attack_speed"    "100 110 120 130"
      }
      "02"
      {
        "var_type"          "FIELD_INTEGER"
        "bonus_damage_pct"      "-5 -10 -15 -20"
      }
      "03"
      {
        "var_type"          "FIELD_FLOAT"
        "drain_interval"      "0.2 0.2 0.2 0.2"
      }
      "04"
      {
        "var_type"          "FIELD_FLOAT"
        "drain_pct"         "0.120 0.120 0.120 0.120"
      }
      "05"
      {
        "var_type"          "FIELD_FLOAT"
        "drain_pct_tooltip"     "12.0 12.0 12.0 12.0"
      }
    }
    
    // Data driven
    //-------------------------------------------------------------------------------------------------------------
    "precache"
    {
      "soundfile"         "soundevents/game_sounds_heroes/game_sounds_wisp.vsndevts"
      "particle"          "particles/units/heroes/hero_wisp/wisp_overcharge.vpcf"
    }
    
    "OnToggleOn"
    {
      "ApplyModifier"
      {
        "ModifierName"  "modifier_overcharge_drain_datadriven"
        "Target"    "CASTER"
      }
      
      "ApplyModifier"
      {
        "ModifierName"  "modifier_overcharge_check_tether_datadriven"
        "Target"    "CASTER"
      }
      
      "ApplyModifier"
      {
        "ModifierName"  "modifier_overcharge_buff_datadriven"
        "Target"    "CASTER"
      }
    }
    
    "OnToggleOff"
    {
      "RemoveModifier"
      {
        "ModifierName"  "modifier_overcharge_drain_datadriven"
        "Target"    "CASTER"
      }
      
      "RemoveModifier"
      {
        "ModifierName"  "modifier_overcharge_check_tether_datadriven"
        "Target"    "CASTER"
      }
      
      "RemoveModifier"
      {
        "ModifierName"  "modifier_overcharge_buff_datadriven"
        "Target"    "CASTER"
      }
    }
    
    "Modifiers"
    {
      "modifier_overcharge_drain_datadriven"
      {
        "IsHidden"  "1"
      
        "OnCreated"
        {
          "FireSound"
          {
            "EffectName"  "Hero_Wisp.Overcharge"
            "Target"    "CASTER"
          }
        }
        
        "OnDestroy"
        {
          "RunScript"
          {
            "ScriptFile"    "hero/hero_wisp.lua"
            "Function"      "StopSound"
            "sound_name"    "Hero_Wisp.Overcharge"
          }
        }
        
        "ThinkInterval"   "%drain_interval"
        "OnIntervalThink"
        {
          "RunScript"
          {
            "ScriptFile"    "hero/hero_wisp.lua"
            "Function"      "TickDrain"
            
            "drain_interval"  "%drain_interval"
            "drain_pct"     "%drain_pct"
          }
        }
      }
      
      "modifier_overcharge_check_tether_datadriven"
      {
        "IsHidden"  "1"
        
        "OnCreated"
        {
          "RunScript"
          {
            "ScriptFile"    "hero/hero_wisp.lua"
            "Function"      "GrabTetherAbility"
            
            "tether_ability_name" "imba_wisp_tether"
          }
          
          "RunScript"
          {
            "ScriptFile"    "hero/hero_wisp.lua"
            "Function"      "CheckTetheredAlly"
            
            "tether_ally_property_name"   "tether_ally"   // We can access the tethered ally through "tether_ability[tether_ally_property_name]"
            "buff_modifier"         "modifier_overcharge_buff_datadriven"
          }
        }
        
        "ThinkInterval"   "0.03"
        "OnIntervalThink"
        {
          "RunScript"
          {
            "ScriptFile"    "hero/hero_wisp.lua"
            "Function"      "CheckTetheredAlly"
            
            "tether_ally_property_name"   "tether_ally"
            "buff_modifier"         "modifier_overcharge_buff_datadriven"
          }
        }
        
        "OnDestroy"
        {
          "RunScript"
          {
            "ScriptFile"    "hero/hero_wisp.lua"
            "Function"      "RemoveOverchargeFromAlly"
            
            "buff_modifier"   "modifier_overcharge_buff_datadriven"
          }
        }
      }
    
      "modifier_overcharge_buff_datadriven"
      {
        "IsBuff"  "1"
        "Duration"  "-1"
        
        "OnCreated"
        {
          "AttachEffect"
          {
            "EffectName"    "particles/units/heroes/hero_wisp/wisp_overcharge.vpcf"
            "EffectAttachType"  "attach_hitloc"
            "Target"      "TARGET"
            
            "ControlPointEntities"
            {
              "TARGET"  "attach_hitloc"
            }
          }
        }
        
        "Properties"
        {
          "MODIFIER_PROPERTY_ATTACKSPEED_BONUS_CONSTANT"  "%bonus_attack_speed"
          "MODIFIER_PROPERTY_INCOMING_DAMAGE_PERCENTAGE"  "%bonus_damage_pct"
        }
      }
    }
  }

  //=================================================================================================================
  // Wisp: relocate
  //================================================================================================================= 
  
  "imba_wisp_relocate"
  {
    // General
    //-------------------------------------------------------------------------------------------------------------
    "BaseClass"       "ability_datadriven"
    "AbilityType"         "DOTA_ABILITY_TYPE_ULTIMATE"
    "AbilityBehavior"       "DOTA_ABILITY_BEHAVIOR_POINT"
    "FightRecapLevel"       "1"
    "AbilityTextureName"      "wisp_relocate"
  
    // Casting
    //-------------------------------------------------------------------------------------------------------------
    "AbilityCastPoint"        "0 0 0"
  
    // Time   
    //-------------------------------------------------------------------------------------------------------------
    "AbilityCooldown"       "90.0 75.0 60.0"
  
    // Cost
    //-------------------------------------------------------------------------------------------------------------
    "AbilityManaCost"       "100 100 100"
    
    // Special
    //-------------------------------------------------------------------------------------------------------------
    "AbilitySpecial"
    {
      "01"
      {
        "var_type"          "FIELD_FLOAT"
        "cast_delay"        "2.5 2.25 2.0"
      }
      "02"
      {
        "var_type"          "FIELD_FLOAT"
        "return_time"       "12.0 12.0 12.0"
      }
      // Extra variables
      "03"
      {
        "var_type"          "FIELD_INTEGER"
        "destroy_tree_radius"   "300"
      }
      "04"
      {
        "var_type"          "FIELD_INTEGER"
        "vision_radius"       "64"
      }
      "04"
      {
        "var_type"          "FIELD_FLOAT"
        "extra_tether_duration"   "2.0"
      }
    }
    
    // Data driven
    //-------------------------------------------------------------------------------------------------------------
    "precache"
    {
      "soundfile"         "soundevents/game_sounds_heroes/game_sounds_wisp.vsndevts"
      "particle"          "particles/units/heroes/hero_wisp/wisp_relocate_channel.vpcf"
      "particle"          "particles/units/heroes/hero_wisp/wisp_relocate_marker.vpcf"
      "particle"          "particles/units/heroes/hero_wisp/wisp_relocate_marker_endpoint.vpcf"
      "particle"          "particles/units/heroes/hero_wisp/wisp_relocate_teleport.vpcf"
      "particle"          "particles/units/heroes/hero_wisp/wisp_relocate_timer.vpcf"
    }
    
    "OnSpellStart"
    {
      "FireSound"
      {
        "EffectName"    "Hero_Wisp.Relocate"
        "Target"      "CASTER"
      }
      
      "RunScript"
      {
        "ScriptFile"    "hero/hero_wisp.lua"
        "Function"      "CastRelocate"
        "Target"      "POINT"
        
        "tether_ability"        "imba_wisp_tether"
        "tether_modifier"       "modifier_tether_caster_datadriven"
        "tether_ally_property_name"   "tether_ally"   // We can access the tethered ally through "tether_ability[tether_ally_property_name]"
        "tether_ally_modifier"      "modifier_tether_ally_datadriven"
      }
      
      "ApplyModifier"
      {
        "ModifierName"    "modifier_relocate_channel_datadriven"
        "Target"      "CASTER"
      }
    }
    
    "Modifiers"
    {
      "modifier_relocate_channel_datadriven"
      {
        "Duration"  "%cast_delay"
        
        "OnCreated"
        {
          "AttachEffect"
          {
            "EffectName"    "particles/units/heroes/hero_wisp/wisp_relocate_channel.vpcf"
            "EffectAttachType"  "attach_hitloc"
            "Target"      "TARGET"
            
            "ControlPointEntities"
            {
              "TARGET"  "attach_hitloc"
            }
          }
        
          "RunScript"
          {
            "ScriptFile"  "hero/hero_wisp.lua"
            "Function"    "CreateMarkerEndpoint"
            
            "endpoint_particle"   "particles/units/heroes/hero_wisp/wisp_relocate_marker_endpoint.vpcf"
            
            "vision_radius"     "%vision_radius"
            "vision_duration"   "%cast_delay"
          }
        }
        
        "OnStateChanged"
        {
          "RunScript"
          {
            "ScriptFile"    "hero/hero_wisp.lua"
            "Function"      "CheckToInterrupt"
            
            "channel_modifier"  "modifier_relocate_channel_datadriven"
          }
        }
        
        "OnDestroy"
        {
          "RunScript"
          {
            "ScriptFile"  "hero/hero_wisp.lua"
            "Function"    "DestroyMarkerEndpoint"
          }
          
          "RunScript"
          {
            "ScriptFile"  "hero/hero_wisp.lua"
            "Function"    "TryToTeleport"
            
            "timer_modifier"  "modifier_relocate_timer_datadriven"
          }
        }
      }
      
      "modifier_relocate_return_datadriven"
      {
        // Visible from otheres as compared with modifier_relocate_timer_datadriven
      }
      
      "modifier_relocate_timer_datadriven"
      {
        "IsHidden"  "1"
        "Duration"  "%return_time"    // Timer should be hidden
        
        "OnCreated"
        {
          "ApplyModifier"
          {
            "ModifierName"  "modifier_relocate_return_datadriven"
            "Target"    "TARGET"
          }
          
          "RunScript"
          {
            "ScriptFile"  "hero/hero_wisp.lua"
            "Function"    "Teleportation_PreDestroyTree"
            
            "tether_ability"        "imba_wisp_tether"
            "tether_modifier"       "modifier_tether_caster_datadriven"
            "tether_ally_property_name"   "tether_ally"
            "tether_ally_modifier"      "modifier_tether_ally_datadriven"
            "tether_duration"       "%return_time + %extra_tether_duration"
            
            "teleport_particle"   "particles/units/heroes/hero_wisp/wisp_relocate_teleport.vpcf"
          }
          
          "DestroyTrees"
          {
            "Target"    "CASTER"
            "Radius"    "%destroy_tree_radius"
          }
          
          "RunScript"
          {
            "ScriptFile"  "hero/hero_wisp.lua"
            "Function"    "Teleportation_PostDestroyTree"
            
            "return_time"   "%return_time"
            
            "marker_particle" "particles/units/heroes/hero_wisp/wisp_relocate_marker.vpcf"
            "timer_particle"  "particles/units/heroes/hero_wisp/wisp_relocate_timer.vpcf"
          }
          
          "FireSound"
          {
            "EffectName"  "Hero_Wisp.ReturnCounter"
            "Target"    "CASTER"
          }
        }
        
        "ThinkInterval"   "1.0"
        "OnIntervalThink"
        {
          "RunScript"
          {
            "ScriptFile"  "hero/hero_wisp.lua"
            "Function"    "UpdateTimer"
          }
        }
        
        "OnDestroy"
        {
          "RunScript"
          {
            "ScriptFile"  "hero/hero_wisp.lua"
            "Function"    "TryReturningTeleportation"
            
            "returning_modifier"  "modifier_relocate_returning_teleport_datadriven"
          }
          
          "RunScript"
          {
            "ScriptFile"    "hero/hero_wisp.lua"
            "Function"      "StopSound"
            "Target"      "CASTER"
            "sound_name"    "Hero_Wisp.ReturnCounter"
          }
          
          "RemoveModifier"
          {
            "ModifierName"  "modifier_relocate_return_datadriven"
            "Target"    "TARGET"
          }
        }
      }
      
      "modifier_relocate_returning_teleport_datadriven"
      {
        "OnCreated"
        {
          "RunScript"
          {
            "ScriptFile"  "hero/hero_wisp.lua"
            "Function"    "ReturningTeleportation_PreDestroyTree"
            
            "tether_ability"        "imba_wisp_tether"
            "tether_modifier"       "modifier_tether_caster_datadriven"
            "tether_ally_property_name"   "tether_ally"
            
            "teleport_particle"   "particles/units/heroes/hero_wisp/wisp_relocate_teleport.vpcf"
          }
          
          "DestroyTrees"
          {
            "Target"    "CASTER"
            "Radius"    "%destroy_tree_radius"
          }
          
          "RunScript"
          {
            "ScriptFile"  "hero/hero_wisp.lua"
            "Function"    "ReturningTeleportation_PostDestroyTree"
          }
          
          "FireSound"
          {
            "EffectName"  "Hero_Wisp.Return"
            "Target"    "CASTER"
          }
          
          "RemoveModifier"
          {
            "ModifierName"  "modifier_relocate_returning_teleport_datadriven"
            "Target"    "CASTER"
          }
        }
      }
    }
  }
  
  //=================================================================================================================
  // Wisp: spirits
  //=================================================================================================================
  "imba_wisp_spirits"
  {
    // General
    //-------------------------------------------------------------------------------------------------------------
    "BaseClass"       "ability_datadriven"
    "AbilityBehavior"       "DOTA_ABILITY_BEHAVIOR_NO_TARGET"
    "AbilityUnitDamageType"     "DAMAGE_TYPE_MAGICAL" 
    "SpellImmunityType"       "SPELL_IMMUNITY_ENEMIES_NO"
    "AbilityTextureName"      "wisp_spirits"
  
    // Casting
    //-------------------------------------------------------------------------------------------------------------
    "AbilityCastPoint"        "0"
  
    // Time   
    //-------------------------------------------------------------------------------------------------------------
    "AbilityCooldown"       "20.0 18.0 16.0 14.0"
    "AbilityDuration"       "19.0 19.0 19.0 19.0"
  
    // Cost
    //-------------------------------------------------------------------------------------------------------------
    "AbilityManaCost"       "120 130 140 150"
    
    // Special
    //-------------------------------------------------------------------------------------------------------------
    "AbilitySpecial"
    {
      "02"
      {
        "var_type"          "FIELD_INTEGER"
        "creep_damage"        "8 14 20 26"
      }
      "03"
      {
        "var_type"          "FIELD_INTEGER"
        "hero_damage"       "25 50 75 100"
      }
      "04"
      {
        "var_type"          "FIELD_FLOAT"
        "revolution_time"     "3.0 3.0 3.0 3.0"
      }
      "05"
      {
        "var_type"          "FIELD_INTEGER"
        "min_range"         "100 100 100 100"
      }
      "06"
      {
        "var_type"          "FIELD_INTEGER"
        "max_range"         "875 875 875 875"
      }
      "07"
      {
        "var_type"          "FIELD_INTEGER"
        "hero_hit_radius"     "70 70 70 70"
      }
      "08"
      {
        "var_type"          "FIELD_INTEGER"
        "explode_radius"      "300 300 300 300"
      }
      "09"
      {
        "var_type"          "FIELD_INTEGER"
        "hit_radius"        "150 150 150 150"
      }
      "10"
      {
        "var_type"          "FIELD_INTEGER"
        "default_radius"      "150"
      }
      "11"
      {
        "var_type"          "FIELD_INTEGER"
        "spirit_movement_rate"    "1150 1150 1150 1150"
      }
      "12"
      {
        "var_type"          "FIELD_FLOAT"
        "spirit_duration"     "19.0 19.0 19.0 19.0"
      }
      // Extra variables
      "13"
      {
        "var_type"          "FIELD_INTEGER"
        "num_spirits"       "5"
      }
      "14"
      {
        "var_type"          "FIELD_FLOAT"
        "spirit_summon_interval"  "1.0"
      }
      "15"
      {
        "var_type"          "FIELD_FLOAT"
        "spirit_turn_rate"      "150"
      }
      "16"
      {
        "var_type"          "FIELD_FLOAT"
        "vision_duration"     "3.0"
      }
      "17"
      {
        "var_type"          "FIELD_FLOAT"
        "think_interval"      "0.03"
      }
      "18"
      {
        "var_type"          "FIELD_FLOAT"
        "creep_damage_interval"   "0.48"    // == 360 / %spirit_turn_rate / %num_spirits
      }
    }
    
    // Data driven
    //-------------------------------------------------------------------------------------------------------------
    "precache"
    {
      "soundfile"         "soundevents/game_sounds_heroes/game_sounds_wisp.vsndevts"
      "particle"          "particles/units/heroes/hero_wisp/wisp_guardian_.vpcf"
      "particle"          "particles/units/heroes/hero_wisp/wisp_guardian_explosion.vpcf"
      "particle"          "particles/units/heroes/hero_wisp/wisp_guardian_explosion_small.vpcf"
    }
    
    "OnSpellStart"
    {
      "FireSound"
      {
        "EffectName"      "Hero_Wisp.Spirits.Cast"
        "Target"        "CASTER"
      }
      
      "RemoveModifier"
      {
        "ModifierName"      "modifier_spirits_caster_datadriven"
        "Target"        "CASTER"
      }
      
      "ApplyModifier"
      {
        "ModifierName"      "modifier_spirits_caster_datadriven"
        "Target"        "CASTER"
      }
    }
    
    "OnUpgrade"
    {
      "RunScript"
      {
        "ScriptFile"  "hero/hero_wisp.lua"
        "Function"    "LevelUpAbility"
        "ability_name"  "imba_wisp_spirits_in"
      }
      "RunScript"
      {
        "ScriptFile"  "hero/hero_wisp.lua"
        "Function"    "LevelUpAbility"
        "ability_name"  "imba_wisp_spirits_out"
      }
    }
    
    "Modifiers"
    {
      "modifier_spirits_caster_datadriven"
      {
        "Duration"    "%spirit_duration"
      
        "OnCreated"
        {
          "RunScript"
          {
            "ScriptFile"    "hero/hero_wisp.lua"
            "Function"      "CastSpirits"
            
            "default_radius"  "%default_radius"
            
            "empty1_ability"    "imba_wisp_empty1"
            "empty2_ability"    "imba_wisp_empty2"
            "spirits_in_ability"  "imba_wisp_spirits_in"
            "spirits_out_ability" "imba_wisp_spirits_out"
          }
          
          "FireSound"
          {
            "EffectName"    "Hero_Wisp.Spirits.Loop"
            "Target"      "CASTER"
          }
        }
        
        "ThinkInterval"   "%think_interval"
        "OnIntervalThink"
        {
          "RunScript"
          {
            "ScriptFile"    "hero/hero_wisp.lua"
            "Function"      "ThinkSpirits"
            
            "think_interval"      "%think_interval"
            
            "num_spirits"       "%num_spirits"
            "spirit_summon_interval"  "%spirit_summon_interval"
            "spirit_turn_rate"      "%spirit_turn_rate"
            
            "min_range"         "%min_range"
            "max_range"         "%max_range"
            "spirit_movement_rate"    "%spirit_movement_rate"
            
            "caster_modifier"     "modifier_spirits_caster_datadriven"
            
            "spirit_particle_name"    "particles/units/heroes/hero_wisp/wisp_guardian_.vpcf"
            "spirit_modifier"     "modifier_spirits_spirit_datadriven"
          }
        }
        
        "OnDestroy"
        {
          "RunScript"
          {
            "ScriptFile"    "hero/hero_wisp.lua"
            "Function"      "EndSpirits"
            
            "spirit_modifier" "modifier_spirits_spirit_datadriven"
            
            "empty1_ability"    "imba_wisp_empty1"
            "empty2_ability"    "imba_wisp_empty2"
            "spirits_in_ability"  "imba_wisp_spirits_in"
            "spirits_out_ability" "imba_wisp_spirits_out"
          }
          
          "RunScript"
          {
            "ScriptFile"    "hero/hero_wisp.lua"
            "Function"      "StopSound"
            "sound_name"    "Hero_Wisp.Spirits.Loop"
          }
        }
      }
      
      "modifier_spirits_spirit_datadriven"
      {
        "Aura"      "modifier_spirits_creep_damage_datadriven"
        "Aura_Radius" "%hit_radius"
        "Aura_Teams"  "DOTA_UNIT_TARGET_TEAM_ENEMY"
        "Aura_Types"  "DOTA_UNIT_TARGET_BASIC"
        
        "OnCreated"
        {
          "RunScript"
          {
            "ScriptFile"    "hero/hero_wisp.lua"
            "Function"      "OnCreatedSpirit"
            
            "additionalModifier"  "modifier_spirits_spirit_collision_with_hero_datadriven"
          }
        }
      
        "OnDestroy"
        {
          "RemoveModifier"
          {
            "ModifierName"  "modifier_spirits_spirit_collision_with_hero_datadriven"
            "Target"    "TARGET"
          }
        
          "FireEffect"
          {
            "EffectName"    "particles/units/heroes/hero_wisp/wisp_guardian_explosion.vpcf"
            "EffectAttachType"  "attach_origin"
            "Target"      "TARGET"
          }
          
          "FireSound"
          {
            "EffectName"    "Hero_Wisp.Spirits.Destroy"
            "Target"      "TARGET"
          }
          
          "RunScript"
          {
            "ScriptFile"    "hero/hero_wisp.lua"
            "Function"      "OnDestroySpirit"
            "Target"      "TARGET"
            
            "vision_radius"   "%explode_radius"
            "vision_duration" "%vision_duration"
          }
          
          "Damage"
          {
            "Target"
            {
              "Center"    "TARGET"
              "Radius"  "%explode_radius"
              "Teams"   "DOTA_UNIT_TARGET_TEAM_ENEMY"
              "Types"   "DOTA_UNIT_TARGET_HERO | DOTA_UNIT_TARGET_BASIC"
            }
            "Type"      "DAMAGE_TYPE_MAGICAL"
            "Damage"    "%hero_damage"
          }
        }
        
        "States"
        {
          "MODIFIER_STATE_INVULNERABLE"     "MODIFIER_STATE_VALUE_ENABLED"
          "MODIFIER_STATE_NO_HEALTH_BAR"      "MODIFIER_STATE_VALUE_ENABLED"
          "MODIFIER_STATE_NO_UNIT_COLLISION"    "MODIFIER_STATE_VALUE_ENABLED"
          "MODIFIER_STATE_NOT_ON_MINIMAP"     "MODIFIER_STATE_VALUE_ENABLED"
          "MODIFIER_STATE_UNSELECTABLE"     "MODIFIER_STATE_VALUE_ENABLED"
        }
      }
      
      "modifier_spirits_spirit_collision_with_hero_datadriven"
      {
        "Aura"      "modifier_spirits_trigger_explode_datadriven"
        "Aura_Radius" "%hero_hit_radius"
        "Aura_Teams"  "DOTA_UNIT_TARGET_TEAM_ENEMY"
        "Aura_Types"  "DOTA_UNIT_TARGET_HERO"
      }
      
      "modifier_spirits_creep_damage_datadriven"
      {
        "Duration"  "0.03"
        "IsHidden"  "1"
        
        "OnCreated"
        {
          "FireSound"
          {
            "EffectName"    "Hero_Wisp.Spirits.TargetCreep"
            "Target"      "TARGET"
          }
          
          "FireEffect"
          {
            "EffectName"    "particles/units/heroes/hero_wisp/wisp_guardian_explosion_small.vpcf"
            "EffectAttachType"  "attach_hitloc"
            "Target"      "TARGET"
          }
          
          "Damage"
          {
            "Target"    "TARGET"
            "Type"      "DAMAGE_TYPE_MAGICAL"
            "Damage"    "%creep_damage"
          }
        }
        
        "ThinkInterval"   "%creep_damage_interval"
        "OnIntervalThink"
        {
          "FireSound"
          {
            "EffectName"    "Hero_Wisp.Spirits.TargetCreep"
            "Target"      "TARGET"
          }
          
          "FireEffect"
          {
            "EffectName"    "particles/units/heroes/hero_wisp/wisp_guardian_explosion_small.vpcf"
            "EffectAttachType"  "attach_hitloc"
            "Target"      "TARGET"
          }
          
          "Damage"
          {
            "Target"    "TARGET"
            "Type"      "DAMAGE_TYPE_MAGICAL"
            "Damage"    "%creep_damage"
          }
        }
      }
      
      "modifier_spirits_trigger_explode_datadriven"
      {
        "Duration"  "0.03"
        "IsHidden"  "1"
        
        "Attributes"    "MODIFIER_ATTRIBUTE_MULTIPLE"
        
        "OnCreated"
        {
          "RunScript"
          {
            "ScriptFile"  "hero/hero_wisp.lua"
            "Function"    "ExplodeSpirit"
            
            "spirit_modifier" "modifier_spirits_spirit_datadriven"
            "explosion_sound" "Hero_Wisp.Spirits.Target"
          }
        }
      }
    }
  }

  //=================================================================================================================
  // Wisp: spririts in
  //================================================================================================================= 
  "imba_wisp_spirits_in"
  {
    // General
    //-------------------------------------------------------------------------------------------------------------
    "BaseClass"       "ability_datadriven"
    "AbilityBehavior"       "DOTA_ABILITY_BEHAVIOR_NO_TARGET | DOTA_ABILITY_BEHAVIOR_TOGGLE | DOTA_ABILITY_BEHAVIOR_HIDDEN"
    "MaxLevel"            "1"
    "AbilityTextureName"      "wisp_spirits_in"
  
    // Casting
    //-------------------------------------------------------------------------------------------------------------
    "AbilityCastPoint"        "0 0 0 0"
    
    // Data driven
    //-------------------------------------------------------------------------------------------------------------
    "OnToggleOn"
    {
      "RunScript"
      {
        "ScriptFile"  "hero/hero_wisp.lua"
        "Function"    "ToggleOn"
        
        "spirit_movement" "-1"
        "opposite_ability"  "imba_wisp_spirits_out"
      }
    }
    
    "OnToggleOff"
    {
      "RunScript"
      {
        "ScriptFile"  "hero/hero_wisp.lua"
        "Function"    "ToggleOff"
      }
    }
  }
  
  //=================================================================================================================
  // Wisp: spirits out
  //=================================================================================================================
  "imba_wisp_spirits_out"
  {
    // General
    //-------------------------------------------------------------------------------------------------------------
    "BaseClass"       "ability_datadriven"
    "AbilityBehavior"       "DOTA_ABILITY_BEHAVIOR_NO_TARGET | DOTA_ABILITY_BEHAVIOR_TOGGLE | DOTA_ABILITY_BEHAVIOR_HIDDEN"
    "MaxLevel"            "1"
    "AbilityTextureName"      "wisp_spirits_out"
  
    // Casting
    //-------------------------------------------------------------------------------------------------------------
    "AbilityCastPoint"        "0 0 0 0"
    
    // Data driven
    //-------------------------------------------------------------------------------------------------------------
    "OnToggleOn"
    {
      "RunScript"
      {
        "ScriptFile"  "hero/hero_wisp.lua"
        "Function"    "ToggleOn"
        
        "spirit_movement" "1"
        "opposite_ability"  "imba_wisp_spirits_in"
      }
    }
    
    "OnToggleOff"
    {
      "RunScript"
      {
        "ScriptFile"  "hero/hero_wisp.lua"
        "Function"    "ToggleOff"
      }
    }
  }
  
  //=================================================================================================================
  // Wisp: tether break
  //=================================================================================================================
  "imba_wisp_tether_break"
  {
    // General
    //-------------------------------------------------------------------------------------------------------------
    "BaseClass"       "ability_datadriven"
    "AbilityBehavior"       "DOTA_ABILITY_BEHAVIOR_HIDDEN | DOTA_ABILITY_BEHAVIOR_NO_TARGET"
    "MaxLevel"            "1"
    "AbilityTextureName"      "wisp_tether_break"
  
    // Casting
    //-------------------------------------------------------------------------------------------------------------
    "AbilityCastPoint"        "0 0 0 0"
  
    // Time   
    //-------------------------------------------------------------------------------------------------------------
    "AbilityCooldown"       "1.0 1.0 1.0 1.0"
    
    // Data driven
    //-------------------------------------------------------------------------------------------------------------
    "OnSpellStart"
    {
      "RemoveModifier"
      {
        "Target"    "CASTER"
        "ModifierName"  "modifier_tether_caster_datadriven"
      }
    }
    
    "OnUpgrade"
    {
      "RunScript"
      {
        "ScriptFile"  "hero/hero_wisp.lua"
        "Function"    "LevelUpAbility"
        "ability_name"  "imba_wisp_tether"
      }
    }
  }
  
  //=================================================================================================================
  // Wisp: tether
  //=================================================================================================================
  "imba_wisp_tether"
  {
    // General
    //-------------------------------------------------------------------------------------------------------------
    "BaseClass"       "ability_datadriven"
    "AbilityBehavior"       "DOTA_ABILITY_BEHAVIOR_UNIT_TARGET"
    "AbilityUnitTargetTeam"     "DOTA_UNIT_TARGET_TEAM_FRIENDLY"
    "AbilityUnitTargetType"     "DOTA_UNIT_TARGET_HERO | DOTA_UNIT_TARGET_CREEP"
    "SpellImmunityType"       "SPELL_IMMUNITY_ENEMIES_NO"
    "AbilityTextureName"      "wisp_tether"
    "CastFilterRejectCaster"    "1"
  
    // Casting
    //-------------------------------------------------------------------------------------------------------------
    "AbilityCastPoint"        "0.001 0.001 0.001 0.001"
  
    // Time   
    //-------------------------------------------------------------------------------------------------------------
    "AbilityCooldown"       "12.0 12.0 12.0 12.0"
    "AbilityDuration"       "12.0 12.0 12.0 12.0"
  
    // Cost
    //-------------------------------------------------------------------------------------------------------------
    "AbilityManaCost"       "40 40 40 40"
    
    // Cast Range
    //-------------------------------------------------------------------------------------------------------------
    "AbilityCastRange"        "1800 1800 1800 1800"
  
    // Special
    //-------------------------------------------------------------------------------------------------------------
    "AbilitySpecial"
    {
      "01"
      {
        "var_type"          "FIELD_INTEGER"
        "radius"          "1800 1800 1800 1800"
      }
      "02"
      {
        "var_type"          "FIELD_INTEGER"
        "movespeed"         "200"
      }
      "03"
      {
        "var_type"          "FIELD_INTEGER"
        "latch_distance"      "1200 1200 1200 1200"
      }
      "04"
      {
        "var_type"          "FIELD_INTEGER"
        "latch_speed"       "1500 1500 1500 1500"
      }
      "05"
      {
        "var_type"          "FIELD_FLOAT"
        "tether_duration"     "12.0 12.0 12.0 12.0"
      }
      "06"
      {
        "var_type"          "FIELD_FLOAT"
        "tether_heal_amp"     "1.5"
      }
      "07"
      {
        "var_type"          "FIELD_INTEGER"
        "slow"      "-400"
      }
      "08"
      {
        "var_type"          "FIELD_INTEGER"
        "attackslow_tooltip"      "-100"
      }
      "09"
      {
        "var_type"          "FIELD_FLOAT"
        "stun_duration"       "0.75 1.25 1.75 2.25"
      }
      // Extra variables
      "10"
      {
        "var_type"          "FIELD_INTEGER"
        "latch_distance_to_target"  "600"
      }
      "11"
      {
        "var_type"          "FIELD_INTEGER"
        "latch_destroy_tree_radius" "350"
      }
      "12"
      {
        "var_type"          "FIELD_FLOAT"
        "latch_tick_interval"   "0.03"
      }
      "13"
      {
        "var_type"          "FIELD_INTEGER"
        "tether_line_radius"    "80"
      }
      "14"
      {
        "var_type"          "FIELD_FLOAT"
        "tether_line_tick_interval" "0.03"
      }
    }
    
    // Data driven
    //-------------------------------------------------------------------------------------------------------------
    "precache"
    {
      "soundfile"         "soundevents/game_sounds_heroes/game_sounds_wisp.vsndevts"
      "particle"          "particles/units/heroes/hero_wisp/wisp_tether.vpcf"
      "particle"          "particles/units/heroes/hero_wisp/wisp_tether_hit.vpcf"
      "particle"          "particles/units/heroes/hero_wisp/wisp_tether_slow.vpcf"
    }
    
    "OnSpellStart"
    {
      "ApplyModifier"
      {
        "Target"    "CASTER"
        "ModifierName"  "modifier_tether_caster_datadriven"
      }
      
      "ApplyModifier"
      {
        "Target"    "TARGET"
        "ModifierName"  "modifier_tether_ally_datadriven"
      }
      
      "RunScript"
      {
        "ScriptFile"    "hero/hero_wisp.lua"
        "Function"      "CastTether"
        "Target"      "TARGET"
        
        "latch_distance"  "%latch_distance"
        "latch_modifier"  "modifier_tether_caster_latching_datadriven"
        
        "sub_ability_name"  "imba_wisp_tether_break"
      }
    }
    
    "OnUpgrade"
    {
      "RunScript"
      {
        "ScriptFile"  "hero/hero_wisp.lua"
        "Function"    "LevelUpAbility"
        "ability_name"  "imba_wisp_tether_break"
      }
    }
    
    "OnProjectileHitUnit"
    {
      "DeleteOnHit" "0"
      
      "RunScript"
      {
        "ScriptFile"    "hero/hero_wisp.lua"
        "Function"      "OnProjectileHit"
        "Target"      "TARGET"
        
        "slow_modifier"   "modifier_tether_slow_datadriven"
      }
    }
    
    "Modifiers"
    {
      "modifier_tether_caster_datadriven"
      {
        "IsBuff"  "1"
        "Duration"  "%tether_duration"
        
        "Properties"
        {
          "MODIFIER_PROPERTY_MOVESPEED_BONUS_PERCENTAGE"  "%movespeed"
        }
        
        "OnCreated"
        {
          "FireSound"
          {
            "EffectName"    "Hero_Wisp.Tether"  // a loop sound
            "Target"      "CASTER"
          }
        }
        
        "OnDestroy"
        {
          "RemoveModifier"
          {
            "Target"      "CASTER"
            "ModifierName"    "modifier_tether_caster_latching_datadriven"
          }
          
          "RunScript"
          {
            "ScriptFile"    "hero/hero_wisp.lua"
            "Function"      "EndTether"
            
            "ally_modifier"   "modifier_tether_ally_datadriven"
            "sub_ability_name"  "imba_wisp_tether_break"
          }
        
          "RunScript"
          {
            "ScriptFile"    "hero/hero_wisp.lua"
            "Function"      "StopSound"
            "sound_name"    "Hero_Wisp.Tether"
          }
          
          "FireSound"
          {
            "EffectName"    "Hero_Wisp.Tether.Stop"
            "Target"      "CASTER"
          }
        }
        
        "OnTakeDamage"
        {
          "RunScript"
          {
            "ScriptFile"  "hero/hero_wisp.lua"
            "Function"    "TrackCurrentHealth"
          }
        }
        
        "OnHealReceived"
        {
          "RunScript"
          {
            "ScriptFile"  "hero/hero_wisp.lua"
            "Function"    "HealAlly"
            "tether_heal_amp" "%tether_heal_amp"
          }
          
          "RunScript"
          {
            "ScriptFile"  "hero/hero_wisp.lua"
            "Function"    "TrackCurrentHealth"
          }
        }
        
        "OnHealthGained"
        {
          "RunScript"
          {
            "ScriptFile"  "hero/hero_wisp.lua"
            "Function"    "HealAlly"
            "tether_heal_amp" "%tether_heal_amp"
          }
          
          "RunScript"
          {
            "ScriptFile"  "hero/hero_wisp.lua"
            "Function"    "TrackCurrentHealth"
          }
        }
        
        "OnSpentMana"
        {
          "RunScript"
          {
            "ScriptFile"  "hero/hero_wisp.lua"
            "Function"    "GiveManaToAlly"
            "tether_heal_amp" "%tether_heal_amp"
          }
          "RunScript"
          {
            "ScriptFile"  "hero/hero_wisp.lua"
            "Function"    "TrackCurrentMana"
          }
        }
        
        "OnManaGained"
        {
          "RunScript"
          {
            "ScriptFile"  "hero/hero_wisp.lua"
            "Function"    "GiveManaToAlly"
            "tether_heal_amp" "%tether_heal_amp"
          }
        
          "RunScript"
          {
            "ScriptFile"  "hero/hero_wisp.lua"
            "Function"    "TrackCurrentMana"
          }
        }
        
        "ThinkInterval"   "0.03"
        "OnIntervalThink"
        {
          "RunScript"
          {
            "ScriptFile"  "hero/hero_wisp.lua"
            "Function"    "TrackCurrentHealth"
          }
        //  "RunScript"
        //  {
        //    "ScriptFile"  "heroes/hero_wisp/tether.lua"
        //    "Function"    "TrackCurrentMana"
        //  }
          "RunScript"
          {
            "ScriptFile"  "hero/hero_wisp.lua"
            "Function"    "CheckDistance"
            
            "radius"      "%radius"
            "caster_modifier" "modifier_tether_caster_datadriven"
            "latch_modifier"  "modifier_tether_caster_latching_datadriven"
          }
        }
      }
      
      "modifier_tether_caster_latching_datadriven"
      {
        "IsHidden"  "1"
        
        "Duration"  "%tether_duration"
        
        "ThinkInterval"   "%latch_tick_interval"
        "OnIntervalThink"
        {
          "RunScript"
          {
            "ScriptFile"    "hero/hero_wisp.lua"
            "Function"      "Latch"
            
            "tick_interval"       "%latch_tick_interval"
            "latch_speed"       "%latch_speed"
            "latch_distance_to_target"  "%latch_distance_to_target"
            "latch_modifier"      "modifier_tether_caster_latching_datadriven"
          }
        }
        
        "States"
        {
          "MODIFIER_STATE_NO_UNIT_COLLISION"  "MODIFIER_STATE_VALUE_ENABLED"
          "MODIFIER_STATE_ROOTED"       "MODIFIER_STATE_VALUE_ENABLED"
        }
        
        "OnDestroy"
        {
          "DestroyTrees"
          {
            "Target"    "TARGET"
            "Radius"    "%latch_destroy_tree_radius"
          }
        }
      }
      
      "modifier_tether_ally_datadriven"
      {
        "IsBuff"  "1"
        "Duration"  "%tether_duration"
        
        "Properties"
        {
          "MODIFIER_PROPERTY_MOVESPEED_BONUS_PERCENTAGE"  "%movespeed"
        }
        
        "OnCreated"
        {
          "FireSound"
          {
            "EffectName"    "Hero_Wisp.Tether.Target"
            "Target"      "TARGET"
          }
          
          "AttachEffect"
          {
            "EffectName"    "particles/units/heroes/hero_wisp/wisp_tether.vpcf"
            "EffectAttachType"  "attach_hitloc"
            "Target"      "TARGET"
            
            "ControlPointEntities"
            {
              "CASTER"  "attach_hitloc"
              "TARGET"  "attach_hitloc"
            }
          }
        }
        
        "ThinkInterval"     "%tether_line_tick_interval"
        "OnIntervalThink"
        {
          "RunScript"
          {
            "ScriptFile"    "hero/hero_wisp.lua"
            "Function"      "FireTetherProjectile"
            "Target"      "TARGET"
            
            "tether_line_radius"  "%tether_line_radius"
            "tick_interval"     "%tether_line_tick_interval"
          }
        }
      }
      
      "modifier_tether_slow_datadriven"
      {
        "IsDebuff"  "1"
      
        "Duration"  "%stun_duration"
        
        "EffectName"    "particles/units/heroes/hero_wisp/wisp_tether_slow.vpcf"
        "EffectAttachType"  "follow_origin"
        
        "Properties"
        {
          "MODIFIER_PROPERTY_MOVESPEED_BONUS_PERCENTAGE"  "%slow"
        }
        
        "OnCreated"
        {
          "FireEffect"
          {
            "EffectName"    "particles/units/heroes/hero_wisp/wisp_tether_slow.vpcf"
            "EffectAttachType"  "attach_hitloc"
            "Target"      "TARGET"
          }
          
          "FireSound"
          {
            "EffectName"  "Hero_Wisp.Tether.Stun"
            "Target"    "TARGET"
          }
        }
      }
    }
  }

  //=================================================================================================================
  // Enigma: Midnight pulse
  //=================================================================================================================
  "imba_enigma_midnight_pulse"
  {
    // General
    //-------------------------------------------------------------------------------------------------------------
    "BaseClass"       "ability_datadriven"
    "AbilityBehavior"       "DOTA_ABILITY_BEHAVIOR_AOE | DOTA_ABILITY_BEHAVIOR_POINT | DOTA_ABILITY_BEHAVIOR_IGNORE_BACKSWING"
    "AbilityUnitDamageType"     "DAMAGE_TYPE_PURE"  
    "SpellImmunityType"       "SPELL_IMMUNITY_ENEMIES_YES"
    "FightRecapLevel"       "1"
    "AbilityTextureName"      "enigma_midnight_pulse"

    // Casting
    //-------------------------------------------------------------------------------------------------------------
    "AbilityCastRange"        "700"
    "AbilityCastPoint"        "0.3 0.3 0.3 0.3"

    // Time   
    //-------------------------------------------------------------------------------------------------------------
    "AbilityCooldown"       "35"

    // Cost
    //-------------------------------------------------------------------------------------------------------------
    "AbilityManaCost"       "95 110 125 140"

    // Special
    //-------------------------------------------------------------------------------------------------------------
    "AbilitySpecial"
    {
      "01"
      {
        "var_type"          "FIELD_INTEGER"
        "radius"          "950"
      }
      "02"
      {
        "var_type"          "FIELD_FLOAT"
        "damage_percent"      "20 25.0 30.0 35.0f"
      }
      "03"
      {
        "var_type"          "FIELD_FLOAT"
        "duration"          "11"
      }
    }

    "OnSpellStart"
    {
      "RunScript"
      {
        "ScriptFile"  "hero/hero_enigma.lua"
        "Function"    "Midnight_Pulse"

        "target"      "POINT"
      }
    }

    "Modifiers"
    {
      "modifier_midnight_pulse_invis"
      {
        "IsHidden"        "1"
        "duration"        "1"

        "OnCreated"
        {
          "ApplyModifier"
          {
            "ModifierName"  "modifier_invisible"
            "Target"    "TARGET"
          }
        } 

        "OnDestroy"
        {
          "RemoveModifier"
          {
            "ModifierName"  "modifier_invisible"
            "Target"
            {
              "Center"  "TARGET"
              "Flags"   "DOTA_UNIT_TARGET_FLAG_DEAD"
            }
          }
        } 

        "States"
        {
          "MODIFIER_STATE_INVISIBLE"  "MODIFIER_STATE_VALUE_ENABLED"
        }
      }
    }
  }

  //=================================================================================================================
  // Enigma: demonic conversion
  //=================================================================================================================
  "imba_enigma_demonic_conversion"
  {
    // General
    //-------------------------------------------------------------------------------------------------------------
    "BaseClass"       "ability_datadriven"
    "AbilityBehavior"       "DOTA_ABILITY_BEHAVIOR_PASSIVE"
    "AbilityTextureName"       "enigma_demonic_conversion"

    // Special
    //-------------------------------------------------------------------------------------------------------------
    "AbilitySpecial"
    {
      "01"
      {
        "var_type"        "FIELD_INTEGER"
        "chargetime"      "1"
      }
      "02"
      {
        "var_type"        "FIELD_FLOAT"
        "radius"          "50"
      }
      "03"
      {
        "var_type"        "FIELD_FLOAT"
        "pull_speed"      "100 100 100"
      }
      "04"
      {
        "var_type"        "FIELD_FLOAT"
        "proc_chance"      "20"
      }
    }

    // Precache
    //-------------------------------------------------------------------------------------------------------------
    "precache"
    {
      "soundfile"     "soundevents/game_sounds_heroes/game_sounds_enigma.vsndevts"
      "particle"      "particles/units/heroes/hero_enigma/enigma_blackhole.vpcf"
      "particle"      "particles/units/heroes/hero_enigma/enigma_blackhole_fallback_low.vpcf"
      "particle"      "particles/units/heroes/hero_enigma/enigma_blackhole_fallback_mid.vpcf"
    }
  
    "Modifiers"
    {
      "passive_black_hole"
      {
        "Passive"    "1"
        "IsHidden"   "1"

        "OnAttack"
        {
          "Random"
          {
            "Chance"          "%proc_chance"

            "OnSuccess"
            {
              "CreateThinker"
              {
                "ModifierName" "gemini_abyssal_vortex_mod"
                "Target" "TARGET"
              }
            }
          }
        }
      }

      "gemini_abyssal_vortex_mod"
      {
        "Duration" "%chargetime"
        "ThinkInterval" "0.06"
        "OnIntervalThink"
        {
          "RunScript"
          {
            "ScriptFile" "hero/hero_enigma.lua"
            "Function" "abyssal_vortex_aura"
            "radius" "%radius"
            "pull_speed" "%pull_speed"
            "damage" "%AbilityDamage"
          }
        }
        "OnCreated"
        {
          "RunScript"
          {
            "ScriptFile" "hero/hero_enigma.lua"
            "Function" "abyssal_vortex_begin_sound"
          }
          "AttachEffect"
          {
            "EffectName" "particles/units/heroes/hero_enigma/enigma_blackhole.vpcf"
            "EffectAttachType" "follow_origin"
            "Target" "TARGET"
            "ControlPoints"
            {
              "00" "0 0 100"
              "01" "%radius %radius %radius"
              "02" "%radius %radius %radius"
            }
          }
          "AttachEffect"
          {
            "EffectName" "particles/units/heroes/hero_enigma/enigma_blackhole_fallback_low.vpcf"
            "EffectAttachType" "follow_origin"
            "Target" "TARGET"
            "ControlPoints"
            {
              "00" "0 0 100"
              "01" "%radius %radius %radius"
              "02" "%radius %radius %radius"
            }
          }
          "AttachEffect"
          {
            "EffectName" "particles/units/heroes/hero_enigma/enigma_blackhole_fallback_mid.vpcf"
            "EffectAttachType" "follow_origin"
            "Target" "TARGET"
            "ControlPoints"
            {
              "00" "0 0 100"
              "01" "%radius %radius %radius"
              "02" "%radius %radius %radius"
            }
          }
        }

        "StatusEffectName"  "particles/status_fx/status_effect_enigma_blackhole_tgt.vpcf"
        "StatusEffectPriority"  "15"

        "OnDestroy"
        {
          "RunScript"
          {
            "ScriptFile" "hero/hero_enigma.lua"
            "Function" "abyssal_vortex_stop_sound"
          }
        }
      }
    }
  }

  //=================================================================================================================
  // Enigma: Malefice
  //=================================================================================================================
  "imba_enigma_malefice"
  {
    // General
    //-------------------------------------------------------------------------------------------------------------
    "BaseClass"       "ability_datadriven"
    "AbilityBehavior"       "DOTA_ABILITY_BEHAVIOR_UNIT_TARGET"
    "AbilityUnitTargetTeam"     "DOTA_UNIT_TARGET_TEAM_ENEMY"
    "AbilityUnitTargetType"     "DOTA_UNIT_TARGET_HERO | DOTA_UNIT_TARGET_BASIC"
    "AbilityUnitDamageType"     "DAMAGE_TYPE_MAGICAL" 
    "SpellImmunityType"       "SPELL_IMMUNITY_ENEMIES_NO"
    "FightRecapLevel"       "1"
    "AbilityTextureName"      "enigma_malefice"
 
    "AbilityDamage"         "25 40 55 70"
  
    // Casting
    //-------------------------------------------------------------------------------------------------------------
    "AbilityCastRange"        "600"
    "AbilityCastPoint"        "0.3 0.3 0.3 0.3"

    // Time   
    //-------------------------------------------------------------------------------------------------------------
    "AbilityCooldown"       "15.0 15.0 15.0 15.0"

    // Cost
    //-------------------------------------------------------------------------------------------------------------
    "AbilityManaCost"       "110 130 150 160"

    // Stats
    //-------------------------------------------------------------------------------------------------------------
    "AbilityModifierSupportValue" "0.33"  // Applies multiple modifiers

    // Special
    //-------------------------------------------------------------------------------------------------------------
    "AbilitySpecial"
    { 
      "01"
      {
        "var_type"        "FIELD_FLOAT"
        "tick_rate"       "2.0 2.0 2.0 2.0"
      }
      "02"
      {
        "var_type"        "FIELD_FLOAT"
        "stun_duration"     "0.25 0.5 0.75 1.0"
      }
      "03"
      {
        "var_type"        "FIELD_INTEGER"
        "damage"        "25 40 55 70"
      }
      "04"
      {
        "var_type"        "FIELD_FLOAT"
        "duration"        "4.0 4.0 4.0 4.0"
      }
      "05"
      {
        "var_type"        "FIELD_FLOAT"
        "tooltip_stuns"       "3 3 3 3"
      }
    }

    // Precache
    //-------------------------------------------------------------------------------------------------------------
    "precache"
    {
      "soundfile"     "soundevents/game_sounds_heroes/game_sounds_enigma.vsndevts"
      "particle"      "particles/units/heroes/hero_enigma/enigma_blackhole.vpcf"
      "particle"      "particles/units/heroes/hero_enigma/enigma_blackhole_fallback_low.vpcf"
      "particle"      "particles/units/heroes/hero_enigma/enigma_blackhole_fallback_mid.vpcf"
      "particle"      "particles/status_fx/status_effect_enigma_malefice.vpcf"
    }

    "OnSpellStart"
    {
      "RunScript"
      {
        "ScriptFile" "hero/hero_enigma.lua"
        "Function"   "malefice"

        "target"     "TARGET"
      }
    }
    "Modifiers"
    {
      "modifier_malefice_stun"
      {
        "Passive"       "0"
        "IsHidden"      "0"
        "IsDebuff"      "0"

        "EffectName"  "particles/generic_gameplay/generic_stunned.vpcf"
        "EffectAttachType"  "follow_overhead"
        "Duration"  "%stun_duration"

        "StatusEffectName"  "particles/status_fx/status_effect_enigma_malefice.vpcf"
        "StatusEffectPriority"  "10"

        "Damage"
        {
          "Target"    "TARGET"
          "Type"      "DAMAGE_TYPE_MAGICAL"
          "Damage"    "%AbilityDamage"
        }       
    
        "States"
        {
          "MODIFIER_STATE_STUNNED" "MODIFIER_STATE_VALUE_ENABLED"
        }
      }
    }
  }

  //=================================================================================================================
  // Enigma: Black Hole
  //=================================================================================================================
  "imba_enigma_black_hole"
  {
    // General
    //-------------------------------------------------------------------------------------------------------------
    "BaseClass"       "ability_datadriven"
    "AbilityType"         "DOTA_ABILITY_TYPE_ULTIMATE"
    "AbilityBehavior"       "DOTA_ABILITY_BEHAVIOR_POINT_TARGET | DOTA_ABILITY_BEHAVIOR_AOE"
    "AbilityUnitTargetTeam"     "DOTA_UNIT_TARGET_TEAM_BOTH"
    "AbilityUnitTargetType"     "DOTA_UNIT_TARGET_HERO | DOTA_UNIT_TARGET_BASIC"
    "AbilityUnitDamageType"     "DAMAGE_TYPE_MAGICAL"
    "AbilityUnitTargetFlags"    "DOTA_UNIT_TARGET_FLAG_MAGIC_IMMUNE_ENEMIES"
    "SpellImmunityType"       "SPELL_IMMUNITY_ENEMIES_NO"
    "AoERadius"           "600"
    "FightRecapLevel"       "1"
    "AbilityTextureName"      "enigma_black_hole"

    // Precache
    //-------------------------------------------------------------------------------------------------------------
    "precache"
    {
      "soundfile"     "soundevents/game_sounds_heroes/game_sounds_enigma.vsndevts"
      "particle"      "particles/units/heroes/hero_enigma/enigma_blackhole.vpcf"
      "particle"      "particles/units/heroes/hero_enigma/enigma_blackhole_fallback_low.vpcf"
      "particle"      "particles/units/heroes/hero_enigma/enigma_blackhole_fallback_mid.vpcf"
      "particle"      "particles/status_fx/status_effect_enigma_blackhole_tgt.vpcf"
    }

    // Casting
    //-------------------------------------------------------------------------------------------------------------
    "AbilityCastRange"        "1000"
    "AbilityCastPoint"        "0.3 0.3 0.3 0.3"
  
    // Time   
    //-------------------------------------------------------------------------------------------------------------
    "AbilityCooldown"       "160"

    // Damage.
    //-------------------------------------------------------------------------------------------------------------
    "AbilityDamage"         "225 450 600"

    // Cost
    //-------------------------------------------------------------------------------------------------------------
    "AbilityManaCost"       "400 600 800"

    // Special
    //-------------------------------------------------------------------------------------------------------------
    "AbilitySpecial"
    {
      "01"
      {
        "var_type"        "FIELD_INTEGER"
        "chargetime"      "4"
      }
      "02"
      {
        "var_type"        "FIELD_FLOAT"
        "radius"        "600"
      }
      "03"
      {
        "var_type"        "FIELD_FLOAT"
        "pull_speed"      "100 130 160"
      }
      "04"
      {
        "var_type"        "FIELD_FLOAT"
        "extra_radius"          "400"
      }
      "05"
      {
        "var_type"        "FIELD_FLOAT"
        "extra_pull_speed"      "300 330 360"
      }
    }

    "OnSpellStart"
    {
      "DelayedAction"
      {
        "Delay" "0"
        "Action"
        {
          "RunScript"
          {
            "ScriptFile" "hero/hero_enigma.lua"
            "Function"   "extra_black_holes"
  
            "Target"     "POINT"
          }

          "CreateThinker"
          {
            "ModifierName" "gemini_abyssal_vortex_mod"
            "Target" "POINT"
          }
        }
      }
    }
  
    "Modifiers"
    {
      "gemini_abyssal_vortex_mod"
      {
        "Duration" "%chargetime"
        "ThinkInterval" "0.06"
        "OnIntervalThink"
        {
          "RunScript"
          {
            "ScriptFile" "hero/hero_enigma.lua"
            "Function" "abyssal_vortex_aura"
            "radius" "%radius"
            "pull_speed" "%pull_speed"
            "damage" "%AbilityDamage"
          }
        }
        "OnCreated"
        {
          "RunScript"
          {
            "ScriptFile" "hero/hero_enigma.lua"
            "Function" "abyssal_vortex_begin_sound"
          }
          "AttachEffect"
          {
            "EffectName" "particles/units/heroes/hero_enigma/enigma_blackhole.vpcf"
            "EffectAttachType" "follow_origin"
            "Target" "TARGET"
            "ControlPoints"
            {
              "00" "0 0 100"
              "01" "%radius %radius %radius"
              "02" "%radius %radius %radius"
            }
          }
          "AttachEffect"
          {
            "EffectName" "particles/units/heroes/hero_enigma/enigma_blackhole_fallback_low.vpcf"
            "EffectAttachType" "follow_origin"
            "Target" "TARGET"
            "ControlPoints"
            {
              "00" "0 0 100"
              "01" "%radius %radius %radius"
              "02" "%radius %radius %radius"
            }
          }
          "AttachEffect"
          {
            "EffectName" "particles/units/heroes/hero_enigma/enigma_blackhole_fallback_mid.vpcf"
            "EffectAttachType" "follow_origin"
            "Target" "TARGET"
            "ControlPoints"
            {
              "00" "0 0 100"
              "01" "%radius %radius %radius"
              "02" "%radius %radius %radius"
            }
          }
        }

        "StatusEffectName"  "particles/status_fx/status_effect_enigma_blackhole_tgt.vpcf"
        "StatusEffectPriority"  "15"

        "OnDestroy"
        {
          "RunScript"
          {
            "ScriptFile" "hero/hero_enigma.lua"
            "Function" "abyssal_vortex_stop_sound"
          }
        }
      }

      "extra_black_hole"
      {
        "Duration" "%chargetime"
        "ThinkInterval" "0.06"
        "OnIntervalThink"
        {
          "RunScript"
          {
            "ScriptFile" "hero/hero_enigma.lua"
            "Function" "abyssal_vortex_aura_extra"
            "radius" "%extra_radius"
            "pull_speed" "%extra_pull_speed"
            "damage" "%AbilityDamage"
          }
        }
        "OnCreated"
        {
          "AttachEffect"
          {
            "EffectName" "particles/units/heroes/hero_enigma/enigma_blackhole.vpcf"
            "EffectAttachType" "follow_origin"
            "Target" "TARGET"
            "ControlPoints"
            {
              "00" "0 0 100"
              "01" "%extra_radius %extra_radius %extra_radius"
              "02" "%extra_radius %extra_radius %extra_radius"
            }
          }
          "AttachEffect"
          {
            "EffectName" "particles/units/heroes/hero_enigma/enigma_blackhole_fallback_low.vpcf"
            "EffectAttachType" "follow_origin"
            "Target" "TARGET"
            "ControlPoints"
            {
              "00" "0 0 100"
              "01" "%extra_radius %extra_radius %extra_radius"
              "02" "%extra_radius %extra_radius %extra_radius"
            }
          }
          "AttachEffect"
          {
            "EffectName" "particles/units/heroes/hero_enigma/enigma_blackhole_fallback_mid.vpcf"
            "EffectAttachType" "follow_origin"
            "Target" "TARGET"
            "ControlPoints"
            {
              "00" "0 0 100"
              "01" "%extra_radius %extra_radius %extra_radius"
              "02" "%extra_radius %extra_radius %extra_radius"
            }
          }
        "StatusEffectName"  "particles/status_fx/status_effect_enigma_blackhole_tgt.vpcf"
        "StatusEffectPriority"  "15"
        }
      }
    }
  }

  "dota_ability_throw_coin"
  {
    "BaseClass"             "ability_datadriven"
    "AbilityName"           "dota_ability_throw_coin"
    "AbilityBehavior"         "DOTA_ABILITY_BEHAVIOR_NO_TARGET"
    "AbilityCastAnimation"        "ACT_DOTA_CAST_ABILITY_1"
    "AbilityCastPoint"          "1.5"

    "OnSpellStart"
    {
      "RunScript"
      {
        "ScriptFile"      "overboss.lua"
        "Function"        "ThrowCoin"
      }
    }

    "Modifiers"
    {
      "modifier_dota_ability_throw_coin"
      {
        "IsHidden"        "1"
        "Passive"       "1"
        
        "States"
        {
          "MODIFIER_STATE_UNSELECTABLE" "MODIFIER_STATE_VALUE_ENABLED"
          "MODIFIER_STATE_NO_HEALTH_BAR"  "MODIFIER_STATE_VALUE_ENABLED"
          "MODIFIER_STATE_INVULNERABLE" "MODIFIER_STATE_VALUE_ENABLED"
          "MODIFIER_STATE_OUT_OF_GAME"  "MODIFIER_STATE_VALUE_ENABLED"
        }
      }
    }
  }
  
  "dota_ability_throw_coin_long"
  {
    "BaseClass"             "ability_datadriven"
    "AbilityName"           "dota_ability_throw_coin_long"
    "AbilityBehavior"         "DOTA_ABILITY_BEHAVIOR_NO_TARGET"
    "AbilityCastAnimation"        "ACT_DOTA_CAST_ABILITY_2"
    "AbilityCastPoint"          "2.5"

    "OnSpellStart"
    {
      "RunScript"
      {
        "ScriptFile"      "overboss.lua"
        "Function"        "ThrowCoin"
      }
    }

    "Modifiers"
    {
      "modifier_dota_ability_throw_coin"
      {
        "IsHidden"        "1"
        "Passive"       "1"
        
        "States"
        {
          "MODIFIER_STATE_UNSELECTABLE" "MODIFIER_STATE_VALUE_ENABLED"
          "MODIFIER_STATE_NO_HEALTH_BAR"  "MODIFIER_STATE_VALUE_ENABLED"
          "MODIFIER_STATE_INVULNERABLE" "MODIFIER_STATE_VALUE_ENABLED"
          "MODIFIER_STATE_OUT_OF_GAME"  "MODIFIER_STATE_VALUE_ENABLED"
        }
      }
    }
  }
  
  "dota_ability_celebrate"
  {
    "BaseClass"             "ability_datadriven"
    "AbilityName"           "dota_ability_celebrate"
    "AbilityBehavior"         "DOTA_ABILITY_BEHAVIOR_NO_TARGET"
    "AbilityCastAnimation"        "ACT_DOTA_CAST_ABILITY_3"

    "Modifiers"
    {
      "modifier_dota_ability_celebrate"
      {
        "IsHidden"        "1"
        "Passive"       "1"
        
        "States"
        {
          "MODIFIER_STATE_UNSELECTABLE" "MODIFIER_STATE_VALUE_ENABLED"
          "MODIFIER_STATE_NO_HEALTH_BAR"  "MODIFIER_STATE_VALUE_ENABLED"
          "MODIFIER_STATE_INVULNERABLE" "MODIFIER_STATE_VALUE_ENABLED"
          "MODIFIER_STATE_OUT_OF_GAME"  "MODIFIER_STATE_VALUE_ENABLED"
        }
      }
    }
  }

  "dota_ability_vision_revealer"
  {
    "BaseClass"                   "ability_datadriven"
    "AbilityName"                 "dota_ability_vision_revealer"
    "AbilityBehavior"         "DOTA_ABILITY_BEHAVIOR_PASSIVE"

    "Modifiers"
    {
      "modifier_dota_ability_vision_revealer"
      {
        "IsHidden"        "1"
        "Passive"       "1"
        
        "States"
        {
          "MODIFIER_STATE_PROVIDES_VISION"  "MODIFIER_STATE_VALUE_ENABLED"
          "MODIFIER_STATE_UNSELECTABLE"   "MODIFIER_STATE_VALUE_ENABLED"
          "MODIFIER_STATE_NO_HEALTH_BAR"    "MODIFIER_STATE_VALUE_ENABLED"
          "MODIFIER_STATE_INVULNERABLE"   "MODIFIER_STATE_VALUE_ENABLED"
          "MODIFIER_STATE_OUT_OF_GAME"    "MODIFIER_STATE_VALUE_ENABLED"
        }
      }
    }
  }

  "dota_ability_xp_granter"
  {
    "BaseClass"                   "ability_datadriven"
    "AbilityName"                 "dota_ability_xp_granter"
    "AbilityBehavior"         "DOTA_ABILITY_BEHAVIOR_PASSIVE"

    "Modifiers"
    {
      "modifier_dota_ability_xp_granter"
      {
        "IsHidden"        "1"
        "Passive"       "1"
        
        "Aura"          "modifier_get_xp"
        "Aura_Radius"     "800"
        "Aura_Teams"      "DOTA_UNIT_TARGET_TEAM_BOTH"
        "Aura_Types"      "DOTA_UNIT_TARGET_HERO"
        "Aura_ApplyToCaster"  "0"
        "Aura_Flags"        "DOTA_UNIT_TARGET_FLAG_NOT_ILLUSIONS"

        "States"
        {
          "MODIFIER_STATE_UNSELECTABLE" "MODIFIER_STATE_VALUE_ENABLED"
          "MODIFIER_STATE_NO_HEALTH_BAR"  "MODIFIER_STATE_VALUE_ENABLED"
          "MODIFIER_STATE_INVULNERABLE" "MODIFIER_STATE_VALUE_ENABLED"
          "MODIFIER_STATE_OUT_OF_GAME"  "MODIFIER_STATE_VALUE_ENABLED"
        }

        "ThinkInterval" ".5"

        "OnIntervalThink"
        {
          "GrantXPGold"
          {
            "Target"
            {
              "Center"    "CASTER"
              "radius"    "1000"
              "Types"     "DOTA_UNIT_TARGET_HERO"
              "Flags"     "DOTA_UNIT_TARGET_FLAG_NOT_ILLUSIONS"
            }
            "XPAmount"    "8"
            "SplitEvenly" "0"
            "GoldAmount"  "4"
            "ReliableGold"  "0"
          }
        }
      }

      "modifier_get_xp"
      {
        "Passive"       "1"
        "EffectName"  ""
        "TextureName" "custom_games_xp_coin"
      }
    }
  }

  "dota_ability_xp_granter2"
  {
    "BaseClass"                   "ability_datadriven"
    "AbilityName"                 "dota_ability_xp_granter"
    "AbilityBehavior"         "DOTA_ABILITY_BEHAVIOR_PASSIVE"

    "Modifiers"
    {
      "modifier_dota_ability_xp_granter"
      {
        "IsHidden"        "1"
        "Passive"       "1"
        
        "Aura"          "modifier_get_xp"
        "Aura_Radius"     "1400"
        "Aura_Teams"      "DOTA_UNIT_TARGET_TEAM_BOTH"
        "Aura_Types"      "DOTA_UNIT_TARGET_HERO"
        "Aura_ApplyToCaster"  "0"
        "Aura_Flags"        "DOTA_UNIT_TARGET_FLAG_NOT_ILLUSIONS"

        "States"
        {
          "MODIFIER_STATE_UNSELECTABLE" "MODIFIER_STATE_VALUE_ENABLED"
          "MODIFIER_STATE_NO_HEALTH_BAR"  "MODIFIER_STATE_VALUE_ENABLED"
          "MODIFIER_STATE_INVULNERABLE" "MODIFIER_STATE_VALUE_ENABLED"
          "MODIFIER_STATE_OUT_OF_GAME"  "MODIFIER_STATE_VALUE_ENABLED"
        }

        "ThinkInterval" ".5"

        "OnIntervalThink"
        {
          "GrantXPGold"
          {
            "Target"
            {
              "Center"    "CASTER"
              "radius"    "1400"
              "Types"     "DOTA_UNIT_TARGET_HERO"
              "Flags"     "DOTA_UNIT_TARGET_FLAG_NOT_ILLUSIONS"
            }
            "XPAmount"    "16"
            "SplitEvenly" "0"
            "GoldAmount"  "10"
            "ReliableGold"  "0"
          }
        }
      }

      "modifier_get_xp"
      {
        "Passive"       "1"
        "EffectName"  ""
        "TextureName" "custom_games_xp_coin"
      }
    }
  }

  "dota_ability_xp_global"
  {
    "BaseClass"                   "ability_datadriven"
    "AbilityName"                 "dota_ability_xp_global"
    "AbilityBehavior"         "DOTA_ABILITY_BEHAVIOR_PASSIVE"

    "Modifiers"
    {
      "modifier_dota_ability_xp_global"
      {
        "IsHidden"        "1"
        "Passive"       "1"
        
        "Aura"          "modifier_get_xp_global"
        "Aura_Radius"     "8000"
        "Aura_Teams"      "DOTA_UNIT_TARGET_TEAM_BOTH"
        "Aura_Types"      "DOTA_UNIT_TARGET_HERO"
        "Aura_ApplyToCaster"  "0"
        "Aura_Flags"        "DOTA_UNIT_TARGET_FLAG_NOT_ILLUSIONS"

        "States"
        {
          "MODIFIER_STATE_UNSELECTABLE" "MODIFIER_STATE_VALUE_ENABLED"
          "MODIFIER_STATE_NO_HEALTH_BAR"  "MODIFIER_STATE_VALUE_ENABLED"
          "MODIFIER_STATE_INVULNERABLE" "MODIFIER_STATE_VALUE_ENABLED"
          "MODIFIER_STATE_OUT_OF_GAME"  "MODIFIER_STATE_VALUE_ENABLED"
        }

        "ThinkInterval" ".5"

        "OnIntervalThink"
        {
          "GrantXPGold"
          {
            "Target"
            {
              "Center"    "CASTER"
              "radius"    "3400"
              "Types"     "DOTA_UNIT_TARGET_HERO"
              "Flags"     "DOTA_UNIT_TARGET_FLAG_NOT_ILLUSIONS"
            }
            "XPAmount"    "6"
            "SplitEvenly" "0"
            "GoldAmount"  "4"
            "ReliableGold"  "0"
          }
        }
      }

      "modifier_get_xp_global"
      {
        "Passive"       "1"
        "EffectName"  "particles/econ/courier/courier_greevil_yellow/courier_greevil_yellow_ambient_3_b.vpcf"
        "TextureName" "alchemist_goblins_greed"
      }
    }
  }

  "dota_ability_reveal_invis"
    {
           "BaseClass"              "ability_datadriven"
           "AbilityName"            "dota_ability_reveal_invis"
           "AbilityBehavior"          "DOTA_ABILITY_BEHAVIOR_PASSIVE"

           "Modifiers"
           {
                "modifier_dota_ability_reveal_invis"
                {
                     "IsHidden"         "1"
                     "Passive"          "1"
                     
                     "Aura"           "modifier_invis_revealed"
                     "Aura_Radius"        "350"
                     "Aura_Teams"       "DOTA_UNIT_TARGET_TEAM_BOTH"
                     "Aura_Types"       "DOTA_UNIT_TARGET_ALL"
                     "Aura_Flags"       "DOTA_UNIT_TARGET_FLAG_MAGIC_IMMUNE_ENEMIES"

                     "States"
                     {
                           "MODIFIER_STATE_UNSELECTABLE"    "MODIFIER_STATE_VALUE_ENABLED"
                           "MODIFIER_STATE_NO_HEALTH_BAR"   "MODIFIER_STATE_VALUE_ENABLED"
                           "MODIFIER_STATE_INVULNERABLE"    "MODIFIER_STATE_VALUE_ENABLED"
                           "MODIFIER_STATE_OUT_OF_GAME" "MODIFIER_STATE_VALUE_ENABLED"
                     }
                }

                "modifier_invis_revealed"
                {
                     "Passive"          "1"
                     "TextureName"        "item_gem"
                     "Priority"         "MODIFIER_PRIORITY_HIGH"
                     "States"
                     {
                           "MODIFIER_STATE_INVISIBLE"     "MODIFIER_STATE_VALUE_DISABLED"
                     }
                }
           }
    }

  /=================================================================================================================
  // Ability: Treasure Courier
  //=================================================================================================================
  "dota_ability_treasure_courier"
  {
    "BaseClass"                   "ability_datadriven"
    "AbilityName"                 "dota_ability_health_granter"
    "AbilityBehavior"         "DOTA_ABILITY_BEHAVIOR_PASSIVE"

    "Modifiers"
    {
      "modifier_dota_ability_treasure_courier"
      {
        "IsHidden"        "1"
        "Passive"       "1"
        
        "Aura"          ""
        "Aura_Radius"     "600"
        "Aura_Teams"      "DOTA_UNIT_TARGET_TEAM_BOTH"
        "Aura_Types"      "DOTA_UNIT_TARGET_HERO"
        "Aura_ApplyToCaster"  "0"

        "States"
        {
          "MODIFIER_STATE_UNSELECTABLE"   "MODIFIER_STATE_VALUE_ENABLED"
          "MODIFIER_STATE_NO_HEALTH_BAR"    "MODIFIER_STATE_VALUE_ENABLED"
          "MODIFIER_STATE_INVULNERABLE"   "MODIFIER_STATE_VALUE_ENABLED"
          "MODIFIER_STATE_NO_UNIT_COLLISION"  "MODIFIER_STATE_VALUE_ENABLED"
          "MODIFIER_STATE_ATTACK_IMMUNE"    "MODIFIER_STATE_VALUE_ENABLED"
          "MODIFIER_STATE_MAGIC_IMMUNE"   "MODIFIER_STATE_VALUE_ENABLED"
          "MODIFIER_STATE_OUT_OF_GAME"    "MODIFIER_STATE_VALUE_ENABLED"
        }
      }
    }
  }

  //=================================================================================================================
  // Ability: Dummy
  //=================================================================================================================
  "dota_ability_dummy"
  {
    "BaseClass"                   "ability_datadriven"
    "AbilityName"                 "dota_ability_dummy"
    "AbilityBehavior"         "DOTA_ABILITY_BEHAVIOR_PASSIVE"

    "Modifiers"
    {
      "modifier_dota_ability_dummy"
      {
        "IsHidden"        "1"
        "Passive"       "1"
        
        "States"
        {
          //"MODIFIER_STATE_INVULNERABLE"   "MODIFIER_STATE_VALUE_ENABLED"
          "MODIFIER_STATE_UNSELECTABLE"   "MODIFIER_STATE_VALUE_ENABLED"
          "MODIFIER_STATE_NO_HEALTH_BAR"    "MODIFIER_STATE_VALUE_ENABLED"
          "MODIFIER_STATE_NOT_ON_MINIMAP"   "MODIFIER_STATE_VALUE_ENABLED"
          //"MODIFIER_STATE_NO_UNIT_COLLISION"  "MODIFIER_STATE_VALUE_ENABLED"
          "MODIFIER_STATE_ATTACK_IMMUNE"    "MODIFIER_STATE_VALUE_ENABLED"
          "MODIFIER_STATE_MAGIC_IMMUNE"   "MODIFIER_STATE_VALUE_ENABLED"
        }
      }
    }
  }

  // Rewrite of the Dark Seer Ion Shell ability
  // Author: Pizzalol
  // Date: 02.04.2015.
  "imba_dark_seer_ion_shell"
  {
    // General
    //-------------------------------------------------------------------------------------------------------------
    "BaseClass"       "ability_datadriven"
    "AbilityBehavior"       "DOTA_ABILITY_BEHAVIOR_UNIT_TARGET | DOTA_ABILITY_BEHAVIOR_DONT_RESUME_ATTACK"
    "AbilityUnitTargetTeam"     "DOTA_UNIT_TARGET_TEAM_BOTH"
    "AbilityUnitTargetType"     "DOTA_UNIT_TARGET_HERO | DOTA_UNIT_TARGET_CREEP | DOTA_UNIT_TARGET_MECHANICAL"
    "AbilityUnitTargetFlags"    "DOTA_UNIT_TARGET_FLAG_NOT_CREEP_HERO"
    "SpellImmunityType"       "SPELL_IMMUNITY_ENEMIES_NO"
    "AbilityUnitDamageType"     "DAMAGE_TYPE_MAGICAL"
    "FightRecapLevel"       "1"
    "AbilityTextureName"      "dark_seer_ion_shell"
  
    // Precache
    //-------------------------------------------------------------------------------------------------------------
    "precache"
    {
      "soundfile"     "soundevents/game_sounds_heroes/game_sounds_dark_seer.vsndevts"
      "particle"      "particles/units/heroes/hero_dark_seer/dark_seer_ion_shell.vpcf"
      "particle"      "particles/units/heroes/hero_dark_seer/dark_seer_ion_shell_damage.vpcf"
    }
  
    // Casting
    //-------------------------------------------------------------------------------------------------------------
    "AbilityCastRange"        "600"
    "AbilityCastPoint"        "0.4 0.4 0.4 0.4"
    
    // Time   
    //-------------------------------------------------------------------------------------------------------------
    "AbilityCooldown"       "9"
    
    // Cost
    //-------------------------------------------------------------------------------------------------------------
    "AbilityManaCost"       "70 90 110 130"
  
    // Stats
    //-------------------------------------------------------------------------------------------------------------
    "AbilityModifierSupportValue" "0.0" // just does damage
      
    // Special
    //-------------------------------------------------------------------------------------------------------------
    "AbilitySpecial"
    {
      "01"
      {
        "var_type"        "FIELD_INTEGER"
        "radius"        "650"
      }
      "02"
      {
        "var_type"        "FIELD_INTEGER"
        "damage_per_second"   "30 50 70 90"
      }
      "03"
      {
        "var_type"        "FIELD_FLOAT"
        "duration"        "20"
      }
      // Extra
      "04"
      {
        "var_type"        "FIELD_FLOAT"
        "think_interval"    "0.1"
      }
    }
  
    "OnSpellStart"
    {
      "RemoveModifier"
      {
        "ModifierName"  "modifier_ion_shell_datadriven"
        "Target"    "TARGET"
      }
  
      "ApplyModifier"
      {
        "ModifierName"  "modifier_ion_shell_datadriven"
        "Target"    "TARGET"
        "Duration"    "%duration"
      }
    }
  
    "Modifiers"
    {
      "modifier_ion_shell_datadriven"
      {
        "IsBuff"    "1"
        "IsPurgable"  "0"
    
        "OnCreated"
        {
          "FireSound"
          {
            "EffectName"  "Hero_Dark_Seer.Ion_Shield_Start"
            "Target"    "TARGET"
          }
  
          "AttachEffect"
          {
            "EffectName"        "particles/units/heroes/hero_dark_seer/dark_seer_ion_shell.vpcf"
            "EffectAttachType"  "attach_hitloc"
            "Target"            "TARGET"
  
            "ControlPoints"
            {
              "01"  "600 600 600"
            }
          }
        }
  
        "OnDestroy"
        {
          "FireSound"
          {
            "EffectName"  "Hero_Dark_Seer.Ion_Shield_end"
            "Target"
            {
              "Center"  "TARGET"
              "Flags"     "DOTA_UNIT_TARGET_FLAG_DEAD"
            }
          }
        }
  
        "ThinkInterval"  "%think_interval"
        "OnIntervalThink"
        {
          "RunScript"
          {
            "ScriptFile"  "hero/hero_dark_seer.lua"
            "Function"    "IonShell"
            "ion_particle"  "particles/units/heroes/hero_dark_seer/dark_seer_ion_shell_damage.vpcf"
          }
        }
      }
    }
  }
  
  // Rewrite of the Dark Seer Surge ability
  // Author: Pizzalol
  // Date: 01.04.2015.
  "imba_dark_seer_surge"
  {
    // General
    //-------------------------------------------------------------------------------------------------------------
    "BaseClass"       "ability_datadriven"
    "AbilityBehavior"       "DOTA_ABILITY_BEHAVIOR_UNIT_TARGET"
    "AbilityUnitTargetTeam"     "DOTA_UNIT_TARGET_TEAM_FRIENDLY"
    "AbilityUnitTargetType"     "DOTA_UNIT_TARGET_HERO | DOTA_UNIT_TARGET_BASIC"  
    "SpellImmunityType"       "SPELL_IMMUNITY_ALLIES_YES"
    "AbilityTextureName"      "dark_seer_surge"
  
    // Precache
    //-------------------------------------------------------------------------------------------------------------
    "precache"
    {
      "soundfile"     "soundevents/game_sounds_heroes/game_sounds_dark_seer.vsndevts"
      "particle"      "particles/units/heroes/hero_dark_seer/dark_seer_surge.vpcf"
    }
  
    // Casting
    //-------------------------------------------------------------------------------------------------------------
    "AbilityCastRange"        "600"
    "AbilityCastPoint"        "0.4 0.4 0.4 0.4"
    
    // Time   
    //-------------------------------------------------------------------------------------------------------------
    "AbilityCooldown"       "12.0 11.0 10.0 9.0"
    
    // Cost
    //-------------------------------------------------------------------------------------------------------------
    "AbilityManaCost"       "20 30 40 50"
  
    // Stats
    //-------------------------------------------------------------------------------------------------------------
    "AbilityModifierSupportValue" "2.5" // Value much higher than manacost
    
    // Special
    //-------------------------------------------------------------------------------------------------------------
    "AbilitySpecial"
    {
      "01"
      {
        "var_type"        "FIELD_FLOAT"
        "duration"        "2.0 3.5 5.0 6.5"
      }
      // Extra
      "02"
      {
        "var_type"        "FIELD_INTEGER"
        "move_speed"      "822"
      }
    }
  
    "OnSpellStart"
    {
      "FireSound"
      {
        "EffectName"  "Hero_Dark_Seer.Surge"
        "Target"    "TARGET"
      }

      "RunScript"
      {
        "ScriptFile"  "hero/hero_dark_seer.lua"
        "Function"    "Surge"
      }
  
       "ApplyModifier"
       {
         "ModifierName"  "modifier_surge_datadriven"
         "Target"    "TARGET"
         "Duration"    "%duration"
       }
    }
  
    "Modifiers"
    {
      "modifier_surge_datadriven"
      {
        "IsBuff"    "1"
    
        "EffectName"    "particles/units/heroes/hero_dark_seer/dark_seer_surge.vpcf"
        "EffectAttachType"  "follow_hitloc"
    
        "Properties"
        {
          "MODIFIER_PROPERTY_MOVESPEED_ABSOLUTE"  "%move_speed"
        }
      }
    }
  }
  
  // Rewrite of the Dark Seer Vacuum ability
  // Author: Pizzalol
  // Date: 03.04.2015.
  "imba_dark_seer_vacuum"
  {
    // General
    //-------------------------------------------------------------------------------------------------------------
    "BaseClass"       "ability_datadriven"
    "AbilityBehavior"       "DOTA_ABILITY_BEHAVIOR_POINT | DOTA_ABILITY_BEHAVIOR_AOE"
    "AbilityUnitDamageType"     "DAMAGE_TYPE_MAGICAL"
    "AbilityUnitTargetTeam"     "DOTA_UNIT_TARGET_TEAM_ENEMY"
    "AbilityUnitTargetType"     "DOTA_UNIT_TARGET_HERO | DOTA_UNIT_TARGET_BASIC"
    "AbilityUnitTargetFlags"    "DOTA_UNIT_TARGET_FLAG_NOT_CREEP_HERO"
    "SpellImmunityType"       "SPELL_IMMUNITY_ENEMIES_NO"
    "FightRecapLevel"       "1"
    "AbilityTextureName"      "dark_seer_vacuum"
    "AOERadius"           "%radius"
  
    // Precache
    //-------------------------------------------------------------------------------------------------------------
    "precache"
    {
      "soundfile"     "soundevents/game_sounds_heroes/game_sounds_dark_seer.vsndevts"
      "particle"      "particles/units/heroes/hero_dark_seer/dark_seer_vacuum.vpcf"
    }
  
    // Casting
    //-------------------------------------------------------------------------------------------------------------
    "AbilityCastRange"        "500"
    "AbilityCastPoint"        "0.4 0.4 0.4 0.4"
  
    // Time   
    //-------------------------------------------------------------------------------------------------------------
    "AbilityCooldown"       "28"
    
    // Cost
    //-------------------------------------------------------------------------------------------------------------
    "AbilityManaCost"       "100 130 160 190"
    
    // Special  
    //-------------------------------------------------------------------------------------------------------------
    "AbilitySpecial"
    {
      "01"
      {
        "var_type"        "FIELD_INTEGER"
        "radius"        "450 550 650 750"
      }
      "02"
      {
        "var_type"        "FIELD_FLOAT"
        "duration"        "0.4 0.4 0.4 0.4"
      }
      "03"
      {
        "var_type"        "FIELD_INTEGER"
        "damage"        "40 80 120 160"
      }
      "04"
      {
        "var_type"        "FIELD_INTEGER"
        "radius_tree"       "275"
      }
    }
  
    "OnSpellStart"
    {
      "FireEffect"
      {
        "EffectName"        "particles/units/heroes/hero_dark_seer/dark_seer_vacuum.vpcf"
        "EffectAttachType"  "start_at_customorigin"
        "TargetPoint"       "POINT"
  
        "ControlPoints"
        {
          "01"  "%radius 0 0"
        }
      }
  
      "CreateThinker"
      {
        "ModifierName"  "modifier_vacuum_thinker_datadriven"
        "Target"    "POINT"
      }
    }
  
    "Modifiers"
    {
      "modifier_vacuum_thinker_datadriven"
      {
        "Duration"    "%duration"
  
        "OnCreated"
        {
          "FireSound"
          {
            "EffectName"  "Hero_Dark_Seer.Vacuum"
            "Target"    "TARGET"
          }
  
          "DestroyTrees"
          {
            "Target"    "TARGET"
            "Radius"    "%radius_tree"
          }
  
          "RunScript"
          {
            "ScriptFile"  "hero/hero_dark_seer.lua"
            "Function"    "VacuumStart"
          }
        }
  
        "OnDestroy"
        {
          "ActOnTargets"
          {
            "Target"
            {
              "Center"    "TARGET"
              "Radius"  "%radius"
              "Teams"   "DOTA_UNIT_TARGET_TEAM_ENEMY"
              "Types"   "DOTA_UNIT_TARGET_HERO | DOTA_UNIT_TARGET_BASIC"
              "Flags"     "DOTA_UNIT_TARGET_FLAG_NOT_CREEP_HERO"
            }
          
            "Action"    
            {
              "Damage"
              {
                "Target"    "TARGET"
                "Type"      "DAMAGE_TYPE_MAGICAL"
                "Damage"    "%damage"
              }
            }
          }
        }
  
        "ThinkInterval"  "0.03"
        "OnIntervalThink"
        {
          "RunScript"
          {
            "ScriptFile"  "hero/hero_dark_seer.lua"
            "Function"    "Vacuum"
            "vacuum_modifier" "modifier_vacuum_datadriven"
          }
        }
      }
  
      "modifier_vacuum_datadriven"
      {
        "IsPurgable"  "0"
  
        "OverrideAnimation"     "ACT_DOTA_FLAIL"
  
        "States"
        {
          "MODIFIER_STATE_STUNNED"      "MODIFIER_STATE_VALUE_ENABLED"
          "MODIFIER_STATE_NO_UNIT_COLLISION"  "MODIFIER_STATE_VALUE_ENABLED"
        }
      }
    }
  }
  
  // Rewrite of the Dark Seer Wall of Replica ability
  // Author: Pizzalol
  // Date: 05.04.2015.
  // NOTE: Has the normal illusion behavior for enemies
  "imba_dark_seer_wall_of_replica"
  {
    // General
    //-------------------------------------------------------------------------------------------------------------
    "BaseClass"       "ability_datadriven"
    "AbilityBehavior"       "DOTA_ABILITY_BEHAVIOR_POINT"
    "AbilityType"         "DOTA_ABILITY_TYPE_ULTIMATE"
    "AbilityUnitDamageType"     "DAMAGE_TYPE_MAGICAL"
    "SpellImmunityType"       "SPELL_IMMUNITY_ENEMIES_NO"
    "FightRecapLevel"       "2"
    "AbilityTextureName"      "dark_seer_wall_of_replica"
  
    // Precache
    //-------------------------------------------------------------------------------------------------------------
    "precache"
    {
      "soundfile"     "soundevents/game_sounds_heroes/game_sounds_dark_seer.vsndevts"
      "particle"      "particles/units/heroes/hero_dark_seer/dark_seer_wall_of_replica.vpcf"
    }
    
    // Casting
    //-------------------------------------------------------------------------------------------------------------
    "AbilityCastRange"        "500 900 1300"
    "AbilityCastPoint"        "0.4 0.4 0.4"
  
    // Time   
    //-------------------------------------------------------------------------------------------------------------
    "AbilityCooldown"       "100.0 100.0 100.0"
  
    // Cost
    //-------------------------------------------------------------------------------------------------------------
    "AbilityManaCost"       "200 300 400"
  
    // Special
    //-------------------------------------------------------------------------------------------------------------
    "AbilitySpecial"
    {
      "01"
      {
        "var_type"        "FIELD_INTEGER"
        "damage"        "150 150 150"
      } 
      "02"
      {
        "var_type"        "FIELD_FLOAT"
        "duration"        "15.0 30.0 45.0"
      }     
      "03"
      {
        "var_type"        "FIELD_INTEGER"
        "replica_damage_outgoing" "-10 -7 -5"
      }
      "04"
      {
        "var_type"        "FIELD_INTEGER"
        "tooltip_outgoing"  "90 93 95"
      }
      "05"
      {
        "var_type"        "FIELD_INTEGER"
        "replica_damage_incoming" "300 300 300"
      } 
      "06"
      {
        "var_type"        "FIELD_INTEGER"
        "tooltip_replica_total_damage_incoming" "400 400 400"
      }       
      "07"
      {
        "var_type"        "FIELD_INTEGER"
        "length"        "1500 2000 2500"
      }     
      "08"
      {
        "var_type"        "FIELD_INTEGER"
        "replica_scale" "0"
      }
      "09"
      {
        "var_type"        "FIELD_INTEGER"
        "range_tooltip"     "700 1100 1500"
      }
      "10"
      {
        "var_type"        "FIELD_INTEGER"
        "replica_damage_outgoing_scepter" "20 40 60"
      }
      "11"
      {
        "var_type"        "FIELD_INTEGER"
        "tooltip_outgoing_scepter"  "120 140 160"
      }
      // Extra
      "12"
      {
        "var_type"        "FIELD_INTEGER"
        "width"         "100 150 200"
      }
    }
  
    "OnSpellStart"
    {
      "FireSound"
      {
        "EffectName"  "Hero_Dark_Seer.Wall_of_Replica_Start"
        "Target"    "CASTER"
      }
  
      "RunScript"
      {
        "ScriptFile"  "hero/hero_dark_seer.lua"
        "Function"    "WallOfReplica"
        "Target"    "POINT"
        "wall_particle" "particles/units/heroes/hero_dark_seer/dark_seer_wall_of_replica.vpcf"
        "dummy_modifier"  "modifier_wall_of_replica_dummy_datadriven"
        "dummy_sound"   "Hero_Dark_Seer.Wall_of_Replica_lp"
      }
    }
  
    "Modifiers"
    {
      "modifier_wall_of_replica_dummy_datadriven"
      {
        "IsHidden"    "1"
        "IsPurgable"  "0"
  
        "ThinkInterval"  "0.2"
        "OnIntervalThink"
        {
          "RunScript"
          {
            "ScriptFile"  "hero/hero_dark_seer.lua"
            "Function"    "WallOfReplicaAura"
            "aura_modifier" "modifier_wall_of_replica_datadriven"
          }
        }
  
        "States"
        {
          "MODIFIER_STATE_INVULNERABLE"   "MODIFIER_STATE_VALUE_ENABLED"
          "MODIFIER_STATE_NO_HEALTH_BAR"  "MODIFIER_STATE_VALUE_ENABLED"        
          "MODIFIER_STATE_NOT_ON_MINIMAP" "MODIFIER_STATE_VALUE_ENABLED"
          "MODIFIER_STATE_UNSELECTABLE"   "MODIFIER_STATE_VALUE_ENABLED"
          "MODIFIER_STATE_NO_UNIT_COLLISION"  "MODIFIER_STATE_VALUE_ENABLED"
        }
      }
  
      "modifier_wall_of_replica_datadriven"
      {
        "IsHidden"  "1"
  
        "Attributes"    "MODIFIER_ATTRIBUTE_MULTIPLE"
  
        "OnCreated"
        {
          "RunScript"
          {
            "ScriptFile"  "hero/hero_dark_seer.lua"
            "Function"    "WallOfReplicaIllusionCheck"
          }
        }
      }
    }
  }

  // Rewrite of the Keeper of the Light Blinding Light ability
  // Author: Pizzalol
  // Date: 20.01.2015.
  // NOTE: This ability gets leveled up by KotL Spirit Form(datadriven version) and is also used by it
  // NOTE2: If you wish to use it as a standalone ability then just remove the NOT LEARNABLE behavior
  "imba_keeper_of_the_light_blinding_light"
  {
    // General
    //-------------------------------------------------------------------------------------------------------------
    "BaseClass"       "ability_datadriven"
    "AbilityBehavior"       "DOTA_ABILITY_BEHAVIOR_AOE | DOTA_ABILITY_BEHAVIOR_POINT | DOTA_ABILITY_BEHAVIOR_NOT_LEARNABLE"
    "SpellImmunityType"       "SPELL_IMMUNITY_ENEMIES_NO"
    "MaxLevel"            "3"
    "AbilityTextureName"      "keeper_of_the_light_blinding_light"
    "AOERadius"           "%radius"
  
    // Precache
    //-------------------------------------------------------------------------------------------------------------
    "precache"
    {
      "soundfile"     "soundevents/game_sounds_heroes/game_sounds_keeper_of_the_light.vsndevts"
      "particle"      "particles/units/heroes/hero_keeper_of_the_light/keeper_of_the_light_blinding_light_aoe.vpcf"
      "particle"      "particles/units/heroes/hero_keeper_of_the_light/keeper_of_the_light_blinding_light_debuff.vpcf"
    }
  
    // Casting
    //-------------------------------------------------------------------------------------------------------------
    "AbilityCastRange"        "1100 1100 1100"
    "AbilityCastPoint"        "0.3 0.3 0.3 0.3"
  
    // Time   
    //-------------------------------------------------------------------------------------------------------------
    "AbilityCooldown"       "20.0 16.0 12.0"
  
    // Cost
    //-------------------------------------------------------------------------------------------------------------
    "AbilityManaCost"       "50 50 50"
  
    // Stats
    //-------------------------------------------------------------------------------------------------------------
    "AbilityModifierSupportValue" "1.0"
  
    // Special
    //-------------------------------------------------------------------------------------------------------------
    "AbilitySpecial"
    {
      "01"
      {
        "var_type"        "FIELD_INTEGER"
        "radius"        "975 975 975"
      }
      "02"
      {
        "var_type"        "FIELD_FLOAT"
        "miss_duration"     "3.0 4.0 5.0"
      }
      "03"
      {
        "var_type"        "FIELD_INTEGER"
        "miss_rate"       "80 80 80"
      }
      "04"
      {
        "var_type"        "FIELD_INTEGER"
        "knockback_distance"  "900"
      }
      "05"
      {
        "var_type"        "FIELD_INTEGER"
        "knockback_height"    "150 150 150"
      }
      "06"
      {
        "var_type"        "FIELD_FLOAT"
        "knockback_duration"  "0.8 0.8 0.8"
      }
      // Extra
      "07"
      {
        "var_type"        "FIELD_FLOAT"
        "tree_radius"     "150"
      }
    }
  
    "OnSpellStart"
    {
      "FireSound"
      {
        "EffectName"  "Hero_KeeperOfTheLight.BlindingLight"
        "Target"    "CASTER"
      }
      
      "FireEffect"
      {
        "EffectName"        "particles/units/heroes/hero_keeper_of_the_light/keeper_of_the_light_blinding_light_aoe.vpcf"
        "EffectAttachType"  "start_at_customorigin"
        "TargetPoint"   "POINT"
  
        "ControlPoints"
        {
          "01"  "POINT"
          "02"  "%radius 0 0"
        }
        
      }
      
  
      "ActOnTargets"
      {
        "Target"
        {
          "Center"    "POINT"
          "Radius"  "%radius"
          "Teams"   "DOTA_UNIT_TARGET_TEAM_ENEMY"
          "Types"   "DOTA_UNIT_TARGET_HERO | DOTA_UNIT_TARGET_BASIC"
        }
      
        "Action"    
        {
          "Knockback"
          {
            "Target"            "TARGET"
            "Center"          "POINT"
            "Distance"          "%knockback_distance"
            "Duration"          "%knockback_duration"
            "Height"          "%knockback_height"
            "IsFixedDistance" "1"
            "ShouldStun"        "0" 
          }
  
          "DelayedAction"
          {
            "Delay"     "%knockback_duration"
            "Action"    
            {
              "DestroyTrees"
              {
                "Target"    "TARGET"
                "Radius"    "%tree_radius"
              }
              
            }
          }       
          
          "ApplyModifier"
          {
            "ModifierName"  "modifier_blinding_light_datadriven"
            "Target"    "TARGET"
            "Duration"    "%miss_duration"
          }
        }
      }   
    }
  
    "Modifiers"
    {
      "modifier_blinding_light_datadriven"
      {
        "Passive"     "0"
        "IsHidden"      "0"
        "IsDebuff"      "1"
    
        "EffectName"    "particles/units/heroes/hero_keeper_of_the_light/keeper_of_the_light_blinding_light_debuff.vpcf"
        "EffectAttachType"  "follow_origin"
    
        "Properties"
        {
          "MODIFIER_PROPERTY_MISS_PERCENTAGE" "%miss_rate" 
        }     
      }
    } 
  }
  
  // Rewrite of the Keeper of the Light Chakra Magic ability
  // Author: Pizzalol
  // Date: 19.01.2015.
  "imba_keeper_of_the_light_chakra_magic"
  {
    // General
    //-------------------------------------------------------------------------------------------------------------
    "BaseClass"       "ability_datadriven"
    "AbilityBehavior"       "DOTA_ABILITY_BEHAVIOR_UNIT_TARGET"
    "AbilityUnitTargetTeam"     "DOTA_UNIT_TARGET_TEAM_FRIENDLY"
    "AbilityUnitTargetType"     "DOTA_UNIT_TARGET_HERO | DOTA_UNIT_TARGET_BASIC"
    "SpellImmunityType"       "SPELL_IMMUNITY_ALLIES_YES"
    "AbilityTextureName"      "keeper_of_the_light_chakra_magic"
  
    // Precache
    //-------------------------------------------------------------------------------------------------------------
    "precache"
    {
      "soundfile"     "soundevents/game_sounds_heroes/game_sounds_keeper_of_the_light.vsndevts"
      "particle"      "particles/units/heroes/hero_keeper_of_the_light/keeper_chakra_magic.vpcf"
    }
  
    // Casting
    //-------------------------------------------------------------------------------------------------------------
    "AbilityCastRange"        "900 900 900 900"
    "AbilityCastPoint"        "0.3 0.3 0.3 0.3"
  
    // Time   
    //-------------------------------------------------------------------------------------------------------------
    "AbilityCooldown"       "19.0 18.0 17.0 16.0"
  
    // Cost
    //-------------------------------------------------------------------------------------------------------------
    "AbilityManaCost"       "25 45 65 85"
  
    // Stats
    //-------------------------------------------------------------------------------------------------------------
    "AbilityModifierSupportValue" "3.0" // Value much higher than cost.
  
  
    // Special
    //-------------------------------------------------------------------------------------------------------------
    "AbilitySpecial"
    {
      "01"
      {
        "var_type"        "FIELD_FLOAT"
        "mana_restore"      "1175 1250 1325 1400"
      }
    }
  
    "OnSpellStart"
    {
      "FireSound"
      {
        "EffectName"  "Hero_KeeperOfTheLight.ChakraMagic.Target"
        "Target"    "TARGET"
      }
  
      "FireEffect"
      {
        "EffectName"  "particles/units/heroes/hero_keeper_of_the_light/keeper_chakra_magic.vpcf"
        "EffectAttachType"  "start_at_customorigin"
  
        "ControlPointEntities"
        {
          "CASTER"  "follow_origin"
          "TARGET"  "follow_origin"
        }
      }
  
      "RunScript"
      {
        "ScriptFile"  "hero/hero_keeper_of_the_light.lua"
        "Function"    "ChakraMagic"
      }
    }
  }
  
  "imba_keeper_of_the_light_empty1"
  {
    // General
    //-------------------------------------------------------------------------------------------------------------
    "BaseClass"       "ability_datadriven"
    "AbilityBehavior"       "DOTA_ABILITY_BEHAVIOR_PASSIVE | DOTA_ABILITY_BEHAVIOR_NOT_LEARNABLE"
    "MaxLevel"            "0"
  }
  
  "imba_keeper_of_the_light_empty2"
  {
    // General
    //-------------------------------------------------------------------------------------------------------------
    "BaseClass"       "ability_datadriven"
    "AbilityBehavior"       "DOTA_ABILITY_BEHAVIOR_PASSIVE | DOTA_ABILITY_BEHAVIOR_NOT_LEARNABLE"
    "MaxLevel"            "0"
  }
  
  // Rewrite of the Keeper of the Light Illuminate ability
  // Author: Pizzalol
  // Date: 24.01.2015.
  // NOTE: This ability is used together with the "keeper_of_the_light_illuminate_end_datadriven" ability
  // NOTE2: The projectile visual is missing horses
  "imba_keeper_of_the_light_illuminate"
  {
    // General
    //-------------------------------------------------------------------------------------------------------------
    "BaseClass"       "ability_datadriven"
    "AbilityBehavior"       "DOTA_ABILITY_BEHAVIOR_POINT | DOTA_ABILITY_BEHAVIOR_CHANNELLED"
    "AbilityUnitDamageType"     "DAMAGE_TYPE_MAGICAL"
    "AbilityUnitTargetType"     "DOTA_UNIT_TARGET_HERO | DOTA_UNIT_TARGET_BASIC | DOTA_UNIT_TARGET_MECHANICAL"
    "AbilityUnitTargetTeam"     "DOTA_UNIT_TARGET_TEAM_ENEMY" 
    "SpellImmunityType"       "SPELL_IMMUNITY_ENEMIES_NO"
    "FightRecapLevel"       "1"
    "AbilityTextureName"      "keeper_of_the_light_illuminate"
  
    // Precache
    //-------------------------------------------------------------------------------------------------------------
    "precache"
    {
      "soundfile"     "soundevents/game_sounds_heroes/game_sounds_keeper_of_the_light.vsndevts"
      "particle"      "particles/units/heroes/hero_keeper_of_the_light/keeper_of_the_light_illuminate.vpcf"
      "particle"      "particles/units/heroes/hero_keeper_of_the_light/keeper_of_the_light_illuminate_charge.vpcf"
      "particle"      "particles/units/heroes/hero_keeper_of_the_light/keeper_of_the_light_illuminate_impact.vpcf"
    }
  
    // Casting
    //-------------------------------------------------------------------------------------------------------------
    "AbilityCastRange"        "1800"
    "AbilityCastPoint"        "0.3 0.3 0.3 0.3"
  
    // Time   
    //-------------------------------------------------------------------------------------------------------------
    "AbilityCooldown"       "10.0 10.0 10.0 10.0"
    "AbilityChannelTime"      "2.0 3.0 4.0 5.0"
  
    // Cost
    //-------------------------------------------------------------------------------------------------------------
    "AbilityManaCost"       "150 160 170 180"
  
    // Special
    //-------------------------------------------------------------------------------------------------------------
    "AbilitySpecial"
    {
      "01"
      {
        "var_type"        "FIELD_FLOAT"
        "damage_per_second"   "100.0 100.0 100.0 100.0"
      }
      "02"
      {
        "var_type"        "FIELD_INTEGER"
        "radius"        "1050 1050 1050 1050"
      }
      "03"
      {
        "var_type"        "FIELD_INTEGER"
        "range"         "2050"
      }
      "04"
      {
        "var_type"        "FIELD_FLOAT"
        "speed"         "1400.0"
      }
      "05"
      {
        "var_type"        "FIELD_FLOAT"
        "max_channel_time"    "4.0 5.0 6.0 7.0"
      }
      "06"
      {
        "var_type"        "FIELD_INTEGER"
        "vision_radius"     "2000 2000 2000 2000"
      }
      "07"
      {
        "var_type"        "FIELD_FLOAT"
        "vision_duration"   "3.34 3.34 3.34 3.34"
      }
      "08"
      { 
        "var_type"        "FIELD_INTEGER"
        "channel_vision_radius" "350"
      }
      "09"
      { 
        "var_type"          "FIELD_FLOAT"
        "channel_vision_interval" "0.5"
      }
      "10"
      {
        "var_type"          "FIELD_FLOAT"
        "channel_vision_duration" "10.34"
      }
      "11"
      {
        "var_type"          "FIELD_INTEGER"
        "channel_vision_step"   "150"
      }
    }
  
    "OnSpellStart"
    {
      "FireSound"
      {
        "EffectName"  "Hero_KeeperOfTheLight.Illuminate.Charge"
        "Target"    "CASTER"
      }
      
      "RunScript"
      {
        "ScriptFile"  "hero/hero_keeper_of_the_light.lua"
        "Function"    "IlluminateStart"
        "sub_ability_name"  "imba_keeper_of_the_light_illuminate_end"
      }
  
      "ApplyModifier"
      {
        "ModifierName"  "modifier_illuminate_vision_field_timer_datadriven"
        "Target"    "CASTER"
      }       
    }
  
    "OnUpgrade"
    {
      "RunScript"
      {
        "ScriptFile"  "hero/hero_keeper_of_the_light.lua"
        "Function"    "LevelUpAbility"
        "ability_name"  "imba_keeper_of_the_light_illuminate_end"
      }
    }
  
    "OnChannelFinish"
    {
      "FireSound"
      {
        "EffectName"  "Hero_KeeperOfTheLight.Illuminate.Discharge"
        "Target"    "CASTER"
      }
      
      "RunScript"
      {
        "ScriptFile"  "hero/hero_keeper_of_the_light.lua"
        "Function"    "IlluminateEnd"
        "projectile_name"     "particles/units/heroes/hero_keeper_of_the_light/keeper_of_the_light_illuminate.vpcf"
      }
  
      "RunScript"
      {
        "ScriptFile"  "hero/hero_keeper_of_the_light.lua"
        "Function"    "IlluminateSwapEnd"
        "sub_ability_name"  "imba_keeper_of_the_light_illuminate_end"
      }
  
      "RemoveModifier"
      {
        "ModifierName"  "modifier_illuminate_vision_field_timer_datadriven"
        "Target"    "CASTER"
      }   
    }
  
    "OnProjectileHitUnit"
    {
      "DeleteOnHit" "0"
      "FireSound"
      {
        "EffectName"  "Hero_KeeperOfTheLight.Illuminate.Target"
        "Target"    "TARGET"
      }
      
      "FireEffect"
      {
        "EffectName"        "particles/units/heroes/hero_keeper_of_the_light/keeper_of_the_light_illuminate_impact.vpcf"
        "EffectAttachType"  "follow_origin"
        "Target"            "TARGET"
      }
  
      "RunScript"
      {
        "ScriptFile"  "hero/hero_keeper_of_the_light.lua"
        "Function"    "IlluminateProjectileHit"
      }   
    }
    
    
    
    "Modifiers"
    {
      "modifier_illuminate_vision_field_timer_datadriven"
      {
        "Passive"     "0"
        "IsHidden"      "1"
        "IsDebuff"      "0"
        "IsPurgable"    "0"
  
        "EffectName"    "particles/units/heroes/hero_keeper_of_the_light/keeper_of_the_light_illuminate_charge.vpcf"
        "EffectAttachType"  "attach_attack1"
    
        "ThinkInterval"  "%channel_vision_interval"
        "OnIntervalThink"
        {
          "RunScript"
          {
            "ScriptFile"  "hero/hero_keeper_of_the_light.lua"
            "Function"    "IlluminateVisionFields"
          }       
        }     
      }   
    } 
  }
  
  // Rewrite of the Keeper of the Illuminate end ability
  // Author: Pizzalol
  // Date: 24.01.2015.
  // NOTE: This ability is used together with the "keeper_of_the_light_illuminate_datadriven" ability
  "imba_keeper_of_the_light_illuminate_end"
  {
    // General
    //-------------------------------------------------------------------------------------------------------------
    "BaseClass"       "ability_datadriven"
    "AbilityBehavior"       "DOTA_ABILITY_BEHAVIOR_NO_TARGET | DOTA_ABILITY_BEHAVIOR_NOT_LEARNABLE | DOTA_ABILITY_BEHAVIOR_HIDDEN | DOTA_ABILITY_BEHAVIOR_DONT_RESUME_ATTACK"
    "AbilityTextureName"      "keeper_of_the_light_illuminate_end"
  
    // Casting
    //-------------------------------------------------------------------------------------------------------------
    "AbilityCastPoint"        "0.0 0.0 0.0 0.0"
  
    "OnSpellStart"
    {
      "RunScript"
      {
        "ScriptFile"  "hero/hero_keeper_of_the_light.lua"
        "Function"    "IlluminateStop"
      }
    }
    
  }
  
  // Rewrite of the Keeper of the Light Mana Leak ability
  // Author: Pizzalol
  // Date: 20.01.2015.
  "imba_keeper_of_the_light_mana_leak"
  {
    // General
    //-------------------------------------------------------------------------------------------------------------
    "BaseClass"       "ability_datadriven"
    "AbilityBehavior"       "DOTA_ABILITY_BEHAVIOR_UNIT_TARGET"
    "AbilityUnitTargetTeam"     "DOTA_UNIT_TARGET_TEAM_ENEMY"
    "AbilityUnitTargetType"     "DOTA_UNIT_TARGET_HERO | DOTA_UNIT_TARGET_BASIC"
    "SpellImmunityType"       "SPELL_IMMUNITY_ENEMIES_NO"
    "AbilityTextureName"      "keeper_of_the_light_mana_leak"
  
    // Precache
    //-------------------------------------------------------------------------------------------------------------
    "precache"
    {
      "soundfile"     "soundevents/game_sounds_heroes/game_sounds_keeper_of_the_light.vsndevts"
      "particle"      "particles/units/heroes/hero_keeper_of_the_light/keeper_mana_leak.vpcf"
      "particle"      "particles/units/heroes/hero_keeper_of_the_light/keeper_mana_leak_cast.vpcf"
      
    }
  
    // Casting
    //-------------------------------------------------------------------------------------------------------------
    "AbilityCastPoint"        "0.3 0.3 0.3 0.3"
  
    // Time   
    //-------------------------------------------------------------------------------------------------------------
    "AbilityCooldown"       "16.0"
  
    // Cost
    //-------------------------------------------------------------------------------------------------------------
    "AbilityManaCost"       "75 75 75 75"   
  
    // Cast Range
    //-------------------------------------------------------------------------------------------------------------
    "AbilityCastRange"        "550 700 850 1000"
  
    // Special
    //-------------------------------------------------------------------------------------------------------------
    "AbilitySpecial"
    {
      "01"
      {
        "var_type"          "FIELD_FLOAT"
        "duration"          "5.0 6.0 7.0 8.0"
      }
      "02"
      {
        "var_type"          "FIELD_FLOAT"
        "mana_leak_pct"       "5.0"
      }
      "03"
      {
        "var_type"          "FIELD_FLOAT"
        "stun_duration"       "1.5 2.0 2.5 3.0"
      }
      "04"
      {
        "var_type"          "FIELD_INTEGER"
        "cast_range_tooltip"    "550 700 850 1000"
      }
      // Extra
      "05"
      {
        "var_type"          "FIELD_FLOAT"
        "leash_range_check"     "300"
      }
      "06"
      {
        "var_type"          "FIELD_FLOAT"
        "check_interval"      "0.1"
      }
    }
  
    "OnSpellStart"
    {
      "FireSound"
      {
        "EffectName"  "Hero_KeeperOfTheLight.ManaLeak.Cast"
        "Target"    "CASTER"
      }
  
      "FireSound"
      {
        "EffectName"  "Hero_KeeperOfTheLight.ManaLeak.Target"
        "Target"    "TARGET"
      }
      
      "FireEffect"
      {
        "EffectName"        "particles/units/heroes/hero_keeper_of_the_light/keeper_mana_leak_cast.vpcf"
        "EffectAttachType"  "start_at_customorigin"
        
        "ControlPointEntities"
        {
          "CASTER"  "attach_origin"
          "TARGET"  "follow_origin"
        }
      }
      
      
      "ApplyModifier"
      {
        "ModifierName"  "modifier_mana_leak_datadriven"
        "Target"    "TARGET"
        "Duration"    "%duration"
      }
    }
  
    "Modifiers"
    {
      "modifier_mana_leak_datadriven"
      {
        "Passive"     "0"
        "IsHidden"      "0"
        "IsDebuff"      "1"
  
        "OnCreated"
        {
          "RunScript"
          {
            "ScriptFile"  "hero/hero_keeper_of_the_light.lua"
            "Function"    "ManaLeakInit"
            "sound"     "Hero_KeeperOfTheLight.ManaLeak.Stun"
            "modifier"    "modifier_mana_leak_datadriven"
          }
        }
  
        "OnUnitMoved"
        {
          "Random"
          {
            "Chance"      "10"
            "PseudoRandom" "DOTA_PSEUDO_RANDOM_JUGG_CRIT"         
            "OnSuccess"
            {
              "FireEffect"
              {
                "EffectName"        "particles/units/heroes/hero_keeper_of_the_light/keeper_mana_leak.vpcf"
                "EffectAttachType"  "attach_origin"
                "Target"            "UNIT"
              }
  
              "FireSound"
              {
                "EffectName"  "Hero_KeeperOfTheLight.ManaLeak.Target"
                "Target"    "UNIT"
              }           
            }
          }                   
        }     
        
    
        "ThinkInterval"  "%check_interval"
        "OnIntervalThink"
        {
          "RunScript"
          {
            "ScriptFile"  "hero/hero_keeper_of_the_light.lua"
            "Function"    "ManaLeak"
            "sound"     "Hero_KeeperOfTheLight.ManaLeak.Stun"
            "modifier"    "modifier_mana_leak_datadriven"
          }
        }     
      }
    } 
  } 
  
  // Rewrite of the Keeper of the Light Recall ability
  // Author: Pizzalol
  // Date: 19.01.2015.
  // NOTE: This ability gets leveled up by KotL Spirit Form(datadriven version) and is also used by it
  // NOTE2: If you wish to use it as a standalone ability then just remove the NOT LEARNABLE behavior
  "imba_keeper_of_the_light_recall"
  {
    // General
    //-------------------------------------------------------------------------------------------------------------
    "BaseClass"       "ability_datadriven"
    "AbilityBehavior"       "DOTA_ABILITY_BEHAVIOR_POINT | DOTA_ABILITY_BEHAVIOR_CHANNELLED | DOTA_ABILITY_BEHAVIOR_UNIT_TARGET | DOTA_ABILITY_BEHAVIOR_DONT_RESUME_ATTACK | DOTA_ABILITY_BEHAVIOR_NOT_LEARNABLE"
    "AbilityUnitTargetTeam"     "DOTA_UNIT_TARGET_TEAM_FRIENDLY"
    "AbilityUnitTargetType"     "DOTA_UNIT_TARGET_HERO"
    "AbilityUnitTargetFlags"      "DOTA_UNIT_TARGET_FLAG_INVULNERABLE"
    "SpellImmunityType"       "SPELL_IMMUNITY_ALLIES_YES"
    "MaxLevel"            "3"
    "AbilityTextureName"      "keeper_of_the_light_recall"
  
    // Precache
    //-------------------------------------------------------------------------------------------------------------
    "precache"
    {
      "soundfile"     "soundevents/game_sounds_heroes/game_sounds_keeper_of_the_light.vsndevts"
      "particle"      "particles/units/heroes/hero_keeper_of_the_light/keeper_of_the_light_recall_cast.vpcf"
      "particle"      "particles/units/heroes/hero_keeper_of_the_light/keeper_of_the_light_recall.vpcf"
    }
  
    // Casting
    //-------------------------------------------------------------------------------------------------------------
    "AbilityCastPoint"        "0.3 0.3 0.3"
  
    // Time   
    //-------------------------------------------------------------------------------------------------------------
    "AbilityCastRange"        "0"
    "AbilityCooldown"       "15.0 15.0 15.0"
  
    // Cost
    //-------------------------------------------------------------------------------------------------------------
    "AbilityManaCost"       "100 100 100"
  
    // Special
    //-------------------------------------------------------------------------------------------------------------
    "AbilitySpecial"
    {
      "01"
      {
        "var_type"        "FIELD_FLOAT"
        "teleport_delay"    "0.5 0.5 0.5"
      }
    }
  
    "OnSpellStart"
    {
      "FireSound"
      {
        "EffectName"  "Hero_KeeperOfTheLight.Recall.Cast"
        "Target"    "CASTER"
      }
  
      "FireEffect"
      {
        "EffectName"  "particles/units/heroes/hero_keeper_of_the_light/keeper_of_the_light_recall_cast.vpcf"
        "EffectAttachType"  "start_at_custom_origin"
        
        "ControlPointEntities"
        {
          "CASTER"  "attach_origin"
          "CASTER"  "attach_origin"
        }
      }
  
      "RunScript"
      {
        "ScriptFile"  "hero/hero_keeper_of_the_light.lua"
        "Function"    "Recall"
        "modifier"    "modifier_recall_datadriven"
        "sound_caster"  "Hero_KeeperOfTheLight.Recall.Cast"
        "sound_target"  "Hero_KeeperOfTheLight.Recall.Target"
        "Target"    "POINT"
      }
    }
  
    "Modifiers"
    {
      "modifier_recall_datadriven"
      {
        "EffectName"  "particles/units/heroes/hero_keeper_of_the_light/keeper_of_the_light_recall.vpcf"
        "EffectAttachType"  "follow_origin"
  
        "Attributes"    "MODIFIER_ATTRIBUTE_MULTIPLE"
  
        "ThinkInterval"   "%teleport_delay"
  
        "OnIntervalThink"
        {
          "FireSound"
          {
            "EffectName"  "Hero_KeeperOfTheLight.Recall.End"
            "Target"    "TARGET"
          }
  
          "MoveUnit"
          {
            "Target"  "TARGET"
            "MoveToTarget"  "CASTER"
          }
        }
  
        "OnTakeDamage"
        {
          "FireSound"
          {
            "EffectName"  "Hero_KeeperOfTheLight.Recall.Fail"
            "Target"    "UNIT"
          }
  
          "RunScript"
          {
            "ScriptFile"  "hero/hero_keeper_of_the_light.lua"
            "Function"    "RecallFail"
            "sound_caster"  "Hero_KeeperOfTheLight.Recall.Cast"
            "sound_target"  "Hero_KeeperOfTheLight.Recall.Target"
          }
  
          "RemoveModifier"
          {
            "ModifierName"  "modifier_recall_datadriven"
            "Target"    "UNIT"
          }
        }
      }
    }
  }
  
  // Rewrite of the Keeper of the Light Spirit Form ability
  // Author: Pizzalol
  // Date: 27.09.2015.
  // NOTE: This ability REQUIRES the following abilities and all of their sub abilities
  //    keeper_of_the_light_illuminate_datadriven
  //    keeper_of_the_light_recall_datadriven
  //    keeper_of_the_light_blinding_light_datadriven
  //    keeper_of_the_light_spirit_form_illuminate_datadriven
  "imba_keeper_of_the_light_spirit_form"
  {
    // General
    //-------------------------------------------------------------------------------------------------------------
    "BaseClass"       "ability_datadriven"
    "AbilityBehavior"       "DOTA_ABILITY_BEHAVIOR_NO_TARGET"
    "AbilityType"         "DOTA_ABILITY_TYPE_ULTIMATE"
    "AbilityTextureName"      "keeper_of_the_light_spirit_form"
  
    // Precache
    //-------------------------------------------------------------------------------------------------------------
    "precache"
    {
      "soundfile"     "soundevents/game_sounds_heroes/game_sounds_keeper_of_the_light.vsndevts"
      "particle"      "particles/status_fx/status_effect_keeper_spirit_form.vpcf"
      "particle"      "particles/units/heroes/hero_keeper_of_the_light/keeper_of_the_light_spirit_form_cast.vpcf"
      "particle"      "particles/units/heroes/hero_keeper_of_the_light/keeper_of_the_light_spirit_form_ambient.vpcf"        
    }
  
    // Time   
    //-------------------------------------------------------------------------------------------------------------
    "AbilityCooldown"       "80.0 100.0 120.0"
  
    // Cost
    //-------------------------------------------------------------------------------------------------------------
    "AbilityManaCost"       "100 100 100"   
  
    // Stats
    //-------------------------------------------------------------------------------------------------------------
    "AbilityModifierSupportValue" "0.35"  // Attacks are primarily about the damage
  
    // Special
    //-------------------------------------------------------------------------------------------------------------
    "AbilitySpecial"
    {
      "01"
      {
        "var_type"          "FIELD_FLOAT"
        "duration"          "60.0 80.0 120.0"
      }
    }
  
    "OnSpellStart"
    {
      "FireSound"
      {
        "EffectName"  "Hero_KeeperOfTheLight.SpiritForm"
        "Target"    "CASTER"
      }
  
      "FireEffect"
      {
        "EffectName"        "particles/units/heroes/hero_keeper_of_the_light/keeper_of_the_light_spirit_form_cast.vpcf"
        "EffectAttachType"  "follow_origin"
        "Target"            "CASTER"
      }   
      
      "ApplyModifier"
      {
        "ModifierName"  "modifier_spirit_form_datadriven"
        "Target"    "CASTER"
        "Duration"    "%duration"
      }
    }
  
    "OnUpgrade"
    {
      "RunScript"
      {
        "ScriptFile"  "hero/hero_keeper_of_the_light.lua"
        "Function"    "LevelUpAbility"
        "ability_name"  "imba_keeper_of_the_light_recall"
        "modifier"    "modifier_spirit_form_datadriven"
      }
  
      "RunScript"
      {
        "ScriptFile"  "hero/hero_keeper_of_the_light.lua"
        "Function"    "LevelUpAbility"
        "ability_name"  "imba_keeper_of_the_light_blinding_light"
        "modifier"    "modifier_spirit_form_datadriven"
      }
    }
    
    
    "Modifiers"
    {
      "modifier_spirit_form_datadriven"
      {
        "Passive"     "0"
        "IsHidden"      "0"
        "IsDebuff"      "0"
  
        "EffectName"      "particles/units/heroes/hero_keeper_of_the_light/keeper_of_the_light_spirit_form_ambient.vpcf"
        "EffectAttachType"    "follow_origin"
  
        "StatusEffectName"    "particles/status_fx/status_effect_keeper_spirit_form.vpcf"      
        "StatusEffectPriority"  "10"
        
        "OnCreated"
        {
          "RunScript"
          {
            "ScriptFile"  "hero/hero_keeper_of_the_light.lua"
            "Function"    "SwapAbilities"
            "main_ability_name" "imba_keeper_of_the_light_illuminate"
            "sub_ability_name"  "imba_keeper_of_the_light_spirit_form_illuminate"
          }
  
          "RunScript"
          {
            "ScriptFile"  "hero/hero_keeper_of_the_light.lua"
            "Function"    "SpiritFormStart"
            "illuminate"  "imba_keeper_of_the_light_illuminate"
            "spirit_form_illuminate"  "imba_keeper_of_the_light_spirit_form_illuminate"
            "recall"    "imba_keeper_of_the_light_recall"
            "blinding_light"  "imba_keeper_of_the_light_blinding_light"
          }       
        }
  
        "OnDestroy"
        {
          "RunScript"
          {
            "ScriptFile"  "hero/hero_keeper_of_the_light.lua"
            "Function"    "SpiritFormEnd"
            "illuminate"  "imba_keeper_of_the_light_illuminate"
            "spirit_form_illuminate"  "imba_keeper_of_the_light_spirit_form_illuminate"
            "recall"    "imba_keeper_of_the_light_recall"
            "blinding_light"  "imba_keeper_of_the_light_blinding_light_"
          }
  
          "RunScript"
          {
            "ScriptFile"  "hero/hero_keeper_of_the_light.lua"
            "Function"    "SwapAbilities"
            "main_ability_name" "imba_keeper_of_the_light_spirit_form_illuminate"
            "sub_ability_name"  "imba_keeper_of_the_light_illuminate"
          }
        }     
      }
    } 
  }
  
  // Rewrite of the Keeper of the Light Spirit Form Illuminate ability
  // Author: Pizzalol
  // Date: 25.01.2015.
  // NOTE: This ability REQUIRES the following abilities to work
  //      keeper_of_the_light_spirit_form_datadriven
  //      keeper_of_the_light_spirit_form_illuminate_end_datadriven
  // 
  // NOTE2: The horses are missing from the projectile visual
  // NOTE3: Uses the normal illuminate projectile instead of the spirit form one, as it is bugged
  // NOTE4: The charge up animation is just a horse with the energy gathering part, the rider is part of
  // the projectile that we are not using
  "imba_keeper_of_the_light_spirit_form_illuminate"
  {
    // General
    //-------------------------------------------------------------------------------------------------------------
    "BaseClass"       "ability_datadriven"
    "AbilityBehavior"       "DOTA_ABILITY_BEHAVIOR_POINT | DOTA_ABILITY_BEHAVIOR_HIDDEN"
    "AbilityUnitDamageType"     "DAMAGE_TYPE_MAGICAL"
    "AbilityUnitTargetType"     "DOTA_UNIT_TARGET_HERO | DOTA_UNIT_TARGET_BASIC | DOTA_UNIT_TARGET_MECHANICAL"
    "AbilityUnitTargetTeam"     "DOTA_UNIT_TARGET_TEAM_ENEMY" 
    "SpellImmunityType"       "SPELL_IMMUNITY_ENEMIES_NO"
    "FightRecapLevel"       "1"
    "AbilityTextureName"      "keeper_of_the_light_spirit_form_illuminate"
  
    // Precache
    //-------------------------------------------------------------------------------------------------------------
    "precache"
    {
      "soundfile"     "soundevents/game_sounds_heroes/game_sounds_keeper_of_the_light.vsndevts"
      "particle"      "particles/units/heroes/hero_keeper_of_the_light/keeper_of_the_light_illuminate.vpcf"
      "particle"      "particles/units/heroes/hero_keeper_of_the_light/keeper_of_the_light_illuminate_charge_spirit_form.vpcf"
      "particle"      "particles/units/heroes/hero_keeper_of_the_light/keeper_of_the_light_illuminate_impact.vpcf"    
    }
  
    // Casting
    //-------------------------------------------------------------------------------------------------------------
    "AbilityCastRange"        "1800"
    "AbilityCastPoint"        "0.3 0.3 0.3 0.3"
  
    // Time   
    //-------------------------------------------------------------------------------------------------------------
    "AbilityCooldown"       "10.0 10.0 10.0 10.0"
  
    // Cost
    //-------------------------------------------------------------------------------------------------------------
    "AbilityManaCost"       "150 160 170 180"
  
    // Special
    //-------------------------------------------------------------------------------------------------------------
    "AbilitySpecial"
    {
      "01"
      {
        "var_type"        "FIELD_FLOAT"
        "damage_per_second"   "100.0 100.0 100.0 100.0"
      }
      "02"
      {
        "var_type"        "FIELD_INTEGER"
        "radius"        "1050 1050 1050 1050"
      }
      "03"
      {
        "var_type"        "FIELD_INTEGER"
        "range"         "2050"
      }
      "04"
      {
        "var_type"        "FIELD_FLOAT"
        "speed"         "1400.0"
      }
      "05"
      {
        "var_type"        "FIELD_FLOAT"
        "max_channel_time"    "4.0 5.0 6.0 7.0"
      }
      "06"
      {
        "var_type"        "FIELD_INTEGER"
        "vision_radius"     "2000 2000 2000 2000"
      }
      "07"
      {
        "var_type"        "FIELD_FLOAT"
        "vision_duration"   "3.34 3.34 3.34 3.34"
      }
      "08"
      { 
        "var_type"        "FIELD_INTEGER"
        "channel_vision_radius" "350"
      }
      "09"
      { 
        "var_type"          "FIELD_FLOAT"
        "channel_vision_interval" "0.5"
      }
      "10"
      {
        "var_type"          "FIELD_FLOAT"
        "channel_vision_duration" "10.34"
      }
      "11"
      {
        "var_type"          "FIELD_INTEGER"
        "channel_vision_step"   "150"
      }
    }
  
    "OnSpellStart"
    {
      "RunScript"
      {
        "ScriptFile"  "hero/hero_keeper_of_the_light.lua"
        "Function"    "SpiritFormIlluminateInitialize"
        "dummy_modifier"  "modifier_spirit_form_illuminate_dummy_datadriven"
      }
  
      "RunScript"
      {
        "ScriptFile"  "hero/hero_keeper_of_the_light.lua"
        "Function"    "SwapAbilities"
        "main_ability_name" "imba_keeper_of_the_light_spirit_form_illuminate"
        "sub_ability_name"  "imba_keeper_of_the_light_spirit_form_illuminate_end"
      }
    }
    
    "OnUpgrade"
    {
      "RunScript"
      {
        "ScriptFile"  "hero/hero_keeper_of_the_light.lua"
        "Function"    "LevelUpAbility"
        "ability_name"  "imba_keeper_of_the_light_spirit_form_illuminate_end"
      }
    }
  
    "OnProjectileHitUnit"
    {
      "DeleteOnHit" "0"
      "FireSound"
      {
        "EffectName"  "Hero_KeeperOfTheLight.Illuminate.Target"
        "Target"    "TARGET"
      }
      
      "FireEffect"
      {
        "EffectName"        "particles/units/heroes/hero_keeper_of_the_light/keeper_of_the_light_illuminate_impact.vpcf"
        "EffectAttachType"  "follow_origin"
        "Target"            "TARGET"
      }
  
      "RunScript"
      {
        "ScriptFile"  "hero/hero_keeper_of_the_light.lua"
        "Function"    "SpiritFormIlluminateProjectileHit"
      }   
    }
  
    "Modifiers"
    {
      "modifier_spirit_form_illuminate_dummy_datadriven"
      {
        "OnCreated"
        {
          "FireSound"
          {
            "EffectName"  "Hero_KeeperOfTheLight.Illuminate.Charge"
            "Target"
            {
              "Center"  "TARGET"
              "Flags"   "DOTA_UNIT_TARGET_FLAG_INVULNERABLE"
            }
          }
          
          "ApplyModifier"
          {
            "ModifierName"  "modifier_spirit_form_illuminate_vision_field_timer_datadriven"
            "Target"
            {
              "Center"  "TARGET"
              "Flags"   "DOTA_UNIT_TARGET_FLAG_INVULNERABLE"
            }
          }     
        }
  
        "OnDestroy"
        {
          "FireSound"
          {
            "EffectName"  "Hero_KeeperOfTheLight.Illuminate.Discharge"
            "Target"
            {
              "Center"  "TARGET"
              "Flags"   "DOTA_UNIT_TARGET_FLAG_INVULNERABLE"
            }
          }
          
          "RunScript"
          {
            "ScriptFile"  "hero/hero_keeper_of_the_light.lua"
            "Function"    "SpiritFormIlluminateEnd"
            "projectile_name"       "particles/units/heroes/hero_keeper_of_the_light/keeper_of_the_light_illuminate.vpcf"
          }
  
          "RunScript"
          {
            "ScriptFile"  "hero/hero_keeper_of_the_light.lua"
            "Function"    "SwapAbilities"
            "main_ability_name" "imba_keeper_of_the_light_spirit_form_illuminate_end"
            "sub_ability_name"  "imba_keeper_of_the_light_spirit_form_illuminate"
          }
        }     
  
        "States"
        {
          "MODIFIER_STATE_NO_UNIT_COLLISION"    "MODIFIER_STATE_VALUE_ENABLED"
          "MODIFIER_STATE_INVULNERABLE"   "MODIFIER_STATE_VALUE_ENABLED"
          "MODIFIER_STATE_NO_HEALTH_BAR"    "MODIFIER_STATE_VALUE_ENABLED"
          "MODIFIER_STATE_NOT_ON_MINIMAP"   "MODIFIER_STATE_VALUE_ENABLED"
        }     
      }
  
      "modifier_spirit_form_illuminate_vision_field_timer_datadriven"
      {
        "Passive"     "0"
        "IsHidden"      "0"
        "IsDebuff"      "0"
        "IsPurgable"    "0"
  
        "Attributes"    "MODIFIER_ATTRIBUTE_IGNORE_INVULNERABLE"
  
        "OnCreated"
        {
          "AttachEffect"
          {
            "EffectName"        "particles/units/heroes/hero_keeper_of_the_light/keeper_of_the_light_illuminate_charge_spirit_form.vpcf"
            "EffectAttachType"  "start_at_customorigin"
            "Target"
            {
              "Center"  "CASTER"
              "Flags"   "DOTA_UNIT_TARGET_FLAG_INVULNERABLE"
            }
  
            "ControlPointEntities"
            {
              "CASTER"  "attach_origin"
              "CASTER"  "attach_origin"
              "CASTER"  "attach_origin"
              "CASTER"  "attach_origin"
              "CASTER"  "attach_origin"
            }
          } 
        }
    
        "ThinkInterval"  "%channel_vision_interval"
        "OnIntervalThink"
        {
          "RunScript"
          {
            "ScriptFile"  "hero/hero_keeper_of_the_light.lua"
            "Function"    "SpiritFormIlluminateVisionFields"
          }       
        }     
      }
    }
  }
  
  // Rewrite of the Keeper of the Light Spirit Form Illuminate End ability
  // Author: Pizzalol
  // Date: 25.01.2015.
  // NOTE: This ability requires the "keeper_of_the_light_spirit_form_illuminate_datadriven" ability to work
  "imba_keeper_of_the_light_spirit_form_illuminate_end"
  {
    // General
    //-------------------------------------------------------------------------------------------------------------
    "BaseClass"       "ability_datadriven"
    "AbilityBehavior"       "DOTA_ABILITY_BEHAVIOR_NO_TARGET | DOTA_ABILITY_BEHAVIOR_NOT_LEARNABLE | DOTA_ABILITY_BEHAVIOR_HIDDEN | DOTA_ABILITY_BEHAVIOR_DONT_RESUME_ATTACK"
    "AbilityTextureName"      "keeper_of_the_light_spirit_form_illuminate_end"
  
    // Casting
    //-------------------------------------------------------------------------------------------------------------
    "AbilityCastPoint"        "0.0 0.0 0.0 0.0"
  
    "OnSpellStart"
    {
      "RunScript"
      {
        "ScriptFile"  "hero/hero_keeper_of_the_light.lua"
        "Function"    "SpiritFormIlluminateStop"
        "dummy_modifier"  "modifier_spirit_form_illuminate_dummy_datadriven"
      }
    } 
  }


  "imba_leshrac_speed"
  {
    // General
    //-------------------------------------------------------------------------------------------------------------
    "BaseClass"           "ability_datadriven"
    "AbilityBehavior"       "DOTA_ABILITY_BEHAVIOR_POINT | DOTA_ABILITY_BEHAVIOR_AOE"
    "AbilityUnitTargetTeam"     "DOTA_UNIT_TARGET_TEAM_FRIENDLY"
    "AbilityUnitTargetType"     "DOTA_UNIT_TARGET_HERO | DOTA_UNIT_TARGET_BASIC" 
    "SpellImmunityType"       "SPELL_IMMUNITY_ENEMIES_YES"
    "FightRecapLevel"       "1"
    "AbilityTextureName"      "tramping_boots"
  
    "precache"
    {
      "soundfile"         "soundevents/game_sounds_heroes/game_sounds_leshrac.vsndevts"
      "particle"      "particles/units/heroes/hero_leshrac/leshrac_diabolic_edict.vpcf"
      "particle"      "particles/units/heroes/hero_dark_seer/dark_seer_surge.vpcf"
    }
  
    // Casting
    //-------------------------------------------------------------------------------------------------------------
    "AbilityCastPoint"        "0.5"
    
    // Time   
    //-------------------------------------------------------------------------------------------------------------
    "AbilityCooldown"       "22 22 22 22"
  
    // Cost
    //-------------------------------------------------------------------------------------------------------------
    "AbilityManaCost"       "65 80 100 110"
    

    "AbilityDuration"       "8 9 10 11"
    
    // Special
    //-------------------------------------------------------------------------------------------------------------
    "AbilitySpecial"
    {
      "01"
      {
        "var_type"        "FIELD_INTEGER"
        "movement_speed_bonus"    "20 40 60 80"
      }
      
      "02"
      {
        "var_type"        "FIELD_INTEGER"
        "radius"        "300"
      }
      "03"
      {
        "var_type"         "FIELD_INTEGER"
        "duration"          "8 9 10 11"
      }
    }
  
    "OnSpellStart"
    {
      "FireSound"
      {
        "EffectName"  "Hero_Leshrac.Diabolic_Edict_lp"
        "Target"    "CASTER"
      }
      
      "RunScript"
      {
        "ScriptFile"  "scripts/vscripts/hero/hero_leshrac.lua"
        "Function"    "speed"

        "Target"      "POINT"
      }   
    }
    "Modifiers"
    {
      "modifier_speed_boost_allies"
      {
        "Passive"     "0"
        "IsHidden"      "0"
        "IsDebuff"      "0"
    
        "Duration"      "%slow_duration"
  
        "Target"            "TARGET"

        "EffectName"    "particles/units/heroes/hero_dark_seer/dark_seer_surge.vpcf"
        "EffectAttachType"  "follow_hitloc"
  
        "Properties"
        {
            "MODIFIER_PROPERTY_MOVESPEED_BONUS_CONSTANT" "%movement_speed_bonus" 
        }
      }
    }
  }
  

  "imba_leshrac_slow"
  {
    // General
    //-------------------------------------------------------------------------------------------------------------
    "BaseClass"           "ability_datadriven"
    "AbilityBehavior"       "DOTA_ABILITY_BEHAVIOR_POINT | DOTA_ABILITY_BEHAVIOR_AOE"
    "AbilityUnitTargetTeam"     "DOTA_UNIT_TARGET_TEAM_ENEMY"
    "AbilityUnitTargetType"     "DOTA_UNIT_TARGET_HERO | DOTA_UNIT_TARGET_BASIC" 
    "SpellImmunityType"       "SPELL_IMMUNITY_ENEMIES_YES"
    "FightRecapLevel"       "1"
    "AbilityTextureName"      "snail_escargot-128"
  
    "precache"
    {
      "soundfile"         "soundevents/game_sounds_heroes/game_sounds_leshrac.vsndevts"
      "particle"      "particles/units/heroes/hero_omniknight/omniknight_degen_aura_debuff.vpcf"
    }
  
    // Casting
    //-------------------------------------------------------------------------------------------------------------
    "AbilityCastPoint"        "0.5"
    
    // Time   
    //-------------------------------------------------------------------------------------------------------------
    "AbilityCooldown"       "22 22 22 22"
  
    // Cost
    //-------------------------------------------------------------------------------------------------------------
    "AbilityManaCost"       "65 80 100 110"
    

    "AbilityDuration"       "8 9 10 11"
    
    // Special
    //-------------------------------------------------------------------------------------------------------------
    "AbilitySpecial"
    {
      "01"
      {
        "var_type"        "FIELD_INTEGER"
        "movement_speed_bonus"    "-20 -40 -60 -80"
      }
      
      "02"
      {
        "var_type"        "FIELD_INTEGER"
        "radius"        "300"
      }
      "03"
      {
        "var_type"         "FIELD_INTEGER"
        "duration"          "8 9 10 11"
      }
    }
  
    "OnSpellStart"
    {
      "FireSound"
      {
        "EffectName"  "Hero_Leshrac.Diabolic_Edict_lp"
        "Target"    "POINT"
      }
      
      "RunScript"
      {
        "ScriptFile"  "scripts/vscripts/hero/hero_leshrac.lua"
        "Function"    "slow"

        "Target"      "POINT"
      }   
    }
    "Modifiers"
    {
      "modifier_slow_debuff_enemies"
      {
        "Passive"     "0"
        "IsHidden"      "0"
        "IsDebuff"      "0"
    
        "Duration"      "%slow_duration"
  
        "Target"            "TARGET"

        "EffectName"    "particles/units/heroes/hero_omniknight/omniknight_degen_aura_debuff.vpcf"
        "EffectAttachType"  "follow_hitloc"
  
        "Properties"
        {
            "MODIFIER_PROPERTY_MOVESPEED_BONUS_CONSTANT" "%movement_speed_bonus" 
        }
      }
    }
  }
  
  // Rewrite of the Leshrac Pulse Nova ability
  // Author: jacklarnes
  // Date: 05.04.2015
  "imba_leshrac_speedosphere"
  {
    // General
    //-------------------------------------------------------------------------------------------------------------
    "BaseClass"           "ability_datadriven"
    "AbilityBehavior"       "DOTA_ABILITY_BEHAVIOR_POINT"
    "FightRecapLevel"       "1"
    "AbilityTextureName"      "Year-Zero"

    // Precache
    //-------------------------------------------------------------------------------------------------------------
    "precache"
    {
      "soundfile"         "soundevents/game_sounds_heroes/game_sounds_faceless_void.vsndevts"
      "particle"          "particles/units/heroes/hero_faceless_void/faceless_void_chronosphere.vpcf"
      "particle"          "particles/units/heroes/hero_faceless_void/faceless_void_chrono_speed.vpcf"
    }
    
    // Casting
    //-------------------------------------------------------------------------------------------------------------
    "AbilityCastRange"        "1200"
    "AbilityCastPoint"        "0.3"

    // Time   
    //-------------------------------------------------------------------------------------------------------------
    "AbilityCooldown"       "40.0 30.0 20.0"

    // Cost
    //-------------------------------------------------------------------------------------------------------------
    "AbilityManaCost"       "60 70 80 90"

    // Special
    //-------------------------------------------------------------------------------------------------------------
    "AbilitySpecial"
    {
      "01"
      {
        "var_type"        "FIELD_INTEGER"
        "radius"     "800 900 1000 1100"
      }
      "02"
      {
        "var_type"        "FIELD_FLOAT"
        "duration"     "6.0 7.5 9.0"
      }
      "03"
      {
        "var_type"        "FIELD_INTEGER"
        "bonus_ms_allies" "100 150 200 250"
      }
      "04"
      {
        "var_type"        "FIELD_INTEGER"
        "slow_ms_enemies" "-20 -40 -60 -80"
      }
      "05"
      {
        "var_type"        "FIELD_INTEGER"
        "tick_interval"    "1"
      }
    }

    "OnSpellStart"
    {
      "RunScript"
      {
        "ScriptFile"      "hero/hero_leshrac.lua"
        "Function"        "flux_sphere"
        "Target"          "POINT"

        "sound_cast"        "Hero_FacelessVoid.Chronosphere"
        "particle_chrono"   "particles/units/heroes/hero_faceless_void/faceless_void_chronosphere.vpcf"
        "modifier_enemy"    "modifier_imba_chronosphere_enemy"
        "modifier_ally"     "modifier_imba_chronosphere_ally"
      }
    }

    "Modifiers"
    {
      "modifier_imba_chronosphere_enemy"
      {
        "Passive"       "0"
        "IsHidden"        "0"
        "IsDebuff"        "0"
        "IsPurgable"      "0"

        "StatusEffectName"    "particles/status_fx/status_effect_faceless_chronosphere.vpcf"
        "StatusEffectPriority"  "1"

        "Properties"
        {
          "MODIFIER_PROPERTY_MOVESPEED_BONUS_PERCENTAGE" "%slow_ms_enemies"
          "MODIFIER_STATE_PROVIDES_VISION"  "MODIFIER_STATE_VALUE_ENABLED"
        }
      }

      "modifier_imba_chronosphere_ally"
      {
        "Passive"       "0"
        "IsHidden"        "0"
        "IsDebuff"        "0"
        "IsPurgable"      "0"

        "StatusEffectName"    "particles/status_fx/status_effect_faceless_chronosphere.vpcf"
        "StatusEffectPriority"  "1"

        "Properties"
        {
          "MODIFIER_PROPERTY_MOVESPEED_BONUS_CONSTANT" "%bonus_ms_allies"
          "MODIFIER_STATE_PROVIDES_VISION"  "MODIFIER_STATE_VALUE_ENABLED"
        }
      }
    }
  }
  
  // Rewrite of the Leshrac Split Earth ability
  // Author: jacklarnes
  // Date: 05.04.2015
  "imba_leshrac_speed_aura"
  {
    // General
    //-------------------------------------------------------------------------------------------------------------
    "BaseClass"         "ability_datadriven"
    "AbilityBehavior"       "DOTA_ABILITY_BEHAVIOR_PASSIVE | DOTA_ABILITY_BEHAVIOR_AURA"
    "AbilityUnitTargetTeam"     "DOTA_UNIT_TARGET_TEAM_FRIENDLY"
    "AbilityUnitTargetType"     "DOTA_UNIT_TARGET_HERO | DOTA_UNIT_TARGET_BASIC" 
    "FightRecapLevel"       "1"
    "AbilityTextureName"      "Animals-Running-Rabbit-icon"
    "AbilityType"         "DOTA_ABILITY_TYPE_ULTIMATE"
  
    "precache"
    {
      "particle"      "particles/units/heroes/hero_dark_seer/dark_seer_surge.vpcf"
    }
  

    "AOERadius"           "%radius"
    
    
    // Special
    //-------------------------------------------------------------------------------------------------------------
    "AbilitySpecial"
    {
      "01"
      {
        "var_type"      "FIELD_FLOAT"
        "radius"       "600 700 800"
      }
      
      "02"
      {
        "var_type"      "FIELD_INTEGER"
        "ms_bonus"      "50 100 150"
      }
      // Extra variables
      "03"
      {
        "var_type"            "FIELD_FLOAT"
        "think_interval"        "0.1"
      }
    }
  
    "Modifiers"
    {
      "modifier_speed_aura"
      {
        "Passive"     "1"
        "IsHidden"      "1"
  
        "Aura"            "modifier_speed_aura_buff"
        "Aura_Radius"     "%radius"
        "Aura_Teams"      "DOTA_UNIT_TARGET_TEAM_FRIENDLY"
        "Aura_Types"      "DOTA_UNIT_TARGET_HERO | DOTA_UNIT_TARGET_BASIC" //mechanical?
        "Aura_Flags"    "DOTA_UNIT_TARGET_FLAG_MAGIC_IMMUNE_ALLIES" //Needed?
      }

      "modifier_speed_aura_buff"
      {
        "Properties"
        {
          "MODIFIER_PROPERTY_MOVESPEED_BONUS_CONSTANT" "%ms_bonus"
        }
      }
    }
  }

  // Rewrite of the Chen Hand of God ability
  "imba_chen_hand_of_god"
  {
    // General
    //-------------------------------------------------------------------------------------------------------------
    "BaseClass"       "ability_datadriven"
    "AbilityBehavior"       "DOTA_ABILITY_BEHAVIOR_NO_TARGET"
    "AbilityType"         "DOTA_ABILITY_TYPE_ULTIMATE"
    "SpellImmunityType"       "SPELL_IMMUNITY_ALLIES_YES"
    "FightRecapLevel"       "2"
    "AbilityTextureName"      "chen_hand_of_god"
  
    // Precache
    //-------------------------------------------------------------------------------------------------------------
    "precache"
    {
      "soundfile"     "soundevents/game_sounds_heroes/game_sounds_chen.vsndevts"
      "particle"      "particles/units/heroes/hero_chen/chen_hand_of_god.vpcf"
    }
    
    // Casting
    //-------------------------------------------------------------------------------------------------------------
    "AbilityCastPoint"        "0.3 0.3 0.3"
  
    // Time   
    //-------------------------------------------------------------------------------------------------------------
    "AbilityCooldown"       "160.0 140.0 120.0"
  
    // Cost
    //-------------------------------------------------------------------------------------------------------------
    "AbilityManaCost"       "350 480 640"
  
    // Special
    //-------------------------------------------------------------------------------------------------------------
    "AbilitySpecial"
    {
      "01"
      {
        "var_type"        "FIELD_INTEGER"
        "heal_amount"     "1000 1500 2000"
      }
      "02"
      {
        "var_type"        "FIELD_FLOAT"
        "cooldown_scepter"    "30"
      }
      "03"
      {
        "var_type"        "FIELD_INTEGER"
        "ancient_creeps_scepter"    "1 2 3"
      }
    }
  
    "OnSpellStart"
    {
      "ActOnTargets"
      {
        "Target"
        {
          "Center"    "CASTER"
          "Radius"  "GLOBAL"
          "Teams"   "DOTA_UNIT_TARGET_TEAM_FRIENDLY"
          "Types"   "DOTA_UNIT_TARGET_HERO"
        }
      
        "Action"    
        {
          "FireSound"
          {
            "EffectName"  "Hero_Chen.HandOfGodHealHero"
            "Target"    "TARGET"
          }
  
          "FireEffect"
          {
            "EffectName"        "particles/units/heroes/hero_chen/chen_hand_of_god.vpcf"
            "EffectAttachType"  "attach_hitloc"
            "Target"            "TARGET"
          }
  
          "Heal"
          {
            "Target"        "TARGET"
            "HealAmount"  "%heal_amount"
          }
        }
      }
  
      "ActOnTargets"
      {
        "Target"
        {
          "Center"    "CASTER"
          "Radius"  "GLOBAL"
          "Teams"   "DOTA_UNIT_TARGET_TEAM_FRIENDLY"
          "Types"   "DOTA_UNIT_TARGET_ALL"
          "Flags"     "DOTA_UNIT_TARGET_FLAG_PLAYER_CONTROLLED"
        }
      
        "Action"    
        {
          "RunScript"
          {
            "ScriptFile"  "hero/hero_chen.lua"
            "Function"    "HandOfGod"
            "sound"     "Hero_Chen.HandOfGodHealCreep"
            "hand_particle" "particles/units/heroes/hero_chen/chen_hand_of_god.vpcf"
          }
        }
      }
    }
  }
  
  // Rewrite of the Chen Holy Persuasion ability
  // Author: Pizzalol
  // Date: 06.04.2014.
  "imba_chen_holy_persuasion"
  {
    // General
    //-------------------------------------------------------------------------------------------------------------
    "BaseClass"       "ability_datadriven"
    "AbilityBehavior"       "DOTA_ABILITY_BEHAVIOR_NO_TARGET | DOTA_ABILITY_BEHAVIOR_DONT_RESUME_ATTACK"
    "AbilityTextureName"      "chen_holy_persuasion"
  
    // Precache
    //-------------------------------------------------------------------------------------------------------------
    "precache"
    {
      "soundfile"     "soundevents/game_sounds_heroes/game_sounds_chen.vsndevts"
      "particle"      "particles/units/heroes/hero_chen/chen_holy_persuasion.vpcf"
    }
  
    // Casting
    //-------------------------------------------------------------------------------------------------------------
    "AbilityCastPoint"        "0.3 0.3 0.3 0.3"
  
    // Time   
    //-------------------------------------------------------------------------------------------------------------
    "AbilityCooldown"       "30.0 26.0 22.0 18.0"
  
    // Cost
    //-------------------------------------------------------------------------------------------------------------
    "AbilityManaCost"       "100 100 100 100"
  
    // Special
    //-------------------------------------------------------------------------------------------------------------
    "AbilitySpecial"
    {
      "01"
      {
        "var_type"        "FIELD_INTEGER"
        "max_units"       "1 2 3 4"
      }
      "02"
      {
        "var_type"        "FIELD_INTEGER"
        "health_bonus"      "75 150 225 300"
      }
    }
  
    "OnSpellStart"
    {
      "FireSound"
      {
        "EffectName"  "Hero_Chen.HolyPersuasionCast"
        "Target"    "CASTER"
      }
  
      "FireSound"
      {
        "EffectName"  "Hero_Chen.HolyPersuasionEnemy"
        "Target"    "TARGET"
      }
  
      "FireEffect"
      {
        "EffectName"        "particles/units/heroes/hero_chen/chen_holy_persuasion.vpcf"
        "EffectAttachType"  "start_at_customorigin"
  
        "ControlPointEntities"
        {
          "CASTER"  "attach_origin"
          "CASTER"  "attach_origin"
        }
      }
  
      "RunScript"
      {
        "ScriptFile"  "hero/hero_chen.lua"
        "Function"    "HolyPersuasion"
      }
    }
  
    "Modifiers"
    {
      "modifier_holy_persuasion_datadriven"
      {
        "IsBuff"    "1"
  
        "OnDestroy"
        {
          "RunScript"
          {
            "ScriptFile"  "hero/hero_chen.lua"
            "Function"    "HolyPersuasionRemove"
          }
        }
  
        "States"
        {
          "MODIFIER_STATE_DOMINATED"    "MODIFIER_STATE_VALUE_ENABLED"
        }
      }
    }
  }
  
  // Rewrite of the Chen Penitence ability
  // Author: Pizzalol
  // Date: 05.04.2014.
  "imba_chen_penitence"
  {
    // General
    //-------------------------------------------------------------------------------------------------------------
    "BaseClass"       "ability_datadriven"
    "AbilityBehavior"       "DOTA_ABILITY_BEHAVIOR_UNIT_TARGET"
    "AbilityUnitTargetTeam"     "DOTA_UNIT_TARGET_TEAM_ENEMY"
    "AbilityUnitTargetType"     "DOTA_UNIT_TARGET_HERO | DOTA_UNIT_TARGET_BASIC"
    "SpellImmunityType"       "SPELL_IMMUNITY_ENEMIES_NO"
    "AbilityTextureName"      "chen_penitence"
  
    // Precache
    //-------------------------------------------------------------------------------------------------------------
    "precache"
    {
      "soundfile"     "soundevents/game_sounds_heroes/game_sounds_chen.vsndevts"
      "particle"      "particles/units/heroes/hero_chen/chen_penitence.vpcf"
      "particle"      "particles/units/heroes/hero_chen/chen_penitence_debuff.vpcf"
    }
    
    // Casting
    //-------------------------------------------------------------------------------------------------------------
    "AbilityCastPoint"        "0.3 0.3 0.3 0.3"
  
    // Time   
    //-------------------------------------------------------------------------------------------------------------
    "AbilityCastRange"        "1100"
    "AbilityCooldown"       "14.0 13.0 12.0 11.0"
  
    // Cost
    //-------------------------------------------------------------------------------------------------------------
    "AbilityManaCost"       "100 100 100 100"
  
    // Special
    //-------------------------------------------------------------------------------------------------------------
    "AbilitySpecial"
    {
      "01"
      {
        "var_type"        "FIELD_FLOAT"
        "duration"        "5 6 7 8"
      }
      "02"
      {
        "var_type"        "FIELD_INTEGER"
        "speed"         "2000 2000 2000 2000"
      }
      "03"
      {
        "var_type"        "FIELD_INTEGER"
        "bonus_movement_speed"  "-20 -30 -40 -50"
      }
      "04"
      {
        "var_type"        "FIELD_INTEGER"
        "bonus_damage_taken"  "15 25 30 40"
      }
    }
  
    "OnSpellStart"
    {
      "FireSound"
      {
        "EffectName"  "Hero_Chen.PenitenceCast"
        "Target"    "CASTER"
      }
  
      "TrackingProjectile"
      {
        "Target"            "TARGET"
        "EffectName"    ""
        "Dodgeable"     "0"
        "ProvidesVision"  "0"
        "MoveSpeed"         "%speed"
        "SourceAttachment"  "DOTA_PROJECTILE_ATTACHMENT_ATTACK_1"
      }
    }
  
    "OnProjectileHitUnit"
    {
      "DeleteOnHit" "1"
      
      "FireSound"
      {
        "EffectName"  "Hero_Chen.PenitenceImpact"
        "Target"    "TARGET"
      }
  
      "FireEffect"
      {
        "EffectName"        "particles/units/heroes/hero_chen/chen_penitence.vpcf"
        "EffectAttachType"  "follow_origin"
        "Target"            "TARGET"
      }
  
      "ApplyModifier"
      {
        "ModifierName"  "modifier_penitence_datadriven"
        "Target"    "TARGET"
        "Duration"    "%duration"
      }
    }
  
    "Modifiers"
    {
      "modifier_penitence_datadriven"
      {
        "Passive"     "0"
        "IsHidden"      "0"
        "IsDebuff"      "1"
    
        "EffectName"    "particles/units/heroes/hero_chen/chen_penitence_debuff.vpcf"
        "EffectAttachType"  "follow_origin"
    
        "Properties"
        {
          "MODIFIER_PROPERTY_INCOMING_DAMAGE_PERCENTAGE" "%bonus_damage_taken"
          "MODIFIER_PROPERTY_MOVESPEED_BONUS_PERCENTAGE" "%bonus_movement_speed" 
        }
      }
    }
  }
  
  // Rewrite of the Chen Test of Faith ability
  // Author: Pizzalol
  // Date: 05.04.2014.
  // NOTE: Used together with chen_test_of_faith_teleport_datadriven
  "imba_chen_test_of_faith"
  {
    // General
    //-------------------------------------------------------------------------------------------------------------
    "BaseClass"       "ability_datadriven"
    "AbilityBehavior"       "DOTA_ABILITY_BEHAVIOR_UNIT_TARGET"
    "AbilityUnitTargetTeam"     "DOTA_UNIT_TARGET_TEAM_ENEMY"
    "AbilityUnitTargetType"     "DOTA_UNIT_TARGET_HERO | DOTA_UNIT_TARGET_BASIC"
    "AbilityUnitTargetFlags"    "DOTA_UNIT_TARGET_FLAG_NOT_ANCIENTS"
    "SpellImmunityType"       "SPELL_IMMUNITY_ENEMIES_NO"
    "AbilityUnitDamageType"     "DAMAGE_TYPE_PURE"
    "FightRecapLevel"       "1"
    "AbilityTextureName"      "chen_test_of_faith"
  
    // Precache
    //-------------------------------------------------------------------------------------------------------------
    "precache"
    {
      "soundfile"     "soundevents/game_sounds_heroes/game_sounds_chen.vsndevts"
      "particle"      "particles/units/heroes/hero_chen/chen_test_of_faith.vpcf"
    }
    
    // Casting
    //-------------------------------------------------------------------------------------------------------------
    "AbilityCastPoint"        "0.3 0.3 0.3 0.3"
  
    // Time   
    //-------------------------------------------------------------------------------------------------------------
    "AbilityCastRange"        "600 600 600 600"
    "AbilityCooldown"       "24.0 24.0 24.0 24.0"
  
    // Cost
    //-------------------------------------------------------------------------------------------------------------
    "AbilityManaCost"       "175 175 175 175"
  
    // Special
    //-------------------------------------------------------------------------------------------------------------
    "AbilitySpecial"
    {
      "01"
      {
        "var_type"        "FIELD_INTEGER"
        "damage_min"      "100 150 200 250"
      }
      "02"
      {
        "var_type"        "FIELD_INTEGER"
        "damage_max"      "150 250 350 450"
      }
    }
  
    "OnUpgrade"
    {
      "RunScript"
      {
        "ScriptFile"  "hero/hero_chen.lua"
        "Function"    "LevelUpAbility"
        "ability_name"  "imba_chen_test_of_faith_teleport"
      }
    }
  
    "OnSpellStart"
    {
      "FireSound"
      {
        "EffectName"  "Hero_Chen.TestOfFaith"
        "Target"    "TARGET"
      }
  
      "FireEffect"
      {
        "EffectName"        "particles/units/heroes/hero_chen/chen_test_of_faith.vpcf"
        "EffectAttachType"  "follow_origin"
        "Target"            "TARGET"
      }
  
      "Damage"
      {
        "Target"    "TARGET"
        "Type"      "DAMAGE_TYPE_PURE"
        "Damage"    "? %damage_min %damage_max"
      }
    }
  }
  
  // Rewrite of the Chen Test of Faith ability
  // Author: Pizzalol
  // Date: 06.04.2014.
  // NOTE: Used together with chen_test_of_faith_datadriven
  // NOTE2: Teleport loop sound seems to be bugged
  // NOTE3: Teleports targets to the middle of the map instead of fountain
  "imba_chen_test_of_faith_teleport"
  {
    // General
    //-------------------------------------------------------------------------------------------------------------
    "BaseClass"       "ability_datadriven"
    "AbilityBehavior"       "DOTA_ABILITY_BEHAVIOR_UNIT_TARGET"
    "AbilityUnitTargetTeam"     "DOTA_UNIT_TARGET_TEAM_FRIENDLY"
    "AbilityUnitTargetType"     "DOTA_UNIT_TARGET_HERO | DOTA_UNIT_TARGET_CREEP"
    "AbilityUnitTargetFlags"    "DOTA_UNIT_TARGET_FLAG_NOT_CREEP_HERO"
    "SpellImmunityType"       "SPELL_IMMUNITY_ALLIES_NO"
    "AbilityTextureName"      "chen_test_of_faith_teleport"
  
    // Precache
    //-------------------------------------------------------------------------------------------------------------
    "precache"
    {
      "soundfile"     "soundevents/game_sounds_heroes/game_sounds_chen.vsndevts"
      "particle"      "particles/units/heroes/hero_chen/chen_teleport_cast.vpcf"
      "particle"      "particles/units/heroes/hero_chen/chen_teleport.vpcf"
      "particle"      "particles/units/heroes/hero_chen/chen_teleport_flash.vpcf"
    }
    
    // Casting
    //-------------------------------------------------------------------------------------------------------------
    "AbilityCastPoint"        "0.3 0.3 0.3 0.3"
  
    // Time   
    //-------------------------------------------------------------------------------------------------------------
    "AbilityCastRange"        "800 900 1000 1100"
    "AbilityCooldown"       "10.0 5.0 2.5 1.0"
  
    // Cost
    //-------------------------------------------------------------------------------------------------------------
    "AbilityManaCost"       "200 200 200 200"
  
    // Special
    //-------------------------------------------------------------------------------------------------------------
    "AbilitySpecial"
    {
      "01"
      {
        "var_type"        "FIELD_FLOAT"
        "hero_teleport_delay" "1.0 1.0 0.5 0.5"
      }
    }
  
    "OnUpgrade"
    {
      "RunScript"
      {
        "ScriptFile"  "hero/hero_chen.lua"
        "Function"    "LevelUpAbility"
        "ability_name"  "imba_chen_test_of_faith"
      }
    }
  
    "OnSpellStart"
    {
      "FireEffect"
      {
        "EffectName"        "particles/units/heroes/hero_chen/chen_teleport_cast.vpcf"
        "EffectAttachType"  "attach_attack1"
        "Target"            "CASTER"
      }
  
      "RunScript"
      {
        "ScriptFile"  "hero/hero_chen.lua"
        "Function"    "TestOfFaithTeleportTarget"
        "sound_tp_out"  "Hero_Chen.TeleportOut"
        "sound_tp_in" "Hero_Chen.TeleportIn"
        "teleport_modifier" "modifier_test_of_faith_teleport_datadriven"
        "teleport_particle" "particles/units/heroes/hero_chen/chen_teleport_flash.vpcf"
      }
    }
  
    "Modifiers"
    {
      "modifier_test_of_faith_teleport_datadriven"
      {
        "IsBuff"    "1"
    
        "EffectName"    "particles/units/heroes/hero_chen/chen_teleport.vpcf"
        "EffectAttachType"  "follow_origin"
  
        // Loop sound seems to be bugged
        //"OnCreated"
        //{
        //  "FireSound"
        //  {
        //    "EffectName"  "Hero_Chen.TeleportLoop"
        //    "Target"    "TARGET"
        //  }
        //}
    
        //"OnDestroy"
        //{
        //  "RunScript"
        //  {
        //    "ScriptFile"  "heroes/hero_chen/test_of_faith.lua"
        //    "Function"    "TestOfFaithStopSound"
        //    "sound"     "Hero_Chen.TeleportLoop"
        //  }
        //}
  
        "ThinkInterval"  "%hero_teleport_delay"
        "OnIntervalThink"
        {
          "FireSound"
          {
            "EffectName"  "Hero_Chen.TeleportOut"
            "Target"    "TARGET"
          }
  
          "FireSound"
          {
            "EffectName"  "Hero_Chen.TeleportIn"
            "Target"    "TARGET"
          }
  
          "FireEffect"
          {
            "EffectName"        "particles/units/heroes/hero_chen/chen_teleport_flash.vpcf"
            "EffectAttachType"  "follow_origin"
            "Target"            "TARGET"
          }
  
          "RunScript"
          {
            "ScriptFile"  "hero/hero_chen.lua"
            "Function"    "TestOfFaithTeleport"
          }
        }
      }
    }
  }

  // Rewrite of the Broodmother Incapacitating Bite ability
  // Author: Pizzalol
  // Date: 12.01.2015.
  "imba_broodmother_incapacitating_bite"
  {
    // General
    //-------------------------------------------------------------------------------------------------------------
    "BaseClass"       "ability_datadriven"
    "AbilityBehavior"       "DOTA_ABILITY_BEHAVIOR_PASSIVE"
    "AbilityTextureName"      "broodmother_incapacitating_bite"
  
    // Precache
    //-------------------------------------------------------------------------------------------------------------
    "precache"
    {
      "particle"      "particles/units/heroes/hero_broodmother/broodmother_incapacitatingbite_debuff.vpcf"
    }
      
    // Special
    //-------------------------------------------------------------------------------------------------------------
    "AbilitySpecial"
    {
      "01"
      {
        "var_type"        "FIELD_INTEGER"
        "miss_chance"     "30 40 50 60"
      }
      "02"
      {
        "var_type"        "FIELD_INTEGER"
        "bonus_movespeed"   "-20 -30 -40 -50"
      }
      "03"
      {
        "var_type"        "FIELD_FLOAT"
        "duration"      "2.0 2.0 2.0 2.0"
      }
    }
  
    "Modifiers"
    {
      "modifier_incapacitating_bite_datadriven"
      {
        "Passive" "1"
        "IsHidden"  "1"
  
        "OnAttackLanded"
        {
          "ApplyModifier"
          {
            "ModifierName"  "modifier_incapacitating_bite_debuff_datadriven"
            "Target"
            {
              "Center"  "TARGET"
              "Types"   "DOTA_UNIT_TARGET_HERO | DOTA_UNIT_TARGET_BASIC"
            }
          }
        }
      }
  
      "modifier_incapacitating_bite_debuff_datadriven"
      {
        "IsDebuff"  "1"
        "Duration"  "%duration"
  
        "EffectName"  "particles/units/heroes/hero_broodmother/broodmother_incapacitatingbite_debuff.vpcf"
        "EffectAttachType"  "follow_origin"
  
        "Properties"
        {
          "MODIFIER_PROPERTY_MOVESPEED_BONUS_PERCENTAGE"  "%bonus_movespeed"
          "MODIFIER_PROPERTY_MISS_PERCENTAGE"       "%miss_chance"
        }
      }
    }
  }
  
  // Rewrite of the Broodmother Insatiable Hunger ability
  // Author: Pizzalol
  // Date: 12.01.2015.
  "imba_broodmother_insatiable_hunger"
  {
    // General
    //-------------------------------------------------------------------------------------------------------------
    "BaseClass"       "ability_datadriven"
    "AbilityBehavior"       "DOTA_ABILITY_BEHAVIOR_NO_TARGET"
    "AbilityType"         "DOTA_ABILITY_TYPE_ULTIMATE"
    "FightRecapLevel"       "2"
    "AbilityTextureName"      "broodmother_insatiable_hunger"
  
    // Stats
    //-------------------------------------------------------------------------------------------------------------
    "AbilityCastPoint"        "0.2 0.2 0.2"
    "AbilityCooldown"       "45.0 45.0 45.0"
    "AbilityManaCost"       "100 100 100"
  
    // Precache
    //-------------------------------------------------------------------------------------------------------------
    "precache"
    {
      "soundfile"     "soundevents/game_sounds_heroes/game_sounds_broodmother.vsndevts"
      "particle"      "particles/units/heroes/hero_broodmother/broodmother_hunger_buff.vpcf"
    }
  
    // Special
    //-------------------------------------------------------------------------------------------------------------
    "AbilitySpecial"
    {
      "01"
      {
        "var_type"        "FIELD_INTEGER"
        "bonus_damage"      "120 160 220"
      }
      "02"
      {
        "var_type"        "FIELD_INTEGER"
        "lifesteal_pct"     "60 80 100"
      }
      "03"
      {
        "var_type"        "FIELD_FLOAT"
        "duration"        "8.0 8.0 9.0"
      }
    }
  
    "OnSpellStart"
    {
      "FireSound"
      {
        "EffectName"  "Hero_Broodmother.InsatiableHunger"
        "Target"    "CASTER"
      }
  
      "ApplyModifier"
      {
        "ModifierName"  "modifier_insatiable_hunger_datadriven"
        "Target"    "CASTER"
      }
    }
  
    "Modifiers"
    {
      "modifier_insatiable_hunger_datadriven"
      {
        "Duration"  "%duration"
        "IsBuff"  "1"
  
        "EffectName"  "particles/units/heroes/hero_broodmother/broodmother_hunger_buff.vpcf"
        "EffectAttachType"  "follow_origin"
  
        "OnAttackLanded"
        {
          "Lifesteal"
          {
            "Target"  "CASTER"
            "LifestealPercent"  "%lifesteal_pct"
          }
        }
  
        "OnDestroy"
        {
          "RunScript"
          {
            "ScriptFile"  "hero/hero_broodmother.lua"
            "Function"    "InsatiableHungerStopSound"
            "sound"     "Hero_Broodmother.InsatiableHunger"
          }
        }
  
        "Properties"
        {
          "MODIFIER_PROPERTY_PREATTACK_BONUS_DAMAGE"  "%bonus_damage"
        }
      }
    }
  }
  
  "imba_broodmother_poison_sting"
  {
    // General
    //-------------------------------------------------------------------------------------------------------------
    "BaseClass"       "ability_datadriven"
    "AbilityBehavior"       "DOTA_ABILITY_BEHAVIOR_PASSIVE"
    "AbilityUnitDamageType"     "DAMAGE_TYPE_MAGICAL"
    "SpellImmunityType"       "SPELL_IMMUNITY_ENEMIES_YES"
    
    // Stats
    //-------------------------------------------------------------------------------------------------------------
    "AbilityModifierSupportBonus"   "15"
      
    // Special
    //-------------------------------------------------------------------------------------------------------------
    "AbilitySpecial"
    {
      "01"
      {
        "var_type"        "FIELD_FLOAT"
        "duration"        "6.0"
      }
      "02"
      {   
        "var_type"        "FIELD_FLOAT"
        "duration_hero"     "4.0"
      }
      "03"
      {
        "var_type"        "FIELD_INTEGER"
        "damage_per_second"   "20"
      }
      "04"
      {
        "var_type"        "FIELD_INTEGER"
        "movement_speed"    "-30"
      }
    }
  }
  
  "imba_broodmother_spawn_spiderite"
  {
    // General
    //-------------------------------------------------------------------------------------------------------------
    "BaseClass"       "ability_datadriven"
    "AbilityBehavior"       "DOTA_ABILITY_BEHAVIOR_PASSIVE"
      
    // Special
    //-------------------------------------------------------------------------------------------------------------
    "AbilitySpecial"
    {
      "01"
      {
        "var_type"            "FIELD_FLOAT"
        "spiderite_duration"      "60.0"
      }
      "02"
      {
        "var_type"            "FIELD_FLOAT"
        "buff_duration"         "6.0"
      }
    }
  }
  
  
  // Rewrite of the Broodmother Spawn Spiderlings ability
  // Author: Pizzalol
  // Date: 14.01.2015.
  // NOTE2: ------------------ Uses the normal dota spiderlings NOT custom ones -----------------
  "imba_broodmother_spawn_spiderlings"
  {
    // General
    //-------------------------------------------------------------------------------------------------------------
    "BaseClass"       "ability_datadriven"
    "AbilityBehavior"       "DOTA_ABILITY_BEHAVIOR_UNIT_TARGET"
    "FightRecapLevel"       "1"
    "AbilityTextureName"      "broodmother_spawn_spiderlings"
    
    // Unit Targeting
    //-------------------------------------------------------------------------------------------------------------
    "AbilityUnitTargetTeam"     "DOTA_UNIT_TARGET_TEAM_ENEMY"
    "AbilityUnitTargetType"     "DOTA_UNIT_TARGET_HERO | DOTA_UNIT_TARGET_BASIC"
    "AbilityUnitDamageType"     "DAMAGE_TYPE_MAGICAL"
    "SpellImmunityType"       "SPELL_IMMUNITY_ENEMIES_NO"
    
    // Stats
    //-------------------------------------------------------------------------------------------------------------
    "AbilityCastRange"        "700"
    "AbilityCastPoint"        "0.2 0.2 0.2 0.2"
    "AbilityCooldown"       "10.0 10.0 10.0 10.0"
    "AbilityManaCost"       "120 120 120 120"
  
    // Precache
    //-------------------------------------------------------------------------------------------------------------
    "precache"
    {
      "soundfile"     "soundevents/game_sounds_heroes/game_sounds_broodmother.vsndevts"
      "particle"      "particles/units/heroes/hero_broodmother/broodmother_spiderlings_debuff.vpcf"
      "particle"      "particles/units/heroes/hero_broodmother/broodmother_web_cast.vpcf"
      "particle"      "particles/units/heroes/hero_broodmother/broodmother_spiderlings_spawn.vpcf"
    }
  
    // Stats
    //-------------------------------------------------------------------------------------------------------------
    "AbilityModifierSupportValue" "0.0" // Modifier has no support value
      
    // Special
    //-------------------------------------------------------------------------------------------------------------
    "AbilitySpecial"
    {
      "01"
      {
        "var_type"        "FIELD_FLOAT"
        "buff_duration"     "5.0 6.0 7.0 8.0"
      }
      "02"
      {
        "var_type"        "FIELD_FLOAT"
        "spiderling_duration" "60.0 60.0 60.0 60.0"
      }
      "03"
      {
        "var_type"        "FIELD_INTEGER"
        "damage"        "75 150 225 300"
      }
      "04"
      {
        "var_type"        "FIELD_INTEGER"
        "count"         "3 4 5 6"
      }  
      "05"
      {
        "var_type"        "FIELD_INTEGER"
        "projectile_speed"  "1800"
      }
    }
  
    "OnSpellStart"
    {
      "FireSound"
      {
        "EffectName"  "Hero_Broodmother.SpawnSpiderlingsCast"
        "Target"    "CASTER"
      }
  
      "TrackingProjectile"
      {
        "Target" "TARGET"
        "EffectName" "particles/units/heroes/hero_broodmother/broodmother_web_cast.vpcf"
        "Dodgeable" "1"
        "ProvidesVision" "0"
        "MoveSpeed" "%projectile_speed"
        "SourceAttachment" "DOTA_PROJECTILE_ATTACHMENT_ATTACK_1"
      }
    }
  
    "OnProjectileHitUnit"
    {
      "FireSound"
      {
        "EffectName"  "Hero_Broodmother.SpawnSpiderlingsImpact"
        "Target"    "TARGET"
      }
  
      "ApplyModifier"
      {
        "ModifierName"  "modifier_spawn_spiderlings_datadriven"
        "Target"    "TARGET"
      }
  
      "Damage"
      {
        "Target"  "TARGET"
        "Type"    "DAMAGE_TYPE_MAGICAL"
        "Damage"  "%damage"
      }
    }
  
    "Modifiers"
    {
      "modifier_spawn_spiderlings_datadriven"
      {
        "Duration"  "%buff_duration"
        "IsDebuff"  "1"
  
        "EffectName"  "particles/units/heroes/hero_broodmother/broodmother_spiderlings_debuff.vpcf"
        "EffectAttachType"  "follow_origin"
  
        "OnDeath"
        {
          "FireSound"
          {
            "EffectName"  "Hero_Broodmother.SpawnSpiderlings"
            "Target"
            {
              "Center"  "UNIT"
              "Flags"   "DOTA_UNIT_TARGET_FLAG_DEAD"
            }
          }
  
          "FireEffect"
          {
            "EffectName"        "particles/units/heroes/hero_broodmother/broodmother_spiderlings_spawn.vpcf"
            "EffectAttachType"  "follow_origin"
            "Target"
            {
              "Center"  "UNIT"
              "Flags"   "DOTA_UNIT_TARGET_FLAG_DEAD"
            }
          }
  
          "SpawnUnit"
          {
            "UnitName"  "npc_dota_broodmother_spiderling"
            "UnitCount" "%count"
            "SpawnRadius" "50"
            "Duration"  "%spiderling_duration"
            "Target"
            {
              "Center"  "UNIT"
              "Flags"   "DOTA_UNIT_TARGET_FLAG_DEAD"
            }
  
            "OnSpawn"
            {
              "ApplyModifier"
              {
                "ModifierName"  "modifier_phased"
                "Target"    "TARGET"
                "Duration"    "0.03"
              }
            }
  
            "GrantsGold"  "1"
            "GrantsXP"    "1"
          }
        }
      }
    }
  }
  
  // Rewrite of the Broodmother Spin Web ability
  // Author: Pizzalol
  // Date: 18.01.2015.
  // NOTE: This ability requires Broodmother Spin Web Destroy (datadriven version) for full functionality
  "imba_broodmother_spin_web"
  {
    // General
    //-------------------------------------------------------------------------------------------------------------
    "BaseClass"       "ability_datadriven"
    "AbilityBehavior"       "DOTA_ABILITY_BEHAVIOR_POINT | DOTA_ABILITY_BEHAVIOR_AOE"
    "AbilityTextureName"      "broodmother_spin_web"
    "AOERadius"           "%radius"
    
    // Stats
    //-------------------------------------------------------------------------------------------------------------
    "AbilityCastRange"        "1000"
    "AbilityCastPoint"        "0.4"
    "AbilityCooldown"       "0.0"
    "AbilityManaCost"       "50"
  
    // Precache
    //-------------------------------------------------------------------------------------------------------------
    "precache"
    {
      "soundfile"     "soundevents/game_sounds_heroes/game_sounds_broodmother.vsndevts"
      "particle"      "particles/units/heroes/hero_broodmother/broodmother_web.vpcf"
      "particle"      "particles/units/heroes/hero_broodmother/broodmother_spin_web_cast.vpcf"
    }
      
    // Special
    //-------------------------------------------------------------------------------------------------------------
    "AbilitySpecial"
    {
      "01"
      {
        "var_type"        "FIELD_INTEGER"
        "radius"        "1500"
      }
      "02"
      {
        "var_type"        "FIELD_INTEGER"
        "count"         "3 5 7 10"
      }
      "03"
      {
        "var_type"        "FIELD_INTEGER"
        "health_regen"      "2 4 6 8"
      }
      "04"
      {
        "var_type"        "FIELD_INTEGER"
        "bonus_movespeed"   "50 100 150 200"
      }
      "05"
      {
        "var_type"        "FIELD_INTEGER"
        "invis_movespeed_tooltip"   "50 100 150 200"
      }
      "06"
      {
        "var_type"        "FIELD_FLOAT"
        "fade_delay"      "3.0"
      }
      "07"
      {
        "var_type"        "FIELD_FLOAT"
        "damage_time"     "6.0"
      }
      "08"
      {
        "var_type"        "FIELD_INTEGER"
        "max_charges"     "3 4 5 7"
      }
      "09"
      {
        "var_type"        "FIELD_FLOAT"
        "charge_restore_time" "20.0"
      }
      // Extra
      // Set this value to 1 if you want it to affect every player controlled unit
      "10"
      {
        "var_type"        "FIELD_INTEGER"
        "all_units"     "0"
      }
      "11"
      {
        "var_type"        "FIELD_FLOAT"
        "linger_time" "0.15"
      }
      "12"
      {
        "var_type"        "FIELD_FLOAT"
        "aura_interval" "0.1"
      }
    }
  
    "OnUpgrade"
    {
      "RunScript"
      {
        "ScriptFile"      "hero/hero_broodmother.lua"
        "Function"        "web_start_charge"
        "modifier_name"     "modifier_web_stack_counter_datadriven"
      }
    }
  
    "OnSpellStart"
    { 
      "FireSound"
      {
        "EffectName"  "Hero_Broodmother.SpinWebCast"
        "Target"    "CASTER"
      }
  
      "RunScript"
      {
        "ScriptFile"      "hero/hero_broodmother.lua"
        "Function"        "spin_web"
        "Target"        "POINT"     
        "stack_modifier"    "modifier_web_stack_counter_datadriven"
        "dummy_modifier"    "modifier_web_dummy_aura_datadriven"
        "dummy_ability"     "imba_broodmother_spin_web_destroy"
      }
    }
  
    "Modifiers"
    {
      // Cosmetic modifier for stacks
      "modifier_web_stack_counter_datadriven"
      {
        "Passive"       "1"
        "IsHidden"        "0"
        "IsPurgable"      "0"
        "IsDebuff"        "0"
      }
  
      // Cosmetic modifier for the web tooltip
      "modifier_web_tooltip_datadriven"
      {
        "IsPurgable"  "0"
        "IsDebuff"    "0"
      }
  
      // Runs a script which checks all the units in an area around the dummy
      // checks if its the caster or any of the specified units belonging to the caster
      // applies the aura modifier along with the other required modifiers
      "modifier_web_dummy_aura_datadriven"
      {     
        "OnCreated"
        {
          "AttachEffect"
          {
            "EffectName"  "particles/units/heroes/hero_broodmother/broodmother_web.vpcf"
            "EffectAttachType"  "attach_origin"
            "Target"    "TARGET"
  
            "ControlPoints"
            {
              "00"  "0 0 0"
              "01"  "%radius 0 150"
            }
          }
        }
  
        "ThinkInterval"   "%aura_interval"
  
        "OnIntervalThink"
        {
          "ActOnTargets"
          {
            "Target"
            {
              "Center"  "TARGET"
              "Radius"  "%radius"
              "Types"   "DOTA_UNIT_TARGET_BASIC | DOTA_UNIT_TARGET_HERO"
              "Teams"   "DOTA_UNIT_TARGET_TEAM_FRIENDLY"
            }
  
            "Action"
            {
              "RunScript"
              {
                "ScriptFile"      "hero/hero_broodmother.lua"
                "Function"        "spin_web_aura"
                "unit_spiderling"   "npc_dota_broodmother_spiderling"
                "unit_spiderite"    "npc_dota_broodmother_spiderite"
                "aura_modifier"     "modifier_web_regen_datadriven"
                "pathing_modifier"    "modifier_web_pathing_datadriven"
                "pathing_fade_modifier" "modifier_web_pathing_fade_datadriven"
                "invis_modifier"    "modifier_web_invis_datadriven"
                "invis_fade_modifier" "modifier_web_invis_fade_datadriven"
              }
            }
          }       
        }
  
  
        "States"
        {
          "MODIFIER_STATE_NO_HEALTH_BAR"    "MODIFIER_STATE_VALUE_ENABLED"
          "MODIFIER_STATE_NO_TEAM_SELECT"   "MODIFIER_STATE_VALUE_ENABLED"
          "MODIFIER_STATE_NOT_ON_MINIMAP_FOR_ENEMIES" "MODIFIER_STATE_VALUE_ENABLED"
          "MODIFIER_STATE_NO_UNIT_COLLISION"  "MODIFIER_STATE_VALUE_ENABLED"
          "MODIFIER_STATE_ROOTED"       "MODIFIER_STATE_VALUE_ENABLED"
          "MODIFIER_STATE_INVULNERABLE"   "MODIFIER_STATE_VALUE_ENABLED"
        }
      }
  
      // Pathing
      "modifier_web_pathing_datadriven"
      {
        "IsHidden"  "1"
  
        "OnTakeDamage"
        {
          "ApplyModifier"
          {
            "ModifierName"  "modifier_web_pathing_fade_datadriven"
            "Target"    "UNIT"
          }
  
          "RemoveModifier"
          {
            "ModifierName"  "modifier_web_pathing_datadriven"
            "Target"    "UNIT"
          }
        }
  
        "Properties"
        {
          "MODIFIER_PROPERTY_MOVESPEED_BONUS_PERCENTAGE"  "%bonus_movespeed"
        }
  
        "States"
        {
          "MODIFIER_STATE_FLYING" "MODIFIER_STATE_VALUE_ENABLED"
        }
      }
  
      "modifier_web_pathing_fade_datadriven"
      {
        "IsHidden"  "1"
        "Duration"  "%damage_time"
  
        "OnTakeDamage"
        {
          "ApplyModifier"
          {
            "ModifierName"  "modifier_web_pathing_fade_datadriven"
            "Target"    "UNIT"
          }
        }
  
        "OnDestroy"
        {
          "ApplyModifier"
          {
            "ModifierName"  "modifier_web_pathing_datadriven"
            "Target"    "TARGET"  
          }
        }
      }
  
      // The modifier which gets applied by the aura
      "modifier_web_regen_datadriven"
      {
        "IsHidden"  "1"
        "Duration"  "%linger_time"
  
        "OnCreated"
        {
          "ApplyModifier"
          {
            "ModifierName"  "modifier_web_tooltip_datadriven"
            "Target"    "TARGET"
          }
        }
  
        "OnDestroy"
        {
          // Remove all the modifiers
          // Pathing
          "RemoveModifier"
          {
            "ModifierName"  "modifier_web_pathing_fade_datadriven"
            "Target"    "TARGET"
          }
          "RemoveModifier"
          {
            "ModifierName"  "modifier_web_pathing_datadriven"
            "Target"    "TARGET"
          }
          // Cosmetic
          "RemoveModifier"
          {
            "ModifierName"  "modifier_web_tooltip_datadriven"
            "Target"    "TARGET"
          }
          // Invis
          "RemoveModifier"
          {
            "ModifierName"  "modifier_web_invis_fade_datadriven"
            "Target"    "TARGET"
          }
          "RemoveModifier"
          {
            "ModifierName"  "modifier_web_invis_datadriven"
            "Target"    "TARGET"
          }
        }
  
        "Properties"
        {
          "MODIFIER_PROPERTY_MOVESPEED_BONUS_PERCENTAGE"  "%bonus_movespeed"
          "MODIFIER_PROPERTY_HEALTH_REGEN_CONSTANT"   "%health_regen"
        }
      }   
  
      // Invisibility
      "modifier_web_invis_datadriven"
      {
        "IsHidden"  "1"
  
        "OnAttack"
        {
          "ApplyModifier"
          {
            "ModifierName"  "modifier_web_invis_fade_datadriven"
            "Target"    "ATTACKER"
          }
        }
  
        "OnAbilityExecuted"
        {
          "ApplyModifier"
          {
            "ModifierName"  "modifier_web_invis_fade_datadriven"
            "Target"    "UNIT"
          }
        }
  
        "OnCreated"
        {
          "ApplyModifier"
          {
            "ModifierName"  "modifier_invisible"
            "Target"    "TARGET"
          }
        }
  
        "OnDestroy"
        {
          "RemoveModifier"
          {
            "ModifierName"  "modifier_invisible"
            "Target"    "TARGET"
          }
        }
  
        "States"
        {
          "MODIFIER_STATE_INVISIBLE"  "MODIFIER_STATE_VALUE_ENABLED"
        }
      }
  
      "modifier_web_invis_fade_datadriven"
      {
        "Duration"  "%fade_delay"
        "IsHidden"  "1"
  
        "OnAttack"
        {
          "ApplyModifier"
          {
            "ModifierName"  "modifier_web_invis_fade_datadriven"
            "Target"    "ATTACKER"
          }
        }
  
        "OnAbilityExecuted"
        {
          "ApplyModifier"
          {
            "ModifierName"  "modifier_web_invis_fade_datadriven"
            "Target"    "UNIT"
          }
        }
  
        "OnCreated"
        {
          "RemoveModifier"
          {
            "ModifierName"  "modifier_web_invis_datadriven"
            "Target"    "TARGET"
          }
        }
  
        "OnDestroy"
        {
          "ApplyModifier"
          {
            "ModifierName"  "modifier_web_invis_datadriven"
            "Target"    "TARGET"
          }
        }
      }
    }
  }
  // Rewrite of the Broodmother Spin Web Destroy ability
  // Author: Pizzalol
  // Date: 18.01.2015.
  // NOTE: This spell is part of the Broodmother Spin Web ability
  "imba_broodmother_spin_web_destroy"
  {
    // General
    //-------------------------------------------------------------------------------------------------------------
    "BaseClass"       "ability_datadriven"
    "AbilityBehavior"       "DOTA_ABILITY_BEHAVIOR_NOT_LEARNABLE | DOTA_ABILITY_BEHAVIOR_NO_TARGET | DOTA_ABILITY_BEHAVIOR_IMMEDIATE"
    "MaxLevel"            "1"
    "AbilityTextureName"      "broodmother_spin_web_destroy"
  
    // Casting
    //-------------------------------------------------------------------------------------------------------------
    "AbilityCastPoint"        "0"
    
    // Time   
    //-------------------------------------------------------------------------------------------------------------
    "AbilityCooldown"       "0"
  
    // Cost
    //-------------------------------------------------------------------------------------------------------------
    "AbilityManaCost"       "0"
  
    "OnSpellStart"
    {
      "RunScript"
      {
        "ScriptFile"      "hero/hero_broodmother.lua"
        "Function"        "spin_web_destroy"
      }
    }
  }

  "imba_beastmaster_boar_poison"
  {
    // General
    //-------------------------------------------------------------------------------------------------------------
    "BaseClass"       "ability_datadriven"
    "AbilityBehavior"       "DOTA_ABILITY_BEHAVIOR_PASSIVE"
    "AbilityUnitDamageType"     "DAMAGE_TYPE_MAGICAL" 
    "SpellImmunityType"       "SPELL_IMMUNITY_ENEMIES_YES"
    
    // Special
    //-------------------------------------------------------------------------------------------------------------
    "AbilitySpecial"
    {
      "01"
      {
        "var_type"        "FIELD_INTEGER"
        "attack_speed"      "-20"
      }
      "02"
      {
        "var_type"        "FIELD_INTEGER"
        "movement_speed"    "-30"
      }
      "03"
      {
        "var_type"        "FIELD_FLOAT"
        "duration"        "3.0"
      }
    }
  }
  
  // Rewrite of Beastmaster Call of the Wild Boar
  // Author: Noya
  // Date: April 5, 2015
  // This ability is used with beastmaster_call_of_the_wild_datadriven, skilling one will attempt to upgrade the other
  "imba_beastmaster_call_of_the_wild_boar"
  {
    // General
    //-------------------------------------------------------------------------------------------------------------
    "BaseClass"           "ability_datadriven"
    "AbilityBehavior"       "DOTA_ABILITY_BEHAVIOR_NO_TARGET"
    "AbilityTextureName"      "beastmaster_call_of_the_wild_boar"
    
    // Casting
    //-------------------------------------------------------------------------------------------------------------
    "AbilityCastPoint"        "0.3"
  
    // Time   
    //-------------------------------------------------------------------------------------------------------------
    "AbilityCooldown"       "5.0 5.0 5.0 5.0"
  
    // Cost
    //-------------------------------------------------------------------------------------------------------------
    "AbilityManaCost"       "15"
  
    // Special
    //-------------------------------------------------------------------------------------------------------------
    "AbilitySpecial"
    {
      "01"
      {
        "var_type"          "FIELD_INTEGER"
        "hawk_duration"       "120 120 120 120"
      }
      "02"
      {
        "var_type"          "FIELD_INTEGER"
        "boar_hp_tooltip"     "200 300 400 500"
      }
      "03"
      {
        "var_type"          "FIELD_INTEGER"
        "boar_damage_tooltip"   "45 56 75 86"
      }
      "04"
      {
        "var_type"          "FIELD_INTEGER"
        "boar_moveslow_tooltip"   "10 20 30 40"
      }
      "05"
      {
        "var_type"          "FIELD_INTEGER"
        "boar_attackslow_tooltip" "10 20 30 40"
      }
      "06"
      {
        "var_type"          "FIELD_INTEGER"
        "poison_duration_tooltip" "3"
      }
      "07"
      {
        "var_type"          "FIELD_INTEGER"
        "boar_duration"       "120 120 120 120"
      }
  
      // Extra    
      "08"
      {
        "var_type"        "FIELD_INTEGER"
        "boar_1_count"      "1 0 0 0"
      }
      "09"
      {
        "var_type"        "FIELD_INTEGER"
        "boar_2_count"      "0 1 0 0"
      }
      "10"
      {
        "var_type"        "FIELD_INTEGER"
        "boar_3_count"      "0 0 1 0"
      }
      "11"
      {
        "var_type"        "FIELD_INTEGER"
        "boar_4_count"      "0 0 0 1"
      }
      "12"
      {
        "var_type"        "FIELD_INTEGER"
        "distance"        "150" // The distance in front of the target at which units will be created
      }
    }
  
    "precache"
    {
      "particle"  "particles/units/heroes/hero_beastmaster/beastmaster_call_boar.vpcf"
      "particle"  "particles/units/heroes/hero_lone_druid/lone_druid_spirit_bear_death.vpcf"
      "particle"  "particles/units/heroes/hero_beastmaster/beastmaster_boar_attack.vpcf"
      "soundfile" "soundevents/game_sounds_heroes/game_sounds_beastmaster.vsndevts"
      "model"   "models/heroes/beastmaster/beastmaster_beast.vmdl"
    }
  
    "OnUpgrade"
    {
      "RunScript"
      {
        "ScriptFile"  "hero/hero_beastmaster.lua"
        "Function"    "LevelUpAbility"
        "ability_name"  "imba_beastmaster_call_of_the_wild_hawk"
      }
    }
  
    "OnSpellStart"
    {
      "FireSound"
        {
          "EffectName"  "Hero_Beastmaster.Call.Boar"
          "Target"    "CASTER"
        }
  
      "SpawnUnit"
      {
        "UnitName"      "npc_dota_beastmaster_boar_1"
        "Target"
        {
          "Center"        "CASTER"
          "ScriptSelectPoints"
          {
            "ScriptFile"    "hero/hero_beastmaster.lua"
            "Function"      "GetFrontPoint"
            "Target"    "CASTER"
            "Distance"    "%distance"
          }
        }
  
        "UnitCount"     "%boar_1_count"
        "Duration"      "%boar_duration"
  
        "GrantsGold"    "1"
        "GrantsXP"      "1"
  
        // This makes sure units never get stuck
        "OnSpawn"
        {
          "ApplyModifier"
          {
            "ModifierName"  "modifier_phased"
            "Target"    "TARGET"
            "Duration"    "0.03"
          }
  
          "ApplyModifier"
          {
            "ModifierName"  "modifier_beastmaster_boar"
            "Target"    "TARGET"
          }
  
          "RunScript"
          {
            "ScriptFile"  "hero/hero_beastmaster.lua"
            "Function"    "SetUnitsMoveForward"
          }
        }
      }
  
      "SpawnUnit"
      {
        "UnitName"      "npc_dota_beastmaster_boar_4"
        "Target"
        {
          "Center"        "CASTER"
          "ScriptSelectPoints"
          {
            "ScriptFile"    "hero/hero_beastmaster.lua"
            "Function"      "GetFrontPoint"
            "Target"    "CASTER"
            "Distance"    "%distance"
          }
        }
  
        "UnitCount"     "%boar_2_count"
        "Duration"      "%boar_duration"
  
        "GrantsGold"    "1"
        "GrantsXP"      "1"
  
        // This makes sure units never get stuck
        "OnSpawn"
        {
          "ApplyModifier"
          {
            "ModifierName"  "modifier_phased"
            "Target"    "TARGET"
            "Duration"    "0.03"
          }
  
          "ApplyModifier"
          {
            "ModifierName"  "modifier_beastmaster_boar"
            "Target"    "TARGET"
          }
  
          "RunScript"
          {
            "ScriptFile"  "hero/hero_beastmaster.lua"
            "Function"    "SetUnitsMoveForward"
          }
        }
      }
  
      "SpawnUnit"
      {
        "UnitName"      "npc_dota_beastmaster_boar_3"
        "Target"
        {
          "Center"        "CASTER"
          "ScriptSelectPoints"
          {
            "ScriptFile"    "hero/hero_beastmaster.lua"
            "Function"      "GetFrontPoint"
            "Target"    "CASTER"
            "Distance"    "%distance"
          }
        }
  
        "UnitCount"     "%boar_1_count"
        "Duration"      "%boar_duration"
  
        "GrantsGold"    "1"
        "GrantsXP"      "1"
  
        // This makes sure units never get stuck
        "OnSpawn"
        {
          "ApplyModifier"
          {
            "ModifierName"  "modifier_phased"
            "Target"    "TARGET"
            "Duration"    "0.03"
          }
  
          "ApplyModifier"
          {
            "ModifierName"  "modifier_beastmaster_boar"
            "Target"    "TARGET"
          }
  
          "RunScript"
          {
            "ScriptFile"  "hero/hero_beastmaster.lua"
            "Function"    "SetUnitsMoveForward"
          }
        }
      }
  
      "SpawnUnit"
      {
        "UnitName"      "npc_dota_beastmaster_boar_4"
        "Target"
        {
          "Center"        "CASTER"
          "ScriptSelectPoints"
          {
            "ScriptFile"    "hero/hero_beastmaster.lua"
            "Function"      "GetFrontPoint"
            "Target"    "CASTER"
            "Distance"    "%distance"
          }
        }
  
        "UnitCount"     "%boar_4_count"
        "Duration"      "%boar_duration"
  
        "GrantsGold"    "1"
        "GrantsXP"      "1"
  
        // This makes sure units never get stuck
        "OnSpawn"
        {
          "ApplyModifier"
          {
            "ModifierName"  "modifier_phased"
            "Target"    "TARGET"
            "Duration"    "0.03"
          }
  
          "ApplyModifier"
          {
            "ModifierName"  "modifier_beastmaster_boar"
            "Target"    "TARGET"
          }
          
          "RunScript"
          {
            "ScriptFile"  "hero/hero_beastmaster.lua"
            "Function"    "SetUnitsMoveForward"
          }
        }
      }
    }
  
    "Modifiers"
    {
      "modifier_beastmaster_boar"
      {
        "IsHidden"    "1"
  
        "OnCreated"
        {
          "FireEffect"
          {
            "Target"      "TARGET"
            "EffectName"    "particles/units/heroes/hero_beastmaster/beastmaster_call_boar.vpcf"
            "EffectAttachType"  "follow_origin"
          }
        }
  
        "OnDeath"
        {
          "FireEffect"
          {
            "Target"      
            {
              "Center"  "UNIT"
              "Flags"   "DOTA_UNIT_TARGET_FLAG_DEAD"
            }
            "EffectName"    "particles/units/heroes/hero_lone_druid/lone_druid_spirit_bear_death.vpcf"
            "EffectAttachType"  "follow_origin"
          }
          
          "FireSound"
          {
            "Target"      
            {
              "Center"  "UNIT"
              "Flags"   "DOTA_UNIT_TARGET_FLAG_DEAD"
            }
            "EffectName"  "Hero_Beastmaster_Boar.Death"
          }
        }
      }
    }
  }
  // Rewrite of Beastmaster Call of the Wild
  // Author: Noya
  // Date: April 5, 2015
  // This ability is used with beastmaster_call_of_the_wild_boar_datadriven, skilling one will attempt to upgrade the other
  //TODO: Check if its necessary to kill the hawk or there's no limit
  "imba_beastmaster_call_of_the_wild_hawk"
  {
    // General
    //-------------------------------------------------------------------------------------------------------------
    "BaseClass"       "ability_datadriven"
    "AbilityBehavior"       "DOTA_ABILITY_BEHAVIOR_NO_TARGET"
    "AbilityTextureName"      "beastmaster_call_of_the_wild_hawk"
      
    // Casting
    //-------------------------------------------------------------------------------------------------------------
    "AbilityCastPoint"        "0.3"
  
    // Time   
    //-------------------------------------------------------------------------------------------------------------
    "AbilityCooldown"       "5"
  
    // Cost
    //-------------------------------------------------------------------------------------------------------------
    "AbilityManaCost"       "80"
  
    // Special
    //-------------------------------------------------------------------------------------------------------------
    "AbilitySpecial"
    {
      "01"
      {
        "var_type"          "FIELD_INTEGER"
        "boar_duration"       "120 120 120 120"
      }
      "02"
      {
        "var_type"          "FIELD_INTEGER"
        "hawk_hp_tooltip"     "40 60 80 100"
      }
      "03"
      {
        "var_type"          "FIELD_INTEGER"
        "hawk_speed_tooltip"    "450 500 550 600"
      }
      "04"
      {
        "var_type"          "FIELD_INTEGER"
        "hawk_daysight_tooltip"   "900 1200 1500 1800"
      }
      "05"
      {
        "var_type"          "FIELD_INTEGER"
        "hawk_nightsight_tooltip" "900 1000 1100 1200"
      }
      "06"
      {
        "var_type"          "FIELD_INTEGER"
        "hawk_duration"       "120 120 120 120"
      }
  
      // Extra    
      "07"
      {
        "var_type"        "FIELD_INTEGER"
        "hawk_1_count"      "1 0 0 0"
      }
      "08"
      {
        "var_type"        "FIELD_INTEGER"
        "hawk_2_count"      "0 1 0 0"
      }
      "09"
      {
        "var_type"        "FIELD_INTEGER"
        "hawk_3_count"      "0 0 1 0"
      }
      "10"
      {
        "var_type"        "FIELD_INTEGER"
        "hawk_4_count"      "0 0 0 1"
      }
      "11"
      {
        "var_type"        "FIELD_INTEGER"
        "distance"        "150" // The distance in front of the target at which units will be created
      }
    }
  
    "OnUpgrade"
    {
      "RunScript"
      {
        "ScriptFile"  "hero/hero_beastmaster.lua"
        "Function"    "LevelUpAbility"
        "ability_name"  "imba_beastmaster_call_of_the_wild_boar"
      }
    }
  
    "OnSpellStart"
    {
      "FireSound"
        {
          "EffectName"  "Hero_Beastmaster.Call.Hawk"
          "Target"    "CASTER"
        }
  
      "SpawnUnit"
      {
        "UnitName"      "npc_dota_beastmaster_hawk_1"
        "Target"
        {
          "Center"        "CASTER"
          "ScriptSelectPoints"
          {
            "ScriptFile"    "hero/hero_beastmaster.lua"
                "Function"      "GetFrontPoint"
            "Target"    "CASTER"
            "Distance"    "%distance"
          }
        }
  
        "UnitCount"     "%hawk_1_count"
        "Duration"      "%hawk_duration"
  
        "GrantsGold"    "1"
        "GrantsXP"      "1"
  
        "OnSpawn"
        {
          "ApplyModifier"
          {
            "ModifierName"  "modifier_phased"
            "Target"    "TARGET"
            "Duration"    "0.03"
          }
  
          "RunScript"
          {
            "ScriptFile"  "hero/hero_beastmaster.lua"
            "Function"    "SetUnitsMoveForward"
          }
  
          "ApplyModifier"
          {
            "ModifierName"  "modifier_beastmaster_hawk"
            "Target"    "TARGET"
          }
        }
      }
  
      "SpawnUnit"
      {
        "UnitName"      "npc_dota_beastmaster_hawk_2"
        "Target"
        {
          "Center"        "CASTER"
          "ScriptSelectPoints"
          {
            "ScriptFile"    "hero/hero_beastmaster.lua"
                "Function"      "GetFrontPoint"
            "Target"    "CASTER"
            "Distance"    "%distance"
          }
        }
  
        "UnitCount"     "%hawk_2_count"
        "Duration"      "%hawk_duration"
  
        "GrantsGold"    "1"
        "GrantsXP"      "1"
  
        "OnSpawn"
        {
          "ApplyModifier"
          {
            "ModifierName"  "modifier_phased"
            "Target"    "TARGET"
            "Duration"    "0.03"
          }
  
          "ApplyModifier"
          {
            "ModifierName"  "modifier_beastmaster_hawk"
            "Target"    "TARGET"
          }
  
          "RunScript"
          {
            "ScriptFile"  "hero/hero_beastmaster.lua"
            "Function"    "SetUnitsMoveForward"
          }
        }
      }
  
      "SpawnUnit"
      {
        "UnitName"      "npc_dota_beastmaster_hawk_4"
        "Target"
        {
          "Center"        "CASTER"
          "ScriptSelectPoints"
          {
            "ScriptFile"    "hero/hero_beastmaster.lua"
                "Function"      "GetFrontPoint"
            "Target"    "CASTER"
            "Distance"    "%distance"
          }
        }
  
        "UnitCount"     "%hawk_3_count"
        "Duration"      "%hawk_duration"
  
        "GrantsGold"    "1"
        "GrantsXP"      "1"
  
        "OnSpawn"
        {
          "ApplyModifier"
          {
            "ModifierName"  "modifier_phased"
            "Target"    "TARGET"
            "Duration"    "0.03"
          }
  
          "ApplyModifier"
          {
            "ModifierName"  "modifier_beastmaster_hawk"
            "Target"    "TARGET"
          }
  
          "RunScript"
          {
            "ScriptFile"  "hero/hero_beastmaster.lua"
            "Function"    "SetUnitsMoveForward"
          }
        }
      }
  
      "SpawnUnit"
      {
        "UnitName"      "npc_dota_beastmaster_hawk_4"
        "Target"
        {
          "Center"        "CASTER"
          "ScriptSelectPoints"
          {
            "ScriptFile"    "hero/hero_beastmaster.lua"
                "Function"      "GetFrontPoint"
            "Target"    "CASTER"
            "Distance"    "%distance"
          }
        }
  
        "UnitCount"     "%hawk_4_count"
        "Duration"      "%hawk_duration"
  
        "GrantsGold"    "1"
        "GrantsXP"      "1"
  
        "OnSpawn"
        {
          "ApplyModifier"
          {
            "ModifierName"  "modifier_phased"
            "Target"    "TARGET"
            "Duration"    "0.03"
          }
  
          "ApplyModifier"
          {
            "ModifierName"  "modifier_beastmaster_hawk"
            "Target"    "TARGET"
          }
  
          "RunScript"
          {
            "ScriptFile"  "hero/hero_beastmaster.lua"
            "Function"    "SetUnitsMoveForward"
          }
        }
      }
    }
  
    "Modifiers"
    {
      "modifier_beastmaster_hawk"
      {
        "IsHidden"    "1"
  
        "OnCreated"
        {
          "FireEffect"
          {
            "Target"      "TARGET"
            "EffectName"    "particles/units/heroes/hero_beastmaster/beastmaster_call_bird.vpcf"
            "EffectAttachType"  "follow_origin"
          }
        }
  
        "OnDeath"
        {
          "FireEffect"
          {
            "Target"      
            {
              "Center"  "UNIT"
              "Flags"   "DOTA_UNIT_TARGET_FLAG_DEAD"
            }
            "EffectName"    "particles/units/heroes/hero_lone_druid/lone_druid_spirit_bear_death.vpcf"
            "EffectAttachType"  "follow_origin"
          }
  
          "FireSound"
          {
            "Target"      
            {
              "Center"  "UNIT"
              "Flags"   "DOTA_UNIT_TARGET_FLAG_DEAD"
            }
            "EffectName"  "Hero_Beastmaster_Bird.Death"
          }
        }
      }
    }
  }
  
  
  "imba_beastmaster_greater_boar_poison"
  {
    // General
    //-------------------------------------------------------------------------------------------------------------
    "BaseClass"       "ability_datadriven"
    "AbilityBehavior"       "DOTA_ABILITY_BEHAVIOR_PASSIVE"
    "AbilityUnitDamageType"     "DAMAGE_TYPE_MAGICAL" 
    "SpellImmunityType"       "SPELL_IMMUNITY_ENEMIES_YES"
    
    // Special
    //-------------------------------------------------------------------------------------------------------------
    "AbilitySpecial"
    {
      "01"
      {
        "var_type"        "FIELD_INTEGER"
        "attack_speed"      "-35"
      }
      "02"
      {
        "var_type"        "FIELD_INTEGER"
        "movement_speed"    "-35"
      }
      "03"
      {
        "var_type"        "FIELD_FLOAT"
        "duration"        "3.0"
      }
    }
  }
  
  "imba_beastmaster_hawk_invisibility"
  {
    // General
    //-------------------------------------------------------------------------------------------------------------
    "BaseClass"       "ability_datadriven"
    "AbilityBehavior"       "DOTA_ABILITY_BEHAVIOR_PASSIVE"
    
    // Special
    //-------------------------------------------------------------------------------------------------------------
    "AbilitySpecial"
    {
      "01"
      {
        "var_type"        "FIELD_FLOAT"
        "fade_time"       "1.0"
      }
      "02"
      {
        "var_type"        "FIELD_FLOAT"
        "idle_invis_delay"    "1.0"   // This plus the fade time equal the total time before the hawk goes invis.
      }
    }
  }
  
  // Rewrite of Beastmaster Inner Beast
  // Author: Noya
  // Date: April 5, 2015
  "imba_beastmaster_inner_beast"
  {
    // General
    //-------------------------------------------------------------------------------------------------------------
    "BaseClass"       "ability_datadriven"
    "AbilityBehavior"       "DOTA_ABILITY_BEHAVIOR_PASSIVE | DOTA_ABILITY_BEHAVIOR_AURA"
    "AbilityUnitTargetTeam"     "DOTA_UNIT_TARGET_TEAM_FRIENDLY"
    "AbilityTextureName"      "beastmaster_inner_beast"
  
    // Casting
    "AbilitySpecial"
    {
      "01"
      {
        "var_type"        "FIELD_INTEGER"
        "radius"        "1200"
      }
      "02"
      {
        "var_type"        "FIELD_INTEGER"
        "bonus_attack_speed"  "25 35 45 55"
      }
    }
  
    "Modifiers"
    {
      "modifier_inner_beast"
      {
        "Passive"     "1"
        "IsHidden"      "1"
    
        "Aura"            "modifier_inner_beast_buff"
        "Aura_Radius"     "%radius"
        "Aura_Teams"      "DOTA_UNIT_TARGET_TEAM_FRIENDLY"
        "Aura_Types"      "DOTA_UNIT_TARGET_HERO | DOTA_UNIT_TARGET_BASIC" //mechanical?
        "Aura_Flags"    "DOTA_UNIT_TARGET_FLAG_MAGIC_IMMUNE_ALLIES" //Needed?
      }
  
      "modifier_inner_beast_buff"
      {
        "Properties"
        {
          "MODIFIER_PROPERTY_ATTACKSPEED_BONUS_CONSTANT" "%bonus_attack_speed"
        }
      }
    }
  }
  
  // Rewrite of Beastmaster Primal Roar
  // Author: Noya
  // Date: April 5, 2015
  "imba_beastmaster_primal_roar"
  {
    // General
    //-------------------------------------------------------------------------------------------------------------
    "BaseClass"       "ability_datadriven"
    "AbilityType"         "DOTA_ABILITY_TYPE_ULTIMATE"
    "AbilityBehavior"       "DOTA_ABILITY_BEHAVIOR_UNIT_TARGET"   
    "AbilityUnitTargetTeam"     "DOTA_UNIT_TARGET_TEAM_ENEMY"
    "AbilityUnitTargetType"     "DOTA_UNIT_TARGET_HERO | DOTA_UNIT_TARGET_BASIC"
    "AbilityUnitTargetFlags"    "DOTA_UNIT_TARGET_FLAG_MAGIC_IMMUNE_ENEMIES"
    "SpellImmunityType"       "SPELL_IMMUNITY_ENEMIES_YES"
    "AbilityUnitDamageType"     "DAMAGE_TYPE_MAGICAL" 
    "FightRecapLevel"       "2"
    "AbilityTextureName"      "beastmaster_primal_roar"
  
    // Casting
    //-------------------------------------------------------------------------------------------------------------
    "AbilityCastPoint"        "0.5 0.5 0.5"
  
    // Time   
    //-------------------------------------------------------------------------------------------------------------
    "AbilityCooldown"       "60.0 45.0 40.0"
  
    // Cost
    //-------------------------------------------------------------------------------------------------------------
    "AbilityManaCost"       "150 175 200"   
    
    // Cast Range
    //-------------------------------------------------------------------------------------------------------------
    "AbilityCastRange"        "800"
  
    // Stats
    //-------------------------------------------------------------------------------------------------------------
    "AbilityModifierSupportValue" "0.6" // Applies multiple modifiers
  
    
    // Special
    //-------------------------------------------------------------------------------------------------------------
    "AbilitySpecial"
    {
      "01"
      {
        "var_type"          "FIELD_FLOAT"
        "duration"          "3.0 3.5 4.0"
      }
      "02"
      {
        "var_type"          "FIELD_INTEGER"
        "damage"          "200 250 300"
      }
      "03"
      {
        "var_type"          "FIELD_INTEGER"
        "side_damage"       "200 250 300"
      }
      "04"
      {
        "var_type"          "FIELD_INTEGER"
        "damage_radius"       "1000"
      }
      "05"
      {
        "var_type"          "FIELD_INTEGER"
        "slow_movement_speed_pct" "-50 -50 -50"
      }
      "06"
      {
        "var_type"          "FIELD_INTEGER"
        "slow_attack_speed_pct"   "-50 -50 -50"
      }
      "07"
      {
        "var_type"          "FIELD_INTEGER"
        "push_distance"       "500"
      }
      "08"
      {
        "var_type"          "FIELD_FLOAT"
        "push_duration"       "1.6"
      }
      "09"
      {
        "var_type"          "FIELD_FLOAT"
        "slow_duration"       "2.0 3.0 4.0"
      }
      "10"
      {
        "var_type"          "FIELD_INTEGER"
        "cast_range_scepter"    "1150 1150 1150"
      }
      "11"
      {
        "var_type"          "FIELD_FLOAT"
        "cooldown_scepter"      "45.0 35.0 25.0"
      }
    }
  
    "precache"
    {
      "particle"  "particles/units/heroes/hero_beastmaster/beastmaster_primal_roar.vpcf"
      "particle"  "particles/units/heroes/hero_beastmaster/beastmaster_primal_target.vpcf"
      "soundfile" "soundevents/game_sounds_heroes/game_sounds_beastmaster.vsndevts"
    }
  
    "OnSpellStart"
    {
      "FireEffect"
      {
        "EffectName"        "particles/units/heroes/hero_beastmaster/beastmaster_primal_roar.vpcf"
        "EffectAttachType"  "start_at_customorigin"
        "Target"            "TARGET"
        "ControlPointEntities"
        {
          "CASTER"  "attach_cast4_primal_roar"
          "TARGET"  "attach_hitloc"
        }
      }
  
      "ApplyModifier"
      {
        "ModifierName"  "modifier_primal_roar_stun"
        "Target"    "TARGET"
        "Duration"    "%duration"
      }
  
      "ActOnTargets"
      {
        "Target"
        {
          "Center"    "TARGET"
          "Line"
          {
            "Length"    "800" //THIS IS QUESTIONABLE
            "Thickness"   "%damage_radius"
          }
          "Teams"   "DOTA_UNIT_TARGET_TEAM_ENEMY"
          "Types"   "DOTA_UNIT_TARGET_HERO | DOTA_UNIT_TARGET_BASIC"
        }
      
        "Action"    
        {
          "Knockback"
          {
            "Target"            "TARGET"
            "Center"          "CASTER"
            "Distance"          "%push_distance"
            "Duration"          "%push_duration"
            "Height"          "0"
            "IsFixedDistance" "0"
            "ShouldStun"        "0" 
          }
  
          "Damage"
          {
            "Target"    "TARGET"
            "Type"      "DAMAGE_TYPE_MAGICAL"
            "Damage"    "%damage"
          }
  
          "ApplyModifier"
          {
            "ModifierName"  "modifier_primal_roar_slow"
            "Target"    "TARGET"
            "Duration"    "%slow_duration"
          }
        }
      }
    }
  
    "Modifiers"
    {
      "modifier_primal_roar_stun"
      {
        "IsDebuff"    "1"
        "EffectName"  "particles/generic_gameplay/generic_stunned.vpcf"
        "EffectAttachType"  "follow_overhead"
        "States"
        {
          "MODIFIER_STATE_STUNNED"  "MODIFIER_STATE_VALUE_ENABLED"
        }
      }
  
      "modifier_primal_roar_slow"
      {
        "IsDebuff"    "1"
        "Properties"
        {
          "MODIFIER_PROPERTY_ATTACKSPEED_BONUS_CONSTANT" "%slow_attack_speed_pct"
            "MODIFIER_PROPERTY_MOVESPEED_BONUS_PERCENTAGE" "%slow_movement_speed_pct" 
        }
      }
    }
  }
  
  "imba_beastmaster_wild_axes"
  {
    // General
    //-------------------------------------------------------------------------------------------------------------
    "BaseClass"       "ability_datadriven"
    "AbilityBehavior"       "DOTA_ABILITY_BEHAVIOR_POINT | DOTA_ABILITY_BEHAVIOR_UNIT_TARGET"
    "AbilityUnitTargetTeam"     "DOTA_UNIT_TARGET_TEAM_ENEMY"
    "AbilityUnitTargetType"     "DOTA_UNIT_TARGET_HERO | DOTA_UNIT_TARGET_BASIC | DOTA_UNIT_TARGET_MECHANICAL"
    "AbilityUnitDamageType"     "DAMAGE_TYPE_PHYSICAL"  
    "SpellImmunityType"       "SPELL_IMMUNITY_ENEMIES_YES"
    "FightRecapLevel"       "1"
    "AbilityTextureName"      "beastmaster_wild_axes"
  
    // Casting
    //-------------------------------------------------------------------------------------------------------------
    "AbilityCastRange"        "1300"
    "AbilityCastPoint"        "0.5 0.5 0.5 0.5"
  
    // Time   
    //-------------------------------------------------------------------------------------------------------------
    "AbilityCooldown"       "13.0 13.0 13.0 13.0"
  
    // Damage.
    //-------------------------------------------------------------------------------------------------------------
    "AbilityDamage"         "70 100 130 160"
  
    // Cost
    //-------------------------------------------------------------------------------------------------------------
    "AbilityManaCost"       "120 120 120 120"   
  
    // Special
    //-------------------------------------------------------------------------------------------------------------
    "AbilitySpecial"
    {
      "01"
      {
        "var_type"          "FIELD_INTEGER"
        "radius"          "250 300 450 600"
      }
      "02"
      {
        "var_type"          "FIELD_INTEGER"
        "spread"          "450 500 550 600"
      }
      "03"
      {
        "var_type"          "FIELD_INTEGER"
        "range"           "1500 1500 1500 1500"
      }
      "04"
      {
        "var_type"          "FIELD_INTEGER"
        "damage"           "70 100 130 160"
      }
    }

    "precache"
    {
      "particle"  "particles/econ/generic/generic_aoe_shockwave_1/generic_aoe_shockwave_1.vpcf"
      "soundfile" "soundevents/game_sounds_heroes/game_sounds_beastmaster.vsndevts"
    }

    "OnSpellStart"
    {
      "FireEffect"
      {
        "TargetPoint" "POINT"
        "EffectName" "particles/econ/generic/generic_aoe_shockwave_1/generic_aoe_shockwave_1.vpcf"
        "EffectAttachType" "follow_origin"
        "EffectRadius"    "%radius"
        "EffectDurationScale" "1"
        "EffectLifeDurationScale" "1"
        "EffectColorA" "25 225 100"
        "EffectColorB" "25 225 100"

      }
      "FireSound"
      {
        "EffectName"  "Hero_Beastmaster.Wild_Axes"
        "Target"    "CASTER"
      }
      "ActOnTargets"
      {
        "Target"
        {
          "Center"  "CASTER"
          "Radius"  "%radius"
          "Teams"   "DOTA_UNIT_TARGET_TEAM_ENEMY"
          "Types"   "DOTA_UNIT_TARGET_HERO | DOTA_UNIT_TARGET_BASIC"
        }
        "Action"
        {
          "TrackingProjectile"
          {
            "Target"      "TARGET"
            "Dodgeable"     "0"
            "ProvidesVision"  "0"
            "VisionRadius"    "%radius"
            "EffectName"    "particles/units/heroes/hero_skeletonking/skeletonking_hellfireblast.vpcf"
            "MoveSpeed"     "550"
            "SourceAttachment"  "DOTA_PROJECTILE_ATTACHMENT_ATTACK_1"
          }
        }
      }
    }
    "OnProjectileHitUnit"
    {
      "DeleteOnHit" "1"
      "Damage"
      {
        "Target"    "TARGET"
        "Type"      "DAMAGE_TYPE_MAGICAL"
        "Damage"    "%damage"
      }
      "FireSound"
      {
        "EffectName"  "Hero_Beastmaster.Wild_Axes_Damage"
        "Target"    "CASTER"
      }
    }
  }

  "kotl_lightswitch"
  {
      // General  
      // ----------------------------------------------------------------------------------------
      "BaseClass"              "ability_datadriven"
      "AbilityBehavior"        "DOTA_ABILITY_BEHAVIOR_TOGGLE"
      "AbilityTextureName"     "custom/kotl_lightswitch"
      "AbilityManaCost"        "0"

      "AbilityType"            "DOTA_ABILITY_TYPE_BASIC"
      "MaxLevel"               "4"

      "AbilityCastPoint"       "0.0"

      "AbilitySpecial"
      {
        "01"
        {
          "var_type"      "FIELD_INTEGER"
          "bonus_strength"      "0 5 10 15"
        }
      }

      "OnToggleOn"
      {
       "RunScript"
                 {
                      "ScriptFile"    "hero/hero_kotl/lightswitch.lua"
                      "Function"        "toggleOn"
                 }
      }
      
      "OnToggleOff"
      {
        "RunScript"
                 {
                      "ScriptFile"    "hero/hero_kotl/lightswitch.lua"
                      "Function"        "toggleOff"
                 }
      }

      "Modifiers"
      {
        "modifier_bonus_strength"
        {
          "Passive"     "1"
          "IsHidden"      "1"
          "IsBuff"      "1"
      
          "Properties"
          {
            "MODIFIER_PROPERTY_STATS_STRENGTH_BONUS" "%bonus_strength"
          }
        }
      }
  }


  "kotl_illuminati"
  {
    // General
    //-------------------------------------------------------------------------------------------------------------
    "BaseClass"       "ability_datadriven"
    "AbilityBehavior"       "DOTA_ABILITY_BEHAVIOR_POINT | DOTA_ABILITY_BEHAVIOR_CHANNELLED"
    "AbilityUnitDamageType"     "DAMAGE_TYPE_MAGICAL"
    "AbilityUnitTargetType"     "DOTA_UNIT_TARGET_HERO | DOTA_UNIT_TARGET_BASIC | DOTA_UNIT_TARGET_MECHANICAL"
    "AbilityUnitTargetTeam"     "DOTA_UNIT_TARGET_TEAM_BOTH"  
    "SpellImmunityType"       "SPELL_IMMUNITY_ENEMIES_NO"
    "FightRecapLevel"       "1"
    "AbilityTextureName"      "custom/kotl_illuminati"

    // Precache
    //-------------------------------------------------------------------------------------------------------------
    "precache"
    {
      "soundfile"     "soundevents/game_sounds_heroes/game_sounds_keeper_of_the_light.vsndevts"
      "particle"      "particles/units/heroes/hero_keeper_of_the_light/keeper_of_the_light_illuminate.vpcf"
      "particle"      "particles/units/heroes/hero_keeper_of_the_light/keeper_of_the_light_illuminate_charge.vpcf"
      "particle"      "particles/units/heroes/hero_keeper_of_the_light/keeper_of_the_light_illuminate_impact.vpcf"
      "particle"      "particles/units/heroes/hero_dragon_knight/dragon_knight_breathe_fire.vpcf"
    }

    // Casting
    //-------------------------------------------------------------------------------------------------------------
    "AbilityCastRange"        "1800"
    "AbilityCastPoint"        "0.3 0.3 0.3 0.3"

    // Time   
    //-------------------------------------------------------------------------------------------------------------
    "AbilityCooldown"       "10.0 10.0 10.0 10.0"
    "AbilityChannelTime"      "2.0 3.0 4.0 5.0"

    // Cost
    //-------------------------------------------------------------------------------------------------------------
    "AbilityManaCost"       "150 160 170 180"

    // Special
    //-------------------------------------------------------------------------------------------------------------
    "AbilitySpecial"
    {
      "01"
      {
        "var_type"        "FIELD_FLOAT"
        "damage_per_second"   "100.0 100.0 100.0 100.0"
      }
      "02"
      {
        "var_type"        "FIELD_INTEGER"
        "radius"        "350 350 350 350"
      }
      "03"
      {
        "var_type"        "FIELD_INTEGER"
        "range"         "1550"
      }
      "04"
      {
        "var_type"        "FIELD_FLOAT"
        "speed"         "1050.0"
      }
      "05"
      {
        "var_type"        "FIELD_FLOAT"
        "max_channel_time"    "2.0 3.0 4.0 5.0"
      }
      "06"
      {
        "var_type"        "FIELD_INTEGER"
        "vision_radius"     "800 800 800 800"
      }
      "07"
      {
        "var_type"        "FIELD_FLOAT"
        "vision_duration"   "3.34 3.34 3.34 3.34"
      }
      "08"
      { 
        "var_type"        "FIELD_INTEGER"
        "channel_vision_radius" "350"
      }
      "09"
      { 
        "var_type"          "FIELD_FLOAT"
        "channel_vision_interval" "0.5"
      }
      "10"
      {
        "var_type"          "FIELD_FLOAT"
        "channel_vision_duration" "10.34"
      }
      "11"
      {
        "var_type"          "FIELD_INTEGER"
        "channel_vision_step"   "150"
      }
      "12"
      {
        "var_type"        "FIELD_FLOAT"
        "heal_per_second"   "100.0 100.0 100.0 100.0"
      }
    }

    "OnSpellStart"
    {
      "FireSound"
      {
        "EffectName"  "Hero_KeeperOfTheLight.Illuminate.Charge"
        "Target"    "CASTER"
      }
      
      "RunScript"
      {
        "ScriptFile"  "hero/hero_kotl/illuminati.lua"
        "Function"    "IlluminateStart"
        "sub_ability_name"  "kotl_illuminati_end"
      }

      "ApplyModifier"
      {
        "ModifierName"  "modifier_illuminate_vision_field_timer_datadriven"
        "Target"    "CASTER"
      }       
    }

    "OnUpgrade"
    {
      "RunScript"
      {
        "ScriptFile"  "hero/hero_kotl/illuminati.lua"
        "Function"    "LevelUpAbility"
        "ability_name"  "kotl_illuminati_end"
      }
    }

    "OnChannelFinish"
    {
      "FireSound"
      {
        "EffectName"  "Hero_KeeperOfTheLight.Illuminate.Discharge"
        "Target"    "CASTER"
      }
      
      "RunScript"
      {
        "ScriptFile"  "hero/hero_kotl/illuminati.lua"
        "Function"    "IlluminateEnd"
        "projectile_name"     "particles/units/heroes/hero_dragon_knight/dragon_knight_breathe_fire.vpcf"
      }

      "RunScript"
      {
        "ScriptFile"  "hero/hero_kotl/illuminati.lua"
        "Function"    "IlluminateSwapEnd"
        "sub_ability_name"  "kotl_illuminati_end"
      }

      "RemoveModifier"
      {
        "ModifierName"  "modifier_illuminate_vision_field_timer_datadriven"
        "Target"    "CASTER"
      }   
    }

    "OnProjectileHitUnit"
    {
      "DeleteOnHit" "0"
      "FireSound"
      {
        "EffectName"  "Hero_KeeperOfTheLight.Illuminate.Target"
        "Target"    "TARGET"
      }
      
      "FireEffect"
      {
        "EffectName"        "particles/units/heroes/hero_keeper_of_the_light/keeper_of_the_light_illuminate_impact.vpcf"
        "EffectAttachType"  "follow_origin"
        "Target"            "TARGET"
      }

      "RunScript"
      {
        "ScriptFile"  "hero/hero_kotl/illuminati.lua"
        "Function"    "IlluminateProjectileHit"
      }   
    }
    
    
    
    "Modifiers"
    {
      "modifier_illuminate_vision_field_timer_datadriven"
      {
        "Passive"     "0"
        "IsHidden"      "1"
        "IsDebuff"      "0"
        "IsPurgable"    "0"

        "EffectName"    "particles/units/heroes/hero_keeper_of_the_light/keeper_of_the_light_illuminate_charge.vpcf"
        "EffectAttachType"  "attach_attack1"
    
        "ThinkInterval"  "%channel_vision_interval"
        "OnIntervalThink"
        {
          "RunScript"
          {
            "ScriptFile"  "hero/hero_kotl/illuminati.lua"
            "Function"    "IlluminateVisionFields"
          }       
        }     
      }   
    } 
  }


  "kotl_illuminati_end"
  {
    // General
    //-------------------------------------------------------------------------------------------------------------
    "BaseClass"       "ability_datadriven"
    "AbilityBehavior"       "DOTA_ABILITY_BEHAVIOR_NO_TARGET | DOTA_ABILITY_BEHAVIOR_NOT_LEARNABLE | DOTA_ABILITY_BEHAVIOR_HIDDEN | DOTA_ABILITY_BEHAVIOR_DONT_RESUME_ATTACK"
    "AbilityTextureName"      "keeper_of_the_light_illuminate_end"

    // Casting
    //-------------------------------------------------------------------------------------------------------------
    "AbilityCastPoint"        "0.0 0.0 0.0 0.0"

    "OnSpellStart"
    {
      "RunScript"
      {
        "ScriptFile"  "hero/hero_kotl/illuminati.lua"
        "Function"    "IlluminateStop"
      }
    } 
  }

  "kotl_ambulance"
  {
    // General
    //-------------------------------------------------------------------------------------------------------------
    "BaseClass"       "ability_datadriven"
    "AbilityBehavior"       "DOTA_ABILITY_BEHAVIOR_PASSIVE | DOTA_ABILITY_BEHAVIOR_AURA"
    "AbilityUnitTargetTeam"     "DOTA_UNIT_TARGET_TEAM_FRIENDLY"
    "AbilityUnitTargetType"     "DOTA_UNIT_TARGET_HERO"
    "AbilityTextureName"      "custom/ambulance"

    "AbilityCastRange"          "750 900 1050 1200"

    // Special
    //-------------------------------------------------------------------------------------------------------------
    "AbilitySpecial"
    {
      "01"
      {
        "var_type"          "FIELD_INTEGER"
        "aura_radius"       "750 900 1050 1200"
      }
      "02"
      {
        "var_type"          "FIELD_FLOAT"
        "aura_heal"       "2 3 4 5" 
      }
      "03"
      {
        "var_type"          "FIELD_INTEGER"
        "aura_ms"      "20 40 60 80"
      }
    }

    // Precache
    //-------------------------------------------------------------------------------------------------------------
    "precache"
    {
      "particle"      "particles/econ/courier/courier_golden_roshan/golden_roshan_ambient.vpcf"
      "particle"      "particles/econ/courier/courier_platinum_roshan/platinum_roshan_ambient.vpcf"
    }

    "OnUpgrade"
    {
      "RunScript"
      {
        "ScriptFile"  "hero/hero_kotl/ambulance.lua"
        "Function"    "AmbulanceUpdate"

        "modifier_heal_aura"       "modifier_heal_aura"
        "modifier_ms_aura"       "modifier_ms_aura"
      }
    }

    "Modifiers"
    {
      "modifier_heal_aura"
      {
        "Passive"     "1"
        "Isbuff"      "1"

        "EffectName" "particles/econ/courier/courier_golden_roshan/golden_roshan_ambient.vpcf"
        "EffectAttachType" "follow_origin"
    
        "Aura"        "heal_aura_effect"
        "Aura_Radius" "%aura_radius"
        "Aura_Teams"  "DOTA_UNIT_TARGET_TEAM_FRIENDLY"
        "Aura_Types"  "DOTA_UNIT_TARGET_HERO"
      }

      "heal_aura_effect"
      {
          "Properties" 
          {
              "MODIFIER_PROPERTY_HEALTH_REGEN_CONSTANT" "%aura_heal"
          }
      }

      "modifier_ms_aura"
      {
        "Passive"     "1"
        "Isbuff"      "1"

        "EffectName" "particles/econ/courier/courier_platinum_roshan/platinum_roshan_ambient.vpcf"
        "EffectAttachType" "follow_origin"
      
        "Aura"        "ms_aura_effect"
        "Aura_Radius" "%aura_radius"
        "Aura_Teams"  "DOTA_UNIT_TARGET_TEAM_FRIENDLY"
        "Aura_Types"  "DOTA_UNIT_TARGET_HERO"


      }

      "ms_aura_effect"
      {
          "Properties" 
          {
              "MODIFIER_PROPERTY_MOVESPEED_BONUS_CONSTANT" "%aura_ms"
          }
      }

      "modifier_thinker"
      {
        "Passive"     "1"
        "ThinkInterval"       "1.0"

        "OnIntervalThink"
        {
          "RunScript"
          {
            "ScriptFile"    "hero/hero_kotl/ambulance.lua"
            "Function"      "AmbulanceUpdate"

            "modifier_heal_aura"       "modifier_heal_aura"
            "modifier_ms_aura"       "modifier_ms_aura"
          }
        }
      }
    } 
  }

  "kotl_holylight"
  {
    // General
    //-------------------------------------------------------------------------------------------------------------
    "BaseClass"       "ability_datadriven"
    "AbilityBehavior"       "DOTA_ABILITY_BEHAVIOR_NO_TARGET"
    "AbilityType"                   "DOTA_ABILITY_TYPE_ULTIMATE"
    "AbilityTextureName"      "custom/light"

    "AbilityManaCost"       "100 150 200"

    // Special
    //-------------------------------------------------------------------------------------------------------------
    "AbilitySpecial"
    {
      "01"
      {
        "var_type"          "FIELD_INTEGER"
        "duration"       "10 15 20"
      }
    }

    "OnSpellStart"
    {
      "RunScript"
      {
        "ScriptFile"  "hero/hero_kotl/holylight.lua"
        "Function"    "Allvision"

        "modifier_allvision" "modifier_allvision"
      }
    }

    "Modifiers"
    {
      "modifier_allvision"
      {
        "Passive"     "0"
        "IsHidden"      "0"
        "IsBuff"      "1"
        "Duration"          "%duration"
    
        "Properties"
        {
          "MODIFIER_PROPERTY_BONUS_DAY_VISION"    "30000"
          "MODIFIER_PROPERTY_BONUS_NIGHT_VISION"    "30000"
          //"MODIFIER_PROPERTY_BONUS_VISION_PERCENTAGE" "1000"
          //"MODIFIER_PROPERTY_FIXED_DAY_VISION"    "10000"
          //"MODIFIER_PROPERTY_FIXED_NIGHT_VISION"    "10000"
        }
      }
    }
  }
}


